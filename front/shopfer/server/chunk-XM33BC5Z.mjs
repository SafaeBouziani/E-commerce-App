import './polyfills.server.mjs';
import{$ as jt,$a as qd,A as ot,B as at,C as Me,Ca as sD,D as nt,E as Bo,Ea as UE,F as Qo,Fa,G as wo,Ga as Ni,H as As,Ha as oD,I as su,Ia as OE,J as Kb,K as Pd,Ka as aD,L as ou,La as zr,M as J,Ma as jr,N as j,Na as cD,O as au,Oa as hs,P as ds,Pa as Gd,Q as mn,Qa as Kt,R as Ye,Ra as lD,S as Ma,Sa as uD,T as Be,Ta as AD,U as NE,Ua as dD,V as Vd,W as D,X as R,Xa as hD,Y as z,Z as _E,_ as ME,a as Io,aa as Qe,ab as fD,b as Yb,ba as ct,c as Wr,ca as $b,cb as $t,d as Wb,da as Zb,db as La,e as Jb,ea as F,eb as gD,f as DE,fa as pt,g as TE,ga as cn,h as RE,ha as Xb,i as yo,ia as En,j as ru,ja as Cn,k as zb,ka as In,l as Ld,la as Ir,m as jb,ma as $e,n as xd,na as FE,o as Cr,oa as eD,p as zt,pa as LE,q as Ud,qa as Jr,r as _n,ra as tD,s as Dt,sa as ki,t as kE,ta as nD,u as zn,ua as xE,v as Ke,va as rD,w as Od,x as Tt,xa as iD,y as _a,z as iu}from"./chunk-R3MEB7YP.mjs";import{a as _,b as W,c as N,d as Hb,e as Lt,f as v,h as Fd,i as m,j as bE,k as Ri,l as us,m as Yr}from"./chunk-WUI6SWGE.mjs";var Ze=v((vfe,TT)=>{"use strict";TT.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var Fe=v((Sfe,RT)=>{"use strict";var lt=class extends Error{constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}},SC=class extends lt{constructor(e){super(e),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},bC=class extends lt{constructor(e){super(e),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},DC=class extends lt{constructor(e){super(e),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},TC=class extends lt{constructor(e){super(e),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},RC=class extends lt{constructor(e,t,r,i){super(e),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=t,this.statusCode=t,this.headers=r}},kC=class extends lt{constructor(e){super(e),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},NC=class extends lt{constructor(e){super(e),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},gh=class extends lt{constructor(e){super(e),this.name="AbortError",this.message=e||"The operation was aborted"}},_C=class extends gh{constructor(e){super(e),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}},MC=class extends lt{constructor(e){super(e),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}},FC=class extends lt{constructor(e){super(e),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},LC=class extends lt{constructor(e){super(e),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},xC=class extends lt{constructor(e){super(e),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},UC=class extends lt{constructor(e){super(e),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}},OC=class extends lt{constructor(e,t){super(e),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=t}},PC=class extends lt{constructor(e){super(e),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},VC=class extends lt{constructor(e){super(e),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},GC=class extends Error{constructor(e,t,r){super(e),this.name="HTTPParserError",this.code=t?`HPE_${t}`:void 0,this.data=r?r.toString():void 0}},qC=class extends lt{constructor(e){super(e),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},HC=class extends lt{constructor(e,t,{headers:r,data:i}){super(e),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=t,this.data=i,this.headers=r}},YC=class extends lt{constructor(e,t,r){super(t,_({cause:e},r??{})),this.name="SecureProxyConnectionError",this.message=t||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=e}};RT.exports={AbortError:gh,HTTPParserError:GC,UndiciError:lt,HeadersTimeoutError:bC,HeadersOverflowError:DC,BodyTimeoutError:TC,RequestContentLengthMismatchError:FC,ConnectTimeoutError:SC,ResponseStatusCodeError:RC,InvalidArgumentError:kC,InvalidReturnValueError:NC,RequestAbortedError:_C,ClientDestroyedError:xC,ClientClosedError:UC,InformationalError:MC,SocketError:OC,NotSupportedError:PC,ResponseContentLengthMismatchError:LC,BalancedPoolMissingUpstreamError:VC,ResponseExceededMaxSizeError:qC,RequestRetryError:HC,SecureProxyConnectionError:YC}});var mh=v((Dfe,kT)=>{"use strict";var ph={},WC=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let n=0;n<WC.length;++n){let e=WC[n],t=e.toLowerCase();ph[e]=ph[t]=t}Object.setPrototypeOf(ph,null);kT.exports={wellknownHeaderNames:WC,headerNameLowerCasedRecord:ph}});var FT=v((Tfe,MT)=>{"use strict";var{wellknownHeaderNames:NT,headerNameLowerCasedRecord:o3}=mh(),JC=class n{value=null;left=null;middle=null;right=null;code;constructor(e,t,r){if(r===void 0||r>=e.length)throw new TypeError("Unreachable");if((this.code=e.charCodeAt(r))>127)throw new TypeError("key must be ascii string");e.length!==++r?this.middle=new n(e,t,r):this.value=t}add(e,t){let r=e.length;if(r===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let o=e.charCodeAt(i);if(o>127)throw new TypeError("key must be ascii string");if(s.code===o)if(r===++i){s.value=t;break}else if(s.middle!==null)s=s.middle;else{s.middle=new n(e,t,i);break}else if(s.code<o)if(s.left!==null)s=s.left;else{s.left=new n(e,t,i);break}else if(s.right!==null)s=s.right;else{s.right=new n(e,t,i);break}}}search(e){let t=e.length,r=0,i=this;for(;i!==null&&r<t;){let s=e[r];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(t===++r)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},Eh=class{node=null;insert(e,t){this.node===null?this.node=new JC(e,t,0):this.node.add(e,t)}lookup(e){return this.node?.search(e)?.value??null}},_T=new Eh;for(let n=0;n<NT.length;++n){let e=o3[NT[n]];_T.insert(e,e)}MT.exports={TernarySearchTree:Eh,tree:_T}});var me=v((Rfe,$T)=>{"use strict";var yu=N("assert"),{kDestroyed:xT,kBodyUsed:Za,kListeners:zC,kBody:LT}=Ze(),{IncomingMessage:a3}=N("http"),yh=N("stream"),c3=N("net"),{Blob:l3}=N("buffer"),u3=N("util"),{stringify:A3}=N("querystring"),{EventEmitter:d3}=N("events"),{InvalidArgumentError:xt}=Fe(),{headerNameLowerCasedRecord:h3}=mh(),{tree:UT}=FT(),[f3,g3]=process.versions.node.split(".").map(n=>Number(n)),Ih=class{constructor(e){this[LT]=e,this[Za]=!1}[Symbol.asyncIterator](){return Ri(this,null,function*(){yu(!this[Za],"disturbed"),this[Za]=!0,yield*us(this[LT])})}};function p3(n){return Bh(n)?(qT(n)===0&&n.on("data",function(){yu(!1)}),typeof n.readableDidRead!="boolean"&&(n[Za]=!1,d3.prototype.on.call(n,"data",function(){this[Za]=!0})),n):n&&typeof n.pipeTo=="function"?new Ih(n):n&&typeof n!="string"&&!ArrayBuffer.isView(n)&&GT(n)?new Ih(n):n}function m3(){}function Bh(n){return n&&typeof n=="object"&&typeof n.pipe=="function"&&typeof n.on=="function"}function OT(n){if(n===null)return!1;if(n instanceof l3)return!0;if(typeof n!="object")return!1;{let e=n[Symbol.toStringTag];return(e==="Blob"||e==="File")&&("stream"in n&&typeof n.stream=="function"||"arrayBuffer"in n&&typeof n.arrayBuffer=="function")}}function E3(n,e){if(n.includes("?")||n.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let t=A3(e);return t&&(n+="?"+t),n}function PT(n){let e=parseInt(n,10);return e===Number(n)&&e>=0&&e<=65535}function Ch(n){return n!=null&&n[0]==="h"&&n[1]==="t"&&n[2]==="t"&&n[3]==="p"&&(n[4]===":"||n[4]==="s"&&n[5]===":")}function VT(n){if(typeof n=="string"){if(n=new URL(n),!Ch(n.origin||n.protocol))throw new xt("Invalid URL protocol: the URL must start with `http:` or `https:`.");return n}if(!n||typeof n!="object")throw new xt("Invalid URL: The URL argument must be a non-null object.");if(!(n instanceof URL)){if(n.port!=null&&n.port!==""&&PT(n.port)===!1)throw new xt("Invalid URL: port must be a valid integer or a string representation of an integer.");if(n.path!=null&&typeof n.path!="string")throw new xt("Invalid URL path: the path must be a string or null/undefined.");if(n.pathname!=null&&typeof n.pathname!="string")throw new xt("Invalid URL pathname: the pathname must be a string or null/undefined.");if(n.hostname!=null&&typeof n.hostname!="string")throw new xt("Invalid URL hostname: the hostname must be a string or null/undefined.");if(n.origin!=null&&typeof n.origin!="string")throw new xt("Invalid URL origin: the origin must be a string or null/undefined.");if(!Ch(n.origin||n.protocol))throw new xt("Invalid URL protocol: the URL must start with `http:` or `https:`.");let e=n.port!=null?n.port:n.protocol==="https:"?443:80,t=n.origin!=null?n.origin:`${n.protocol||""}//${n.hostname||""}:${e}`,r=n.path!=null?n.path:`${n.pathname||""}${n.search||""}`;return t[t.length-1]==="/"&&(t=t.slice(0,t.length-1)),r&&r[0]!=="/"&&(r=`/${r}`),new URL(`${t}${r}`)}if(!Ch(n.origin||n.protocol))throw new xt("Invalid URL protocol: the URL must start with `http:` or `https:`.");return n}function C3(n){if(n=VT(n),n.pathname!=="/"||n.search||n.hash)throw new xt("invalid url");return n}function I3(n){if(n[0]==="["){let t=n.indexOf("]");return yu(t!==-1),n.substring(1,t)}let e=n.indexOf(":");return e===-1?n:n.substring(0,e)}function y3(n){if(!n)return null;yu.strictEqual(typeof n,"string");let e=I3(n);return c3.isIP(e)?"":e}function B3(n){return JSON.parse(JSON.stringify(n))}function Q3(n){return n!=null&&typeof n[Symbol.asyncIterator]=="function"}function GT(n){return n!=null&&(typeof n[Symbol.iterator]=="function"||typeof n[Symbol.asyncIterator]=="function")}function qT(n){if(n==null)return 0;if(Bh(n)){let e=n._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(OT(n))return n.size!=null?n.size:null;if(WT(n))return n.byteLength}return null}function HT(n){return n&&!!(n.destroyed||n[xT]||yh.isDestroyed?.(n))}function w3(n,e){n==null||!Bh(n)||HT(n)||(typeof n.destroy=="function"?(Object.getPrototypeOf(n).constructor===a3&&(n.socket=null),n.destroy(e)):e&&queueMicrotask(()=>{n.emit("error",e)}),n.destroyed!==!0&&(n[xT]=!0))}var v3=/timeout=(\d+)/;function S3(n){let e=n.toString().match(v3);return e?parseInt(e[1],10)*1e3:null}function YT(n){return typeof n=="string"?h3[n]??n.toLowerCase():UT.lookup(n)??n.toString("latin1").toLowerCase()}function b3(n){return UT.lookup(n)??n.toString("latin1").toLowerCase()}function D3(n,e){e===void 0&&(e={});for(let t=0;t<n.length;t+=2){let r=YT(n[t]),i=e[r];if(i)typeof i=="string"&&(i=[i],e[r]=i),i.push(n[t+1].toString("utf8"));else{let s=n[t+1];typeof s=="string"?e[r]=s:e[r]=Array.isArray(s)?s.map(o=>o.toString("utf8")):s.toString("utf8")}}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}function T3(n){let e=n.length,t=new Array(e),r=!1,i=-1,s,o,a=0;for(let c=0;c<n.length;c+=2)s=n[c],o=n[c+1],typeof s!="string"&&(s=s.toString()),typeof o!="string"&&(o=o.toString("utf8")),a=s.length,a===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?r=!0:a===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=c+1),t[c]=s,t[c+1]=o;return r&&i!==-1&&(t[i]=Buffer.from(t[i]).toString("latin1")),t}function WT(n){return n instanceof Uint8Array||Buffer.isBuffer(n)}function R3(n,e,t){if(!n||typeof n!="object")throw new xt("handler must be an object");if(typeof n.onConnect!="function")throw new xt("invalid onConnect method");if(typeof n.onError!="function")throw new xt("invalid onError method");if(typeof n.onBodySent!="function"&&n.onBodySent!==void 0)throw new xt("invalid onBodySent method");if(t||e==="CONNECT"){if(typeof n.onUpgrade!="function")throw new xt("invalid onUpgrade method")}else{if(typeof n.onHeaders!="function")throw new xt("invalid onHeaders method");if(typeof n.onData!="function")throw new xt("invalid onData method");if(typeof n.onComplete!="function")throw new xt("invalid onComplete method")}}function k3(n){return!!(n&&(yh.isDisturbed(n)||n[Za]))}function N3(n){return!!(n&&yh.isErrored(n))}function _3(n){return!!(n&&yh.isReadable(n))}function M3(n){return{localAddress:n.localAddress,localPort:n.localPort,remoteAddress:n.remoteAddress,remotePort:n.remotePort,remoteFamily:n.remoteFamily,timeout:n.timeout,bytesWritten:n.bytesWritten,bytesRead:n.bytesRead}}function F3(n){let e;return new ReadableStream({start(){return m(this,null,function*(){e=n[Symbol.asyncIterator]()})},pull(r){return m(this,null,function*(){let{done:i,value:s}=yield e.next();if(i)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let o=Buffer.isBuffer(s)?s:Buffer.from(s);o.byteLength&&r.enqueue(new Uint8Array(o))}return r.desiredSize>0})},cancel(r){return m(this,null,function*(){yield e.return()})},type:"bytes"})}function L3(n){return n&&typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&n[Symbol.toStringTag]==="FormData"}function x3(n,e){return"addEventListener"in n?(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)):(n.addListener("abort",e),()=>n.removeListener("abort",e))}var U3=typeof String.prototype.toWellFormed=="function",O3=typeof String.prototype.isWellFormed=="function";function JT(n){return U3?`${n}`.toWellFormed():u3.toUSVString(n)}function P3(n){return O3?`${n}`.isWellFormed():JT(n)===`${n}`}function zT(n){switch(n){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return n>=33&&n<=126}}function V3(n){if(n.length===0)return!1;for(let e=0;e<n.length;++e)if(!zT(n.charCodeAt(e)))return!1;return!0}var G3=/[^\t\x20-\x7e\x80-\xff]/;function q3(n){return!G3.test(n)}function H3(n){if(n==null||n==="")return{start:0,end:null,size:null};let e=n?n.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}function Y3(n,e,t){return(n[zC]??=[]).push([e,t]),n.on(e,t),n}function W3(n){for(let[e,t]of n[zC]??[])n.removeListener(e,t);n[zC]=null}function J3(n,e,t){try{e.onError(t),yu(e.aborted)}catch(r){n.emit("error",r)}}var jT=Object.create(null);jT.enumerable=!0;var jC={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},KT=W(_({},jC),{patch:"patch",PATCH:"PATCH"});Object.setPrototypeOf(jC,null);Object.setPrototypeOf(KT,null);$T.exports={kEnumerableProperty:jT,nop:m3,isDisturbed:k3,isErrored:N3,isReadable:_3,toUSVString:JT,isUSVString:P3,isBlobLike:OT,parseOrigin:C3,parseURL:VT,getServerName:y3,isStream:Bh,isIterable:GT,isAsyncIterable:Q3,isDestroyed:HT,headerNameToString:YT,bufferToLowerCasedHeaderName:b3,addListener:Y3,removeAllListeners:W3,errorRequest:J3,parseRawHeaders:T3,parseHeaders:D3,parseKeepAliveTimeout:S3,destroy:w3,bodyLength:qT,deepClone:B3,ReadableStreamFrom:F3,isBuffer:WT,validateHandler:R3,getSocketInfo:M3,isFormDataLike:L3,buildURL:E3,addAbortListener:x3,isValidHTTPToken:V3,isValidHeaderValue:q3,isTokenCharCode:zT,parseRangeHeader:H3,normalizedMethodRecordsBase:jC,normalizedMethodRecords:KT,isValidPort:PT,isHttpOrHttpsPrefixed:Ch,nodeMajor:f3,nodeMinor:g3,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:p3}});var Xa=v((Nfe,XT)=>{"use strict";var Le=N("diagnostics_channel"),$C=N("util"),Qh=$C.debuglog("undici"),KC=$C.debuglog("fetch"),_o=$C.debuglog("websocket"),ZT=!1,z3={beforeConnect:Le.channel("undici:client:beforeConnect"),connected:Le.channel("undici:client:connected"),connectError:Le.channel("undici:client:connectError"),sendHeaders:Le.channel("undici:client:sendHeaders"),create:Le.channel("undici:request:create"),bodySent:Le.channel("undici:request:bodySent"),headers:Le.channel("undici:request:headers"),trailers:Le.channel("undici:request:trailers"),error:Le.channel("undici:request:error"),open:Le.channel("undici:websocket:open"),close:Le.channel("undici:websocket:close"),socketError:Le.channel("undici:websocket:socket_error"),ping:Le.channel("undici:websocket:ping"),pong:Le.channel("undici:websocket:pong")};if(Qh.enabled||KC.enabled){let n=KC.enabled?KC:Qh;Le.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s}}=e;n("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,r,t)}),Le.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s}}=e;n("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,r,t)}),Le.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s},error:o}=e;n("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,r,t,o.message)}),Le.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:t,path:r,origin:i}}=e;n("sending request to %s %s/%s",t,i,r)}),Le.channel("undici:request:headers").subscribe(e=>{let{request:{method:t,path:r,origin:i},response:{statusCode:s}}=e;n("received response to %s %s/%s - HTTP %d",t,i,r,s)}),Le.channel("undici:request:trailers").subscribe(e=>{let{request:{method:t,path:r,origin:i}}=e;n("trailers received from %s %s/%s",t,i,r)}),Le.channel("undici:request:error").subscribe(e=>{let{request:{method:t,path:r,origin:i},error:s}=e;n("request to %s %s/%s errored - %s",t,i,r,s.message)}),ZT=!0}if(_o.enabled){if(!ZT){let n=Qh.enabled?Qh:_o;Le.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s}}=e;n("connecting to %s%s using %s%s",s,i?`:${i}`:"",r,t)}),Le.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s}}=e;n("connected to %s%s using %s%s",s,i?`:${i}`:"",r,t)}),Le.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s},error:o}=e;n("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",r,t,o.message)}),Le.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:t,path:r,origin:i}}=e;n("sending request to %s %s/%s",t,i,r)})}Le.channel("undici:websocket:open").subscribe(n=>{let{address:{address:e,port:t}}=n;_o("connection opened %s%s",e,t?`:${t}`:"")}),Le.channel("undici:websocket:close").subscribe(n=>{let{websocket:e,code:t,reason:r}=n;_o("closed connection to %s - %s %s",e.url,t,r)}),Le.channel("undici:websocket:socket_error").subscribe(n=>{_o("connection errored - %s",n.message)}),Le.channel("undici:websocket:ping").subscribe(n=>{_o("ping received")}),Le.channel("undici:websocket:pong").subscribe(n=>{_o("pong received")})}XT.exports={channels:z3}});var iR=v((_fe,rR)=>{"use strict";var{InvalidArgumentError:rt,NotSupportedError:j3}=Fe(),Ui=N("assert"),{isValidHTTPToken:nR,isValidHeaderValue:eR,isStream:K3,destroy:$3,isBuffer:Z3,isFormDataLike:X3,isIterable:eY,isBlobLike:tY,buildURL:nY,validateHandler:rY,getServerName:iY,normalizedMethodRecords:sY}=me(),{channels:Zr}=Xa(),{headerNameLowerCasedRecord:tR}=mh(),oY=/[^\u0021-\u00ff]/,Zn=Symbol("handler"),ZC=class{constructor(e,{path:t,method:r,body:i,headers:s,query:o,idempotent:a,blocking:c,upgrade:l,headersTimeout:u,bodyTimeout:A,reset:d,throwOnError:f,expectContinue:Q,servername:C},I){if(typeof t!="string")throw new rt("path must be a string");if(t[0]!=="/"&&!(t.startsWith("http://")||t.startsWith("https://"))&&r!=="CONNECT")throw new rt("path must be an absolute URL or start with a slash");if(oY.test(t))throw new rt("invalid request path");if(typeof r!="string")throw new rt("method must be a string");if(sY[r]===void 0&&!nR(r))throw new rt("invalid request method");if(l&&typeof l!="string")throw new rt("upgrade must be a string");if(u!=null&&(!Number.isFinite(u)||u<0))throw new rt("invalid headersTimeout");if(A!=null&&(!Number.isFinite(A)||A<0))throw new rt("invalid bodyTimeout");if(d!=null&&typeof d!="boolean")throw new rt("invalid reset");if(Q!=null&&typeof Q!="boolean")throw new rt("invalid expectContinue");if(this.headersTimeout=u,this.bodyTimeout=A,this.throwOnError=f===!0,this.method=r,this.abort=null,i==null)this.body=null;else if(K3(i)){this.body=i;let S=this.body._readableState;(!S||!S.autoDestroy)&&(this.endHandler=function(){$3(this)},this.body.on("end",this.endHandler)),this.errorHandler=b=>{this.abort?this.abort(b):this.error=b},this.body.on("error",this.errorHandler)}else if(Z3(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(X3(i)||eY(i)||tY(i))this.body=i;else throw new rt("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=l||null,this.path=o?nY(t,o):t,this.origin=e,this.idempotent=a??(r==="HEAD"||r==="GET"),this.blocking=c??!1,this.reset=d??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=Q??!1,Array.isArray(s)){if(s.length%2!==0)throw new rt("headers array must be even");for(let S=0;S<s.length;S+=2)wh(this,s[S],s[S+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let S of s){if(!Array.isArray(S)||S.length!==2)throw new rt("headers must be in key-value pair format");wh(this,S[0],S[1])}else{let S=Object.keys(s);for(let b=0;b<S.length;++b)wh(this,S[b],s[S[b]])}else if(s!=null)throw new rt("headers must be an object or an array");rY(I,r,l),this.servername=C||iY(this.host),this[Zn]=I,Zr.create.hasSubscribers&&Zr.create.publish({request:this})}onBodySent(e){if(this[Zn].onBodySent)try{return this[Zn].onBodySent(e)}catch(t){this.abort(t)}}onRequestSent(){if(Zr.bodySent.hasSubscribers&&Zr.bodySent.publish({request:this}),this[Zn].onRequestSent)try{return this[Zn].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(Ui(!this.aborted),Ui(!this.completed),this.error)e(this.error);else return this.abort=e,this[Zn].onConnect(e)}onResponseStarted(){return this[Zn].onResponseStarted?.()}onHeaders(e,t,r,i){Ui(!this.aborted),Ui(!this.completed),Zr.headers.hasSubscribers&&Zr.headers.publish({request:this,response:{statusCode:e,headers:t,statusText:i}});try{return this[Zn].onHeaders(e,t,r,i)}catch(s){this.abort(s)}}onData(e){Ui(!this.aborted),Ui(!this.completed);try{return this[Zn].onData(e)}catch(t){return this.abort(t),!1}}onUpgrade(e,t,r){return Ui(!this.aborted),Ui(!this.completed),this[Zn].onUpgrade(e,t,r)}onComplete(e){this.onFinally(),Ui(!this.aborted),this.completed=!0,Zr.trailers.hasSubscribers&&Zr.trailers.publish({request:this,trailers:e});try{return this[Zn].onComplete(e)}catch(t){this.onError(t)}}onError(e){if(this.onFinally(),Zr.error.hasSubscribers&&Zr.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[Zn].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,t){return wh(this,e,t),this}};function wh(n,e,t){if(t&&typeof t=="object"&&!Array.isArray(t))throw new rt(`invalid ${e} header`);if(t===void 0)return;let r=tR[e];if(r===void 0&&(r=e.toLowerCase(),tR[r]===void 0&&!nR(r)))throw new rt("invalid header key");if(Array.isArray(t)){let i=[];for(let s=0;s<t.length;s++)if(typeof t[s]=="string"){if(!eR(t[s]))throw new rt(`invalid ${e} header`);i.push(t[s])}else if(t[s]===null)i.push("");else{if(typeof t[s]=="object")throw new rt(`invalid ${e} header`);i.push(`${t[s]}`)}t=i}else if(typeof t=="string"){if(!eR(t))throw new rt(`invalid ${e} header`)}else t===null?t="":t=`${t}`;if(n.host===null&&r==="host"){if(typeof t!="string")throw new rt("invalid host header");n.host=t}else if(n.contentLength===null&&r==="content-length"){if(n.contentLength=parseInt(t,10),!Number.isFinite(n.contentLength))throw new rt("invalid content-length header")}else if(n.contentType===null&&r==="content-type")n.contentType=t,n.headers.push(e,t);else{if(r==="transfer-encoding"||r==="keep-alive"||r==="upgrade")throw new rt(`invalid ${r} header`);if(r==="connection"){let i=typeof t=="string"?t.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new rt("invalid connection header");i==="close"&&(n.reset=!0)}else{if(r==="expect")throw new j3("expect header not supported");n.headers.push(e,t)}}}rR.exports=ZC});var Bu=v((Mfe,sR)=>{"use strict";var aY=N("events"),vh=class extends aY{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...e){let t=Array.isArray(e[0])?e[0]:e,r=this.dispatch.bind(this);for(let i of t)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(r=i(r),r==null||typeof r!="function"||r.length!==2)throw new TypeError("invalid interceptor")}return new XC(this,r)}},XC=class extends vh{#e=null;#t=null;constructor(e,t){super(),this.#e=e,this.#t=t}dispatch(...e){this.#t(...e)}close(...e){return this.#e.close(...e)}destroy(...e){return this.#e.destroy(...e)}};sR.exports=vh});var rc=v((Ffe,oR)=>{"use strict";var cY=Bu(),{ClientDestroyedError:eI,ClientClosedError:lY,InvalidArgumentError:ec}=Fe(),{kDestroy:uY,kClose:AY,kClosed:Qu,kDestroyed:tc,kDispatch:tI,kInterceptors:Mo}=Ze(),Oi=Symbol("onDestroyed"),nc=Symbol("onClosed"),Sh=Symbol("Intercepted Dispatch"),nI=class extends cY{constructor(){super(),this[tc]=!1,this[Oi]=null,this[Qu]=!1,this[nc]=[]}get destroyed(){return this[tc]}get closed(){return this[Qu]}get interceptors(){return this[Mo]}set interceptors(e){if(e){for(let t=e.length-1;t>=0;t--)if(typeof this[Mo][t]!="function")throw new ec("interceptor must be an function")}this[Mo]=e}close(e){if(e===void 0)return new Promise((r,i)=>{this.close((s,o)=>s?i(s):r(o))});if(typeof e!="function")throw new ec("invalid callback");if(this[tc]){queueMicrotask(()=>e(new eI,null));return}if(this[Qu]){this[nc]?this[nc].push(e):queueMicrotask(()=>e(null,null));return}this[Qu]=!0,this[nc].push(e);let t=()=>{let r=this[nc];this[nc]=null;for(let i=0;i<r.length;i++)r[i](null,null)};this[AY]().then(()=>this.destroy()).then(()=>{queueMicrotask(t)})}destroy(e,t){if(typeof e=="function"&&(t=e,e=null),t===void 0)return new Promise((i,s)=>{this.destroy(e,(o,a)=>o?s(o):i(a))});if(typeof t!="function")throw new ec("invalid callback");if(this[tc]){this[Oi]?this[Oi].push(t):queueMicrotask(()=>t(null,null));return}e||(e=new eI),this[tc]=!0,this[Oi]=this[Oi]||[],this[Oi].push(t);let r=()=>{let i=this[Oi];this[Oi]=null;for(let s=0;s<i.length;s++)i[s](null,null)};this[uY](e).then(()=>{queueMicrotask(r)})}[Sh](e,t){if(!this[Mo]||this[Mo].length===0)return this[Sh]=this[tI],this[tI](e,t);let r=this[tI].bind(this);for(let i=this[Mo].length-1;i>=0;i--)r=this[Mo][i](r);return this[Sh]=r,r(e,t)}dispatch(e,t){if(!t||typeof t!="object")throw new ec("handler must be an object");try{if(!e||typeof e!="object")throw new ec("opts must be an object.");if(this[tc]||this[Oi])throw new eI;if(this[Qu])throw new lY;return this[Sh](e,t)}catch(r){if(typeof t.onError!="function")throw new ec("invalid onError method");return t.onError(r),!1}}};oR.exports=nI});var wu=v((Ufe,lR)=>{"use strict";var dY=N("net"),aR=N("assert"),cR=me(),{InvalidArgumentError:hY,ConnectTimeoutError:fY}=Fe(),rI,iI;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?iI=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(t=>{if(this._sessionCache.size<this._maxCachedSessions)return;let r=this._sessionCache.get(t);r!==void 0&&r.deref()===void 0&&this._sessionCache.delete(t)})}get(e){let t=this._sessionCache.get(e);return t?t.deref():null}set(e,t){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(t)),this._sessionRegistry.register(t,e))}}:iI=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,t){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:r}=this._sessionCache.keys().next();this._sessionCache.delete(r)}this._sessionCache.set(e,t)}}};function gY(o){var a=o,{allowH2:n,maxCachedSessions:e,socketPath:t,timeout:r,session:i}=a,s=Lt(a,["allowH2","maxCachedSessions","socketPath","timeout","session"]);if(e!=null&&(!Number.isInteger(e)||e<0))throw new hY("maxCachedSessions must be a positive integer or zero");let c=_({path:t},s),l=new iI(e??100);return r=r??1e4,n=n??!1,function({hostname:A,host:d,protocol:f,port:Q,servername:C,localAddress:I,httpSocket:S},b){let M;if(f==="https:"){rI||(rI=N("tls")),C=C||c.servername||cR.getServerName(d)||null;let O=C||A,q=i||l.get(O)||null;aR(O),M=rI.connect(W(_({highWaterMark:16384},c),{servername:C,session:q,localAddress:I,ALPNProtocols:n?["http/1.1","h2"]:["http/1.1"],socket:S,port:Q||443,host:A})),M.on("session",function(B){l.set(O,B)})}else aR(!S,"httpSocket can only be sent on TLS update"),M=dY.connect(W(_({highWaterMark:64*1024},c),{localAddress:I,port:Q||80,host:A}));if(c.keepAlive==null||c.keepAlive){let O=c.keepAliveInitialDelay===void 0?6e4:c.keepAliveInitialDelay;M.setKeepAlive(!0,O)}let k=pY(()=>mY(M),r);return M.setNoDelay(!0).once(f==="https:"?"secureConnect":"connect",function(){if(k(),b){let O=b;b=null,O(null,this)}}).on("error",function(O){if(k(),b){let q=b;b=null,q(O)}}),M}}function pY(n,e){if(!e)return()=>{};let t=null,r=null,i=setTimeout(()=>{t=setImmediate(()=>{process.platform==="win32"?r=setImmediate(()=>n()):n()})},e);return()=>{clearTimeout(i),clearImmediate(t),clearImmediate(r)}}function mY(n){let e="Connect Timeout Error";Array.isArray(n.autoSelectFamilyAttemptedAddresses)&&(e+=` (attempted addresses: ${n.autoSelectFamilyAttemptedAddresses.join(", ")})`),cR.destroy(n,new fY(e))}lR.exports=gY});var dR=v((Pfe,AR)=>{"use strict";var sI=Date.now(),Fo,ys=[];function EY(){sI=Date.now();let n=ys.length,e=0;for(;e<n;){let t=ys[e];t.state===0?t.state=sI+t.delay-499:t.state>0&&sI>=t.state&&(t.state=-1,t.callback(t.opaque)),t.state===-1?(t.state=-2,e!==n-1?ys[e]=ys.pop():ys.pop(),n-=1):e+=1}ys.length>0&&uR()}function uR(){Fo?.refresh?Fo.refresh():(clearTimeout(Fo),Fo=setTimeout(EY,499),Fo.unref&&Fo.unref())}var bh=class{constructor(e,t,r){this.callback=e,this.delay=t,this.opaque=r,this.state=-2,this.refresh()}refresh(){this.state===-2&&(ys.push(this),(!Fo||ys.length===1)&&uR()),this.state=0}clear(){this.state=-1}};AR.exports={setTimeout(n,e,t){return e<=1e3?setTimeout(n,e,t):new bh(n,e,t)},clearTimeout(n){n instanceof bh?n.clear():clearTimeout(n)}}});var hR=v(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.enumToMap=void 0;function CY(n){let e={};return Object.keys(n).forEach(t=>{let r=n[t];typeof r=="number"&&(e[t]=r)}),e}Dh.enumToMap=CY});var fR=v(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.SPECIAL_HEADERS=G.HEADER_STATE=G.MINOR=G.MAJOR=G.CONNECTION_TOKEN_CHARS=G.HEADER_CHARS=G.TOKEN=G.STRICT_TOKEN=G.HEX=G.URL_CHAR=G.STRICT_URL_CHAR=G.USERINFO_CHARS=G.MARK=G.ALPHANUM=G.NUM=G.HEX_MAP=G.NUM_MAP=G.ALPHA=G.FINISH=G.H_METHOD_MAP=G.METHOD_MAP=G.METHODS_RTSP=G.METHODS_ICE=G.METHODS_HTTP=G.METHODS=G.LENIENT_FLAGS=G.FLAGS=G.TYPE=G.ERROR=void 0;var IY=hR(),yY;(function(n){n[n.OK=0]="OK",n[n.INTERNAL=1]="INTERNAL",n[n.STRICT=2]="STRICT",n[n.LF_EXPECTED=3]="LF_EXPECTED",n[n.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",n[n.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",n[n.INVALID_METHOD=6]="INVALID_METHOD",n[n.INVALID_URL=7]="INVALID_URL",n[n.INVALID_CONSTANT=8]="INVALID_CONSTANT",n[n.INVALID_VERSION=9]="INVALID_VERSION",n[n.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",n[n.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",n[n.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",n[n.INVALID_STATUS=13]="INVALID_STATUS",n[n.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",n[n.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",n[n.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",n[n.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",n[n.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",n[n.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",n[n.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",n[n.PAUSED=21]="PAUSED",n[n.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",n[n.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",n[n.USER=24]="USER"})(yY=G.ERROR||(G.ERROR={}));var BY;(function(n){n[n.BOTH=0]="BOTH",n[n.REQUEST=1]="REQUEST",n[n.RESPONSE=2]="RESPONSE"})(BY=G.TYPE||(G.TYPE={}));var QY;(function(n){n[n.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",n[n.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",n[n.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",n[n.CHUNKED=8]="CHUNKED",n[n.UPGRADE=16]="UPGRADE",n[n.CONTENT_LENGTH=32]="CONTENT_LENGTH",n[n.SKIPBODY=64]="SKIPBODY",n[n.TRAILING=128]="TRAILING",n[n.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(QY=G.FLAGS||(G.FLAGS={}));var wY;(function(n){n[n.HEADERS=1]="HEADERS",n[n.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",n[n.KEEP_ALIVE=4]="KEEP_ALIVE"})(wY=G.LENIENT_FLAGS||(G.LENIENT_FLAGS={}));var re;(function(n){n[n.DELETE=0]="DELETE",n[n.GET=1]="GET",n[n.HEAD=2]="HEAD",n[n.POST=3]="POST",n[n.PUT=4]="PUT",n[n.CONNECT=5]="CONNECT",n[n.OPTIONS=6]="OPTIONS",n[n.TRACE=7]="TRACE",n[n.COPY=8]="COPY",n[n.LOCK=9]="LOCK",n[n.MKCOL=10]="MKCOL",n[n.MOVE=11]="MOVE",n[n.PROPFIND=12]="PROPFIND",n[n.PROPPATCH=13]="PROPPATCH",n[n.SEARCH=14]="SEARCH",n[n.UNLOCK=15]="UNLOCK",n[n.BIND=16]="BIND",n[n.REBIND=17]="REBIND",n[n.UNBIND=18]="UNBIND",n[n.ACL=19]="ACL",n[n.REPORT=20]="REPORT",n[n.MKACTIVITY=21]="MKACTIVITY",n[n.CHECKOUT=22]="CHECKOUT",n[n.MERGE=23]="MERGE",n[n["M-SEARCH"]=24]="M-SEARCH",n[n.NOTIFY=25]="NOTIFY",n[n.SUBSCRIBE=26]="SUBSCRIBE",n[n.UNSUBSCRIBE=27]="UNSUBSCRIBE",n[n.PATCH=28]="PATCH",n[n.PURGE=29]="PURGE",n[n.MKCALENDAR=30]="MKCALENDAR",n[n.LINK=31]="LINK",n[n.UNLINK=32]="UNLINK",n[n.SOURCE=33]="SOURCE",n[n.PRI=34]="PRI",n[n.DESCRIBE=35]="DESCRIBE",n[n.ANNOUNCE=36]="ANNOUNCE",n[n.SETUP=37]="SETUP",n[n.PLAY=38]="PLAY",n[n.PAUSE=39]="PAUSE",n[n.TEARDOWN=40]="TEARDOWN",n[n.GET_PARAMETER=41]="GET_PARAMETER",n[n.SET_PARAMETER=42]="SET_PARAMETER",n[n.REDIRECT=43]="REDIRECT",n[n.RECORD=44]="RECORD",n[n.FLUSH=45]="FLUSH"})(re=G.METHODS||(G.METHODS={}));G.METHODS_HTTP=[re.DELETE,re.GET,re.HEAD,re.POST,re.PUT,re.CONNECT,re.OPTIONS,re.TRACE,re.COPY,re.LOCK,re.MKCOL,re.MOVE,re.PROPFIND,re.PROPPATCH,re.SEARCH,re.UNLOCK,re.BIND,re.REBIND,re.UNBIND,re.ACL,re.REPORT,re.MKACTIVITY,re.CHECKOUT,re.MERGE,re["M-SEARCH"],re.NOTIFY,re.SUBSCRIBE,re.UNSUBSCRIBE,re.PATCH,re.PURGE,re.MKCALENDAR,re.LINK,re.UNLINK,re.PRI,re.SOURCE];G.METHODS_ICE=[re.SOURCE];G.METHODS_RTSP=[re.OPTIONS,re.DESCRIBE,re.ANNOUNCE,re.SETUP,re.PLAY,re.PAUSE,re.TEARDOWN,re.GET_PARAMETER,re.SET_PARAMETER,re.REDIRECT,re.RECORD,re.FLUSH,re.GET,re.POST];G.METHOD_MAP=IY.enumToMap(re);G.H_METHOD_MAP={};Object.keys(G.METHOD_MAP).forEach(n=>{/^H/.test(n)&&(G.H_METHOD_MAP[n]=G.METHOD_MAP[n])});var vY;(function(n){n[n.SAFE=0]="SAFE",n[n.SAFE_WITH_CB=1]="SAFE_WITH_CB",n[n.UNSAFE=2]="UNSAFE"})(vY=G.FINISH||(G.FINISH={}));G.ALPHA=[];for(let n=65;n<=90;n++)G.ALPHA.push(String.fromCharCode(n)),G.ALPHA.push(String.fromCharCode(n+32));G.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};G.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};G.NUM=["0","1","2","3","4","5","6","7","8","9"];G.ALPHANUM=G.ALPHA.concat(G.NUM);G.MARK=["-","_",".","!","~","*","'","(",")"];G.USERINFO_CHARS=G.ALPHANUM.concat(G.MARK).concat(["%",";",":","&","=","+","$",","]);G.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(G.ALPHANUM);G.URL_CHAR=G.STRICT_URL_CHAR.concat(["	","\f"]);for(let n=128;n<=255;n++)G.URL_CHAR.push(n);G.HEX=G.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);G.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(G.ALPHANUM);G.TOKEN=G.STRICT_TOKEN.concat([" "]);G.HEADER_CHARS=["	"];for(let n=32;n<=255;n++)n!==127&&G.HEADER_CHARS.push(n);G.CONNECTION_TOKEN_CHARS=G.HEADER_CHARS.filter(n=>n!==44);G.MAJOR=G.NUM_MAP;G.MINOR=G.MAJOR;var ic;(function(n){n[n.GENERAL=0]="GENERAL",n[n.CONNECTION=1]="CONNECTION",n[n.CONTENT_LENGTH=2]="CONTENT_LENGTH",n[n.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",n[n.UPGRADE=4]="UPGRADE",n[n.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",n[n.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",n[n.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",n[n.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(ic=G.HEADER_STATE||(G.HEADER_STATE={}));G.SPECIAL_HEADERS={connection:ic.CONNECTION,"content-length":ic.CONTENT_LENGTH,"proxy-connection":ic.CONNECTION,"transfer-encoding":ic.TRANSFER_ENCODING,upgrade:ic.UPGRADE}});var oI=v((qfe,gR)=>{"use strict";var{Buffer:SY}=N("buffer");gR.exports=SY.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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CABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var mR=v((Hfe,pR)=>{"use strict";var{Buffer:bY}=N("buffer");pR.exports=bY.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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AAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var vu=v((Yfe,vR)=>{"use strict";var ER=["GET","HEAD","POST"],DY=new Set(ER),TY=[101,204,205,304],CR=[301,302,303,307,308],RY=new Set(CR),IR=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],kY=new Set(IR),yR=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],NY=new Set(yR),_Y=["follow","manual","error"],BR=["GET","HEAD","OPTIONS","TRACE"],MY=new Set(BR),FY=["navigate","same-origin","no-cors","cors"],LY=["omit","same-origin","include"],xY=["default","no-store","reload","no-cache","force-cache","only-if-cached"],UY=["content-encoding","content-language","content-location","content-type","content-length"],OY=["half"],QR=["CONNECT","TRACE","TRACK"],PY=new Set(QR),wR=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],VY=new Set(wR);vR.exports={subresource:wR,forbiddenMethods:QR,requestBodyHeader:UY,referrerPolicy:yR,requestRedirect:_Y,requestMode:FY,requestCredentials:LY,requestCache:xY,redirectStatus:CR,corsSafeListedMethods:ER,nullBodyStatus:TY,safeMethods:BR,badPorts:IR,requestDuplex:OY,subresourceSet:VY,badPortsSet:kY,redirectStatusSet:RY,corsSafeListedMethodsSet:DY,safeMethodsSet:MY,forbiddenMethodsSet:PY,referrerPolicySet:NY}});var cI=v((Wfe,SR)=>{"use strict";var aI=Symbol.for("undici.globalOrigin.1");function GY(){return globalThis[aI]}function qY(n){if(n===void 0){Object.defineProperty(globalThis,aI,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(n);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,aI,{value:e,writable:!0,enumerable:!1,configurable:!1})}SR.exports={getGlobalOrigin:GY,setGlobalOrigin:qY}});var Bn=v((Jfe,_R)=>{"use strict";var Rh=N("assert"),HY=new TextEncoder,Su=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,YY=/[\u000A\u000D\u0009\u0020]/,WY=/[\u0009\u000A\u000C\u000D\u0020]/g,JY=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function zY(n){Rh(n.protocol==="data:");let e=TR(n,!0);e=e.slice(5);let t={position:0},r=sc(",",e,t),i=r.length;if(r=e4(r,!0,!0),t.position>=e.length)return"failure";t.position++;let s=e.slice(i+1),o=RR(s);if(/;(\u0020){0,}base64$/i.test(r)){let c=NR(o);if(o=KY(c),o==="failure")return"failure";r=r.slice(0,-6),r=r.replace(/(\u0020)+$/,""),r=r.slice(0,-1)}r.startsWith(";")&&(r="text/plain"+r);let a=lI(r);return a==="failure"&&(a=lI("text/plain;charset=US-ASCII")),{mimeType:a,body:o}}function TR(n,e=!1){if(!e)return n.href;let t=n.href,r=n.hash.length,i=r===0?t:t.substring(0,t.length-r);return!r&&t.endsWith("#")?i.slice(0,-1):i}function kh(n,e,t){let r="";for(;t.position<e.length&&n(e[t.position]);)r+=e[t.position],t.position++;return r}function sc(n,e,t){let r=e.indexOf(n,t.position),i=t.position;return r===-1?(t.position=e.length,e.slice(i)):(t.position=r,e.slice(i,t.position))}function RR(n){let e=HY.encode(n);return jY(e)}function bR(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}function DR(n){return n>=48&&n<=57?n-48:(n&223)-55}function jY(n){let e=n.length,t=new Uint8Array(e),r=0;for(let i=0;i<e;++i){let s=n[i];s!==37?t[r++]=s:s===37&&!(bR(n[i+1])&&bR(n[i+2]))?t[r++]=37:(t[r++]=DR(n[i+1])<<4|DR(n[i+2]),i+=2)}return e===r?t:t.subarray(0,r)}function lI(n){n=Th(n,!0,!0);let e={position:0},t=sc("/",n,e);if(t.length===0||!Su.test(t)||e.position>n.length)return"failure";e.position++;let r=sc(";",n,e);if(r=Th(r,!1,!0),r.length===0||!Su.test(r))return"failure";let i=t.toLowerCase(),s=r.toLowerCase(),o={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;e.position<n.length;){e.position++,kh(l=>YY.test(l),n,e);let a=kh(l=>l!==";"&&l!=="=",n,e);if(a=a.toLowerCase(),e.position<n.length){if(n[e.position]===";")continue;e.position++}if(e.position>n.length)break;let c=null;if(n[e.position]==='"')c=kR(n,e,!0),sc(";",n,e);else if(c=sc(";",n,e),c=Th(c,!1,!0),c.length===0)continue;a.length!==0&&Su.test(a)&&(c.length===0||JY.test(c))&&!o.parameters.has(a)&&o.parameters.set(a,c)}return o}function KY(n){n=n.replace(WY,"");let e=n.length;if(e%4===0&&n.charCodeAt(e-1)===61&&(--e,n.charCodeAt(e-1)===61&&--e),e%4===1||/[^+/0-9A-Za-z]/.test(n.length===e?n:n.substring(0,e)))return"failure";let t=Buffer.from(n,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function kR(n,e,t){let r=e.position,i="";for(Rh(n[e.position]==='"'),e.position++;i+=kh(o=>o!=='"'&&o!=="\\",n,e),!(e.position>=n.length);){let s=n[e.position];if(e.position++,s==="\\"){if(e.position>=n.length){i+="\\";break}i+=n[e.position],e.position++}else{Rh(s==='"');break}}return t?i:n.slice(r,e.position)}function $Y(n){Rh(n!=="failure");let{parameters:e,essence:t}=n,r=t;for(let[i,s]of e.entries())r+=";",r+=i,r+="=",Su.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),r+=s;return r}function ZY(n){return n===13||n===10||n===9||n===32}function Th(n,e=!0,t=!0){return uI(n,e,t,ZY)}function XY(n){return n===13||n===10||n===9||n===12||n===32}function e4(n,e=!0,t=!0){return uI(n,e,t,XY)}function uI(n,e,t,r){let i=0,s=n.length-1;if(e)for(;i<n.length&&r(n.charCodeAt(i));)i++;if(t)for(;s>0&&r(n.charCodeAt(s));)s--;return i===0&&s===n.length-1?n:n.slice(i,s+1)}function NR(n){let e=n.length;if(65535>e)return String.fromCharCode.apply(null,n);let t="",r=0,i=65535;for(;r<e;)r+i>e&&(i=e-r),t+=String.fromCharCode.apply(null,n.subarray(r,r+=i));return t}function t4(n){switch(n.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return n.subtype.endsWith("+json")?"application/json":n.subtype.endsWith("+xml")?"application/xml":""}_R.exports={dataURLProcessor:zY,URLSerializer:TR,collectASequenceOfCodePoints:kh,collectASequenceOfCodePointsFast:sc,stringPercentDecode:RR,parseMIMEType:lI,collectAnHTTPQuotedString:kR,serializeAMimeType:$Y,removeChars:uI,removeHTTPWhitespace:Th,minimizeSupportedMimeType:t4,HTTP_TOKEN_CODEPOINTS:Su,isomorphicDecode:NR}});var Ht=v((zfe,MR)=>{"use strict";var{types:Xr,inspect:n4}=N("util"),{toUSVString:r4}=me(),P={};P.converters={};P.util={};P.errors={};P.errors.exception=function(n){return new TypeError(`${n.header}: ${n.message}`)};P.errors.conversionFailed=function(n){let e=n.types.length===1?"":" one of",t=`${n.argument} could not be converted to${e}: ${n.types.join(", ")}.`;return P.errors.exception({header:n.prefix,message:t})};P.errors.invalidArgument=function(n){return P.errors.exception({header:n.prefix,message:`"${n.value}" is an invalid ${n.type}.`})};P.brandCheck=function(n,e,t){if(t?.strict!==!1){if(!(n instanceof e)){let r=new TypeError("Illegal invocation");throw r.code="ERR_INVALID_THIS",r}}else if(n?.[Symbol.toStringTag]!==e.prototype[Symbol.toStringTag]){let r=new TypeError("Illegal invocation");throw r.code="ERR_INVALID_THIS",r}};P.argumentLengthCheck=function({length:n},e,t){if(n<e)throw P.errors.exception({message:`${e} argument${e!==1?"s":""} required, but${n?" only":""} ${n} found.`,header:t})};P.illegalConstructor=function(){throw P.errors.exception({header:"TypeError",message:"Illegal constructor"})};P.util.Type=function(n){switch(typeof n){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return n===null?"Null":"Object"}};P.util.ConvertToInt=function(n,e,t,r){let i,s;e===64?(i=Math.pow(2,53)-1,t==="unsigned"?s=0:s=Math.pow(-2,53)+1):t==="unsigned"?(s=0,i=Math.pow(2,e)-1):(s=Math.pow(-2,e)-1,i=Math.pow(2,e-1)-1);let o=Number(n);if(o===0&&(o=0),r?.enforceRange===!0){if(Number.isNaN(o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)throw P.errors.exception({header:"Integer conversion",message:`Could not convert ${P.util.Stringify(n)} to an integer.`});if(o=P.util.IntegerPart(o),o<s||o>i)throw P.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${o}.`});return o}return!Number.isNaN(o)&&r?.clamp===!0?(o=Math.min(Math.max(o,s),i),Math.floor(o)%2===0?o=Math.floor(o):o=Math.ceil(o),o):Number.isNaN(o)||o===0&&Object.is(0,o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY?0:(o=P.util.IntegerPart(o),o=o%Math.pow(2,e),t==="signed"&&o>=Math.pow(2,e)-1?o-Math.pow(2,e):o)};P.util.IntegerPart=function(n){let e=Math.floor(Math.abs(n));return n<0?-1*e:e};P.util.Stringify=function(n){switch(P.util.Type(n)){case"Symbol":return`Symbol(${n.description})`;case"Object":return n4(n);case"String":return`"${n}"`;default:return`${n}`}};P.sequenceConverter=function(n){return(e,t,r,i)=>{if(P.util.Type(e)!=="Object")throw P.errors.exception({header:t,message:`${r} (${P.util.Stringify(e)}) is not iterable.`});let s=typeof i=="function"?i():e?.[Symbol.iterator]?.(),o=[],a=0;if(s===void 0||typeof s.next!="function")throw P.errors.exception({header:t,message:`${r} is not iterable.`});for(;;){let{done:c,value:l}=s.next();if(c)break;o.push(n(l,t,`${r}[${a++}]`))}return o}};P.recordConverter=function(n,e){return(t,r,i)=>{if(P.util.Type(t)!=="Object")throw P.errors.exception({header:r,message:`${i} ("${P.util.Type(t)}") is not an Object.`});let s={};if(!Xr.isProxy(t)){let a=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let c of a){let l=n(c,r,i),u=e(t[c],r,i);s[l]=u}return s}let o=Reflect.ownKeys(t);for(let a of o)if(Reflect.getOwnPropertyDescriptor(t,a)?.enumerable){let l=n(a,r,i),u=e(t[a],r,i);s[l]=u}return s}};P.interfaceConverter=function(n){return(e,t,r,i)=>{if(i?.strict!==!1&&!(e instanceof n))throw P.errors.exception({header:t,message:`Expected ${r} ("${P.util.Stringify(e)}") to be an instance of ${n.name}.`});return e}};P.dictionaryConverter=function(n){return(e,t,r)=>{let i=P.util.Type(e),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw P.errors.exception({header:t,message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let o of n){let{key:a,defaultValue:c,required:l,converter:u}=o;if(l===!0&&!Object.hasOwn(e,a))throw P.errors.exception({header:t,message:`Missing required key "${a}".`});let A=e[a],d=Object.hasOwn(o,"defaultValue");if(d&&A!==null&&(A??=c()),l||d||A!==void 0){if(A=u(A,t,`${r}.${a}`),o.allowedValues&&!o.allowedValues.includes(A))throw P.errors.exception({header:t,message:`${A} is not an accepted type. Expected one of ${o.allowedValues.join(", ")}.`});s[a]=A}}return s}};P.nullableConverter=function(n){return(e,t,r)=>e===null?e:n(e,t,r)};P.converters.DOMString=function(n,e,t,r){if(n===null&&r?.legacyNullToEmptyString)return"";if(typeof n=="symbol")throw P.errors.exception({header:e,message:`${t} is a symbol, which cannot be converted to a DOMString.`});return String(n)};P.converters.ByteString=function(n,e,t){let r=P.converters.DOMString(n,e,t);for(let i=0;i<r.length;i++)if(r.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${r.charCodeAt(i)} which is greater than 255.`);return r};P.converters.USVString=r4;P.converters.boolean=function(n){return!!n};P.converters.any=function(n){return n};P.converters["long long"]=function(n,e,t){return P.util.ConvertToInt(n,64,"signed",void 0,e,t)};P.converters["unsigned long long"]=function(n,e,t){return P.util.ConvertToInt(n,64,"unsigned",void 0,e,t)};P.converters["unsigned long"]=function(n,e,t){return P.util.ConvertToInt(n,32,"unsigned",void 0,e,t)};P.converters["unsigned short"]=function(n,e,t,r){return P.util.ConvertToInt(n,16,"unsigned",r,e,t)};P.converters.ArrayBuffer=function(n,e,t,r){if(P.util.Type(n)!=="Object"||!Xr.isAnyArrayBuffer(n))throw P.errors.conversionFailed({prefix:e,argument:`${t} ("${P.util.Stringify(n)}")`,types:["ArrayBuffer"]});if(r?.allowShared===!1&&Xr.isSharedArrayBuffer(n))throw P.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(n.resizable||n.growable)throw P.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return n};P.converters.TypedArray=function(n,e,t,r,i){if(P.util.Type(n)!=="Object"||!Xr.isTypedArray(n)||n.constructor.name!==e.name)throw P.errors.conversionFailed({prefix:t,argument:`${r} ("${P.util.Stringify(n)}")`,types:[e.name]});if(i?.allowShared===!1&&Xr.isSharedArrayBuffer(n.buffer))throw P.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(n.buffer.resizable||n.buffer.growable)throw P.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return n};P.converters.DataView=function(n,e,t,r){if(P.util.Type(n)!=="Object"||!Xr.isDataView(n))throw P.errors.exception({header:e,message:`${t} is not a DataView.`});if(r?.allowShared===!1&&Xr.isSharedArrayBuffer(n.buffer))throw P.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(n.buffer.resizable||n.buffer.growable)throw P.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return n};P.converters.BufferSource=function(n,e,t,r){if(Xr.isAnyArrayBuffer(n))return P.converters.ArrayBuffer(n,e,t,W(_({},r),{allowShared:!1}));if(Xr.isTypedArray(n))return P.converters.TypedArray(n,n.constructor,e,t,W(_({},r),{allowShared:!1}));if(Xr.isDataView(n))return P.converters.DataView(n,e,t,W(_({},r),{allowShared:!1}));throw P.errors.conversionFailed({prefix:e,argument:`${t} ("${P.util.Stringify(n)}")`,types:["BufferSource"]})};P.converters["sequence<ByteString>"]=P.sequenceConverter(P.converters.ByteString);P.converters["sequence<sequence<ByteString>>"]=P.sequenceConverter(P.converters["sequence<ByteString>"]);P.converters["record<ByteString, ByteString>"]=P.recordConverter(P.converters.ByteString,P.converters.ByteString);MR.exports={webidl:P}});var Ln=v((Kfe,zR)=>{"use strict";var{Transform:i4}=N("stream"),FR=N("zlib"),{redirectStatusSet:s4,referrerPolicySet:o4,badPortsSet:a4}=vu(),{getGlobalOrigin:LR}=cI(),{collectASequenceOfCodePoints:Lo,collectAnHTTPQuotedString:c4,removeChars:l4,parseMIMEType:u4}=Bn(),{performance:A4}=N("perf_hooks"),{isBlobLike:d4,ReadableStreamFrom:h4,isValidHTTPToken:xR,normalizedMethodRecordsBase:f4}=me(),xo=N("assert"),{isUint8Array:g4}=N("util/types"),{webidl:bu}=Ht(),UR=[],_h;try{_h=N("crypto");let n=["sha256","sha384","sha512"];UR=_h.getHashes().filter(e=>n.includes(e))}catch{}function OR(n){let e=n.urlList,t=e.length;return t===0?null:e[t-1].toString()}function p4(n,e){if(!s4.has(n.status))return null;let t=n.headersList.get("location",!0);return t!==null&&VR(t)&&(PR(t)||(t=m4(t)),t=new URL(t,OR(n))),t&&!t.hash&&(t.hash=e),t}function PR(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t>126||t<32)return!1}return!0}function m4(n){return Buffer.from(n,"binary").toString("utf8")}function Tu(n){return n.urlList[n.urlList.length-1]}function E4(n){let e=Tu(n);return WR(e)&&a4.has(e.port)?"blocked":"allowed"}function C4(n){return n instanceof Error||n?.constructor?.name==="Error"||n?.constructor?.name==="DOMException"}function I4(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(!(t===9||t>=32&&t<=126||t>=128&&t<=255))return!1}return!0}var y4=xR;function VR(n){return(n[0]==="	"||n[0]===" "||n[n.length-1]==="	"||n[n.length-1]===" "||n.includes(`
`)||n.includes("\r")||n.includes("\0"))===!1}function B4(n,e){let{headersList:t}=e,r=(t.get("referrer-policy",!0)??"").split(","),i="";if(r.length>0)for(let s=r.length;s!==0;s--){let o=r[s-1].trim();if(o4.has(o)){i=o;break}}i!==""&&(n.referrerPolicy=i)}function Q4(){return"allowed"}function w4(){return"success"}function v4(){return"success"}function S4(n){let e=null;e=n.mode,n.headersList.set("sec-fetch-mode",e,!0)}function b4(n){let e=n.origin;if(!(e==="client"||e===void 0)){if(n.responseTainting==="cors"||n.mode==="websocket")n.headersList.append("origin",e,!0);else if(n.method!=="GET"&&n.method!=="HEAD"){switch(n.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":n.origin&&dI(n.origin)&&!dI(Tu(n))&&(e=null);break;case"same-origin":Mh(n,Tu(n))||(e=null);break;default:}n.headersList.append("origin",e,!0)}}}function oc(n,e){return n}function D4(n,e,t){return!n?.startTime||n.startTime<e?{domainLookupStartTime:e,domainLookupEndTime:e,connectionStartTime:e,connectionEndTime:e,secureConnectionStartTime:e,ALPNNegotiatedProtocol:n?.ALPNNegotiatedProtocol}:{domainLookupStartTime:oc(n.domainLookupStartTime,t),domainLookupEndTime:oc(n.domainLookupEndTime,t),connectionStartTime:oc(n.connectionStartTime,t),connectionEndTime:oc(n.connectionEndTime,t),secureConnectionStartTime:oc(n.secureConnectionStartTime,t),ALPNNegotiatedProtocol:n.ALPNNegotiatedProtocol}}function T4(n){return oc(A4.now(),n)}function R4(n){return{startTime:n.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:n.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function GR(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function k4(n){return{referrerPolicy:n.referrerPolicy}}function N4(n){let e=n.referrerPolicy;xo(e);let t=null;if(n.referrer==="client"){let a=LR();if(!a||a.origin==="null")return"no-referrer";t=new URL(a)}else n.referrer instanceof URL&&(t=n.referrer);let r=AI(t),i=AI(t,!0);r.toString().length>4096&&(r=i);let s=Mh(n,r),o=Du(r)&&!Du(n.url);switch(e){case"origin":return i??AI(t,!0);case"unsafe-url":return r;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?r:i;case"strict-origin-when-cross-origin":{let a=Tu(n);return Mh(r,a)?r:Du(r)&&!Du(a)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return o?"no-referrer":i}}function AI(n,e){return xo(n instanceof URL),n=new URL(n),n.protocol==="file:"||n.protocol==="about:"||n.protocol==="blank:"?"no-referrer":(n.username="",n.password="",n.hash="",e&&(n.pathname="",n.search=""),n)}function Du(n){if(!(n instanceof URL))return!1;if(n.href==="about:blank"||n.href==="about:srcdoc"||n.protocol==="data:"||n.protocol==="file:")return!0;return e(n.origin);function e(t){if(t==null||t==="null")return!1;let r=new URL(t);return!!(r.protocol==="https:"||r.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(r.hostname)||r.hostname==="localhost"||r.hostname.includes("localhost.")||r.hostname.endsWith(".localhost"))}}function _4(n,e){if(_h===void 0)return!0;let t=qR(e);if(t==="no metadata"||t.length===0)return!0;let r=F4(t),i=L4(t,r);for(let s of i){let o=s.algo,a=s.hash,c=_h.createHash(o).update(n).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),x4(c,a))return!0}return!1}var M4=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function qR(n){let e=[],t=!0;for(let r of n.split(" ")){t=!1;let i=M4.exec(r);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();UR.includes(s)&&e.push(i.groups)}return t===!0?"no metadata":e}function F4(n){let e=n[0].algo;if(e[3]==="5")return e;for(let t=1;t<n.length;++t){let r=n[t];if(r.algo[3]==="5"){e="sha512";break}else{if(e[3]==="3")continue;r.algo[3]==="3"&&(e="sha384")}}return e}function L4(n,e){if(n.length===1)return n;let t=0;for(let r=0;r<n.length;++r)n[r].algo===e&&(n[t++]=n[r]);return n.length=t,n}function x4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t]){if(n[t]==="+"&&e[t]==="-"||n[t]==="/"&&e[t]==="_")continue;return!1}return!0}function U4(n){}function Mh(n,e){return n.origin===e.origin&&n.origin==="null"||n.protocol===e.protocol&&n.hostname===e.hostname&&n.port===e.port}function O4(){let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}function P4(n){return n.controller.state==="aborted"}function V4(n){return n.controller.state==="aborted"||n.controller.state==="terminated"}function G4(n){return f4[n.toLowerCase()]??n}function q4(n){let e=JSON.stringify(n);if(e===void 0)throw new TypeError("Value is not JSON serializable");return xo(typeof e=="string"),e}var H4=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function HR(n,e,t=0,r=1){class i{#e;#t;#i;constructor(o,a){this.#e=o,this.#t=a,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${n} Iterator.`);let o=this.#i,a=this.#e[e],c=a.length;if(o>=c)return{value:void 0,done:!0};let{[t]:l,[r]:u}=a[o];this.#i=o+1;let A;switch(this.#t){case"key":A=l;break;case"value":A=u;break;case"key+value":A=[l,u];break}return{value:A,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,H4),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${n} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,o){return new i(s,o)}}function Y4(n,e,t,r=0,i=1){let s=HR(n,t,r,i),o={keys:{writable:!0,enumerable:!0,configurable:!0,value:function(){return bu.brandCheck(this,e),s(this,"key")}},values:{writable:!0,enumerable:!0,configurable:!0,value:function(){return bu.brandCheck(this,e),s(this,"value")}},entries:{writable:!0,enumerable:!0,configurable:!0,value:function(){return bu.brandCheck(this,e),s(this,"key+value")}},forEach:{writable:!0,enumerable:!0,configurable:!0,value:function(c,l=globalThis){if(bu.brandCheck(this,e),bu.argumentLengthCheck(arguments,1,`${n}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${n}': parameter 1 is not of type 'Function'.`);for(let{0:u,1:A}of s(this,"key+value"))c.call(l,A,u,this)}}};return Object.defineProperties(e.prototype,W(_({},o),{[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:o.entries.value}}))}function W4(n,e,t){return m(this,null,function*(){let r=e,i=t,s;try{s=n.stream.getReader()}catch(o){i(o);return}try{r(yield YR(s))}catch(o){i(o)}})}function J4(n){return n instanceof ReadableStream||n[Symbol.toStringTag]==="ReadableStream"&&typeof n.tee=="function"}function z4(n){try{n.close(),n.byobRequest?.respond(0)}catch(e){if(!e.message.includes("Controller is already closed")&&!e.message.includes("ReadableStream is already closed"))throw e}}var j4=/[^\x00-\xFF]/;function Nh(n){return xo(!j4.test(n)),n}function YR(n){return m(this,null,function*(){let e=[],t=0;for(;;){let{done:r,value:i}=yield n.read();if(r)return Buffer.concat(e,t);if(!g4(i))throw new TypeError("Received non-Uint8Array chunk");e.push(i),t+=i.length}})}function K4(n){xo("protocol"in n);let e=n.protocol;return e==="about:"||e==="blob:"||e==="data:"}function dI(n){return typeof n=="string"&&n[5]===":"&&n[0]==="h"&&n[1]==="t"&&n[2]==="t"&&n[3]==="p"&&n[4]==="s"||n.protocol==="https:"}function WR(n){xo("protocol"in n);let e=n.protocol;return e==="http:"||e==="https:"}function $4(n,e){let t=n;if(!t.startsWith("bytes"))return"failure";let r={position:5};if(e&&Lo(c=>c==="	"||c===" ",t,r),t.charCodeAt(r.position)!==61)return"failure";r.position++,e&&Lo(c=>c==="	"||c===" ",t,r);let i=Lo(c=>{let l=c.charCodeAt(0);return l>=48&&l<=57},t,r),s=i.length?Number(i):null;if(e&&Lo(c=>c==="	"||c===" ",t,r),t.charCodeAt(r.position)!==45)return"failure";r.position++,e&&Lo(c=>c==="	"||c===" ",t,r);let o=Lo(c=>{let l=c.charCodeAt(0);return l>=48&&l<=57},t,r),a=o.length?Number(o):null;return r.position<t.length||a===null&&s===null||s>a?"failure":{rangeStartValue:s,rangeEndValue:a}}function Z4(n,e,t){let r="bytes ";return r+=Nh(`${n}`),r+="-",r+=Nh(`${e}`),r+="/",r+=Nh(`${t}`),r}var hI=class extends i4{_transform(e,t,r){if(!this._inflateStream){if(e.length===0){r();return}this._inflateStream=(e[0]&15)===8?FR.createInflate():FR.createInflateRaw(),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(e,t,r)}_final(e){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),e()}};function X4(){return new hI}function eW(n){let e=null,t=null,r=null,i=JR("content-type",n);if(i===null)return"failure";for(let s of i){let o=u4(s);o==="failure"||o.essence==="*/*"||(r=o,r.essence!==t?(e=null,r.parameters.has("charset")&&(e=r.parameters.get("charset")),t=r.essence):!r.parameters.has("charset")&&e!==null&&r.parameters.set("charset",e))}return r??"failure"}function tW(n){let e=n,t={position:0},r=[],i="";for(;t.position<e.length;){if(i+=Lo(s=>s!=='"'&&s!==",",e,t),t.position<e.length)if(e.charCodeAt(t.position)===34){if(i+=c4(e,t),t.position<e.length)continue}else xo(e.charCodeAt(t.position)===44),t.position++;i=l4(i,!0,!0,s=>s===9||s===32),r.push(i),i=""}return r}function JR(n,e){let t=e.get(n,!0);return t===null?null:tW(t)}var nW=new TextDecoder;function rW(n){return n.length===0?"":(n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3)),nW.decode(n))}var fI=class{get baseUrl(){return LR()}get origin(){return this.baseUrl?.origin}policyContainer=GR()},gI=class{settingsObject=new fI},iW=new gI;zR.exports={isAborted:P4,isCancelled:V4,isValidEncodedURL:PR,createDeferredPromise:O4,ReadableStreamFrom:h4,tryUpgradeRequestToAPotentiallyTrustworthyURL:U4,clampAndCoarsenConnectionTimingInfo:D4,coarsenedSharedCurrentTime:T4,determineRequestsReferrer:N4,makePolicyContainer:GR,clonePolicyContainer:k4,appendFetchMetadata:S4,appendRequestOriginHeader:b4,TAOCheck:v4,corsCheck:w4,crossOriginResourcePolicyCheck:Q4,createOpaqueTimingInfo:R4,setRequestReferrerPolicyOnRedirect:B4,isValidHTTPToken:xR,requestBadPort:E4,requestCurrentURL:Tu,responseURL:OR,responseLocationURL:p4,isBlobLike:d4,isURLPotentiallyTrustworthy:Du,isValidReasonPhrase:I4,sameOrigin:Mh,normalizeMethod:G4,serializeJavascriptValueToJSONString:q4,iteratorMixin:Y4,createIterator:HR,isValidHeaderName:y4,isValidHeaderValue:VR,isErrorLike:C4,fullyReadBody:W4,bytesMatch:_4,isReadableStreamLike:J4,readableStreamClose:z4,isomorphicEncode:Nh,urlIsLocal:K4,urlHasHttpsScheme:dI,urlIsHttpHttpsScheme:WR,readAllBytes:YR,simpleRangeHeaderValue:$4,buildContentRange:Z4,parseMetadata:qR,createInflate:X4,extractMimeType:eW,getDecodeSplit:JR,utf8DecodeBytes:rW,environmentSettingsObject:iW}});var Bs=v((Zfe,jR)=>{"use strict";jR.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var mI=v((Xfe,KR)=>{"use strict";var{Blob:sW,File:oW}=N("buffer"),{kState:Pi}=Bs(),{webidl:ei}=Ht(),pI=class n{constructor(e,t,r={}){let i=t,s=r.type,o=r.lastModified??Date.now();this[Pi]={blobLike:e,name:i,type:s,lastModified:o}}stream(...e){return ei.brandCheck(this,n),this[Pi].blobLike.stream(...e)}arrayBuffer(...e){return ei.brandCheck(this,n),this[Pi].blobLike.arrayBuffer(...e)}slice(...e){return ei.brandCheck(this,n),this[Pi].blobLike.slice(...e)}text(...e){return ei.brandCheck(this,n),this[Pi].blobLike.text(...e)}get size(){return ei.brandCheck(this,n),this[Pi].blobLike.size}get type(){return ei.brandCheck(this,n),this[Pi].blobLike.type}get name(){return ei.brandCheck(this,n),this[Pi].name}get lastModified(){return ei.brandCheck(this,n),this[Pi].lastModified}get[Symbol.toStringTag](){return"File"}};ei.converters.Blob=ei.interfaceConverter(sW);function aW(n){return n instanceof oW||n&&(typeof n.stream=="function"||typeof n.arrayBuffer=="function")&&n[Symbol.toStringTag]==="File"}KR.exports={FileLike:pI,isFileLike:aW}});var ku=v((ege,tk)=>{"use strict";var{isBlobLike:Fh,iteratorMixin:cW}=Ln(),{kState:ln}=Bs(),{kEnumerableProperty:ac}=me(),{FileLike:$R,isFileLike:lW}=mI(),{webidl:We}=Ht(),{File:ek}=N("buffer"),ZR=N("util"),XR=globalThis.File??ek,Ru=class n{constructor(e){if(e!==void 0)throw We.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[ln]=[]}append(e,t,r=void 0){We.brandCheck(this,n);let i="FormData.append";if(We.argumentLengthCheck(arguments,2,i),arguments.length===3&&!Fh(t))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=We.converters.USVString(e,i,"name"),t=Fh(t)?We.converters.Blob(t,i,"value",{strict:!1}):We.converters.USVString(t,i,"value"),r=arguments.length===3?We.converters.USVString(r,i,"filename"):void 0;let s=EI(e,t,r);this[ln].push(s)}delete(e){We.brandCheck(this,n);let t="FormData.delete";We.argumentLengthCheck(arguments,1,t),e=We.converters.USVString(e,t,"name"),this[ln]=this[ln].filter(r=>r.name!==e)}get(e){We.brandCheck(this,n);let t="FormData.get";We.argumentLengthCheck(arguments,1,t),e=We.converters.USVString(e,t,"name");let r=this[ln].findIndex(i=>i.name===e);return r===-1?null:this[ln][r].value}getAll(e){We.brandCheck(this,n);let t="FormData.getAll";return We.argumentLengthCheck(arguments,1,t),e=We.converters.USVString(e,t,"name"),this[ln].filter(r=>r.name===e).map(r=>r.value)}has(e){We.brandCheck(this,n);let t="FormData.has";return We.argumentLengthCheck(arguments,1,t),e=We.converters.USVString(e,t,"name"),this[ln].findIndex(r=>r.name===e)!==-1}set(e,t,r=void 0){We.brandCheck(this,n);let i="FormData.set";if(We.argumentLengthCheck(arguments,2,i),arguments.length===3&&!Fh(t))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=We.converters.USVString(e,i,"name"),t=Fh(t)?We.converters.Blob(t,i,"name",{strict:!1}):We.converters.USVString(t,i,"name"),r=arguments.length===3?We.converters.USVString(r,i,"name"):void 0;let s=EI(e,t,r),o=this[ln].findIndex(a=>a.name===e);o!==-1?this[ln]=[...this[ln].slice(0,o),s,...this[ln].slice(o+1).filter(a=>a.name!==e)]:this[ln].push(s)}[ZR.inspect.custom](e,t){let r=this[ln].reduce((s,o)=>(s[o.name]?Array.isArray(s[o.name])?s[o.name].push(o.value):s[o.name]=[s[o.name],o.value]:s[o.name]=o.value,s),{__proto__:null});t.depth??=e,t.colors??=!0;let i=ZR.formatWithOptions(t,r);return`FormData ${i.slice(i.indexOf("]")+2)}`}};cW("FormData",Ru,ln,"name","value");Object.defineProperties(Ru.prototype,{append:ac,delete:ac,get:ac,getAll:ac,has:ac,set:ac,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function EI(n,e,t){if(typeof e!="string"){if(lW(e)||(e=e instanceof Blob?new XR([e],"blob",{type:e.type}):new $R(e,"blob",{type:e.type})),t!==void 0){let r={type:e.type,lastModified:e.lastModified};e=e instanceof ek?new XR([e],t,r):new $R(e,t,r)}}return{name:n,value:e}}tk.exports={FormData:Ru,makeEntry:EI}});var ak=v((tge,ok)=>{"use strict";var{isUSVString:nk,bufferToLowerCasedHeaderName:uW}=me(),{utf8DecodeBytes:AW}=Ln(),{HTTP_TOKEN_CODEPOINTS:dW,isomorphicDecode:rk}=Bn(),{isFileLike:hW}=mI(),{makeEntry:fW}=ku(),Lh=N("assert"),{File:gW}=N("buffer"),pW=globalThis.File??gW,mW=Buffer.from('form-data; name="'),ik=Buffer.from("; filename"),EW=Buffer.from("--"),CW=Buffer.from(`--\r
`);function IW(n){for(let e=0;e<n.length;++e)if(n.charCodeAt(e)&-128)return!1;return!0}function yW(n){let e=n.length;if(e<27||e>70)return!1;for(let t=0;t<e;++t){let r=n.charCodeAt(t);if(!(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||r===39||r===45||r===95))return!1}return!0}function BW(n,e){Lh(e!=="failure"&&e.essence==="multipart/form-data");let t=e.parameters.get("boundary");if(t===void 0)return"failure";let r=Buffer.from(`--${t}`,"utf8"),i=[],s={position:0};for(n[0]===13&&n[1]===10&&(s.position+=2);;){if(n.subarray(s.position,s.position+r.length).equals(r))s.position+=r.length;else return"failure";if(s.position===n.length-2&&xh(n,EW,s)||s.position===n.length-4&&xh(n,CW,s))return i;if(n[s.position]!==13||n[s.position+1]!==10)return"failure";s.position+=2;let o=QW(n,s);if(o==="failure")return"failure";let{name:a,filename:c,contentType:l,encoding:u}=o;s.position+=2;let A;{let f=n.indexOf(r.subarray(2),s.position);if(f===-1)return"failure";A=n.subarray(s.position,f-4),s.position+=A.length,u==="base64"&&(A=Buffer.from(A.toString(),"base64"))}if(n[s.position]!==13||n[s.position+1]!==10)return"failure";s.position+=2;let d;c!==null?(l??="text/plain",IW(l)||(l=""),d=new pW([A],c,{type:l})):d=AW(Buffer.from(A)),Lh(nk(a)),Lh(typeof d=="string"&&nk(d)||hW(d)),i.push(fW(a,d,c))}}function QW(n,e){let t=null,r=null,i=null,s=null;for(;;){if(n[e.position]===13&&n[e.position+1]===10)return t===null?"failure":{name:t,filename:r,contentType:i,encoding:s};let o=cc(a=>a!==10&&a!==13&&a!==58,n,e);if(o=CI(o,!0,!0,a=>a===9||a===32),!dW.test(o.toString())||n[e.position]!==58)return"failure";switch(e.position++,cc(a=>a===32||a===9,n,e),uW(o)){case"content-disposition":{if(t=r=null,!xh(n,mW,e)||(e.position+=17,t=sk(n,e),t===null))return"failure";if(xh(n,ik,e)){let a=e.position+ik.length;if(n[a]===42&&(e.position+=1,a+=1),n[a]!==61||n[a+1]!==34||(e.position+=12,r=sk(n,e),r===null))return"failure"}break}case"content-type":{let a=cc(c=>c!==10&&c!==13,n,e);a=CI(a,!1,!0,c=>c===9||c===32),i=rk(a);break}case"content-transfer-encoding":{let a=cc(c=>c!==10&&c!==13,n,e);a=CI(a,!1,!0,c=>c===9||c===32),s=rk(a);break}default:cc(a=>a!==10&&a!==13,n,e)}if(n[e.position]!==13&&n[e.position+1]!==10)return"failure";e.position+=2}}function sk(n,e){Lh(n[e.position-1]===34);let t=cc(r=>r!==10&&r!==13&&r!==34,n,e);return n[e.position]!==34?null:(e.position++,t=new TextDecoder().decode(t).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),t)}function cc(n,e,t){let r=t.position;for(;r<e.length&&n(e[r]);)++r;return e.subarray(t.position,t.position=r)}function CI(n,e,t,r){let i=0,s=n.length-1;if(e)for(;i<n.length&&r(n[i]);)i++;if(t)for(;s>0&&r(n[s]);)s--;return i===0&&s===n.length-1?n:n.subarray(i,s+1)}function xh(n,e,t){if(n.length<e.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[t.position+r])return!1;return!0}ok.exports={multipartFormDataParser:BW,validateBoundary:yW}});var _u=v((nge,hk)=>{"use strict";var Nu=me(),{ReadableStreamFrom:wW,isBlobLike:ck,isReadableStreamLike:vW,readableStreamClose:SW,createDeferredPromise:bW,fullyReadBody:DW,extractMimeType:TW,utf8DecodeBytes:Ak}=Ln(),{FormData:lk}=ku(),{kState:uc}=Bs(),{webidl:RW}=Ht(),{Blob:kW}=N("buffer"),II=N("assert"),{isErrored:NW}=me(),{isArrayBuffer:_W}=N("util/types"),{serializeAMimeType:MW}=Bn(),{multipartFormDataParser:FW}=ak(),Uh=new TextEncoder;function dk(n,e=!1){let t=null;if(n instanceof ReadableStream)t=n;else if(ck(n))t=n.stream();else{let c;t=new ReadableStream({pull(l){return m(this,null,function*(){let u=typeof i=="string"?Uh.encode(i):i;u.byteLength&&l.enqueue(u),queueMicrotask(()=>SW(l))})},start(){},type:"bytes"})}II(vW(t));let r=null,i=null,s=null,o=null;if(typeof n=="string")i=n,o="text/plain;charset=UTF-8";else if(n instanceof URLSearchParams)i=n.toString(),o="application/x-www-form-urlencoded;charset=UTF-8";else if(_W(n))i=new Uint8Array(n.slice());else if(ArrayBuffer.isView(n))i=new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength));else if(Nu.isFormDataLike(n)){let c=`----formdata-undici-0${`${Math.floor(Math.random()*1e11)}`.padStart(11,"0")}`,l=`--${c}\r
Content-Disposition: form-data`;let u=I=>I.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),A=I=>I.replace(/\r?\n|\r/g,`\r
`),d=[],f=new Uint8Array([13,10]);s=0;let Q=!1;for(let[I,S]of n)if(typeof S=="string"){let b=Uh.encode(l+`; name="${u(A(I))}"\r
\r
${A(S)}\r
`);d.push(b),s+=b.byteLength}else{let b=Uh.encode(`${l}; name="${u(A(I))}"`+(S.name?`; filename="${u(S.name)}"`:"")+`\r
Content-Type: ${S.type||"application/octet-stream"}\r
\r
`);d.push(b,S,f),typeof S.size=="number"?s+=b.byteLength+S.size+f.byteLength:Q=!0}let C=Uh.encode(`--${c}--`);d.push(C),s+=C.byteLength,Q&&(s=null),i=n,r=function(){return Ri(this,null,function*(){for(let I of d)I.stream?yield*us(I.stream()):yield I})},o=`multipart/form-data; boundary=${c}`}else if(ck(n))i=n,s=n.size,n.type&&(o=n.type);else if(typeof n[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(Nu.isDisturbed(n)||n.locked)throw new TypeError("Response body object should not be disturbed or locked");t=n instanceof ReadableStream?n:wW(n)}if((typeof i=="string"||Nu.isBuffer(i))&&(s=Buffer.byteLength(i)),r!=null){let l,c;t=new ReadableStream({start(){return m(this,null,function*(){c=r(n)[Symbol.asyncIterator]()})},pull(u){return m(this,null,function*(){let{value:A,done:d}=yield c.next();if(d)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!NW(t)){let f=new Uint8Array(A);f.byteLength&&u.enqueue(f)}return u.desiredSize>0})},cancel(u){return m(this,null,function*(){yield c.return()})},type:"bytes"})}return[{stream:t,source:i,length:s},o]}function LW(n,e=!1){return n instanceof ReadableStream&&(II(!Nu.isDisturbed(n),"The body has already been consumed."),II(!n.locked,"The stream is locked.")),dk(n,e)}function xW(n){let[e,t]=n.stream.tee();return n.stream=e,{stream:t,length:n.length,source:n.source}}function UW(n){if(n.aborted)throw new DOMException("The operation was aborted.","AbortError")}function OW(n){return{blob(){return lc(this,t=>{let r=uk(this);return r===null?r="":r&&(r=MW(r)),new kW([t],{type:r})},n)},arrayBuffer(){return lc(this,t=>new Uint8Array(t).buffer,n)},text(){return lc(this,Ak,n)},json(){return lc(this,GW,n)},formData(){return lc(this,t=>{let r=uk(this);if(r!==null)switch(r.essence){case"multipart/form-data":{let i=FW(t,r);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new lk;return s[uc]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(t.toString()),s=new lk;for(let[o,a]of i)s.append(o,a);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},n)},bytes(){return lc(this,t=>new Uint8Array(t),n)}}}function PW(n){Object.assign(n.prototype,OW(n))}function lc(n,e,t){return m(this,null,function*(){if(RW.brandCheck(n,t),VW(n[uc].body))throw new TypeError("Body is unusable: Body has already been read");UW(n[uc]);let r=bW(),i=o=>r.reject(o),s=o=>{try{r.resolve(e(o))}catch(a){i(a)}};return n[uc].body==null?(s(Buffer.allocUnsafe(0)),r.promise):(yield DW(n[uc].body,s,i),r.promise)})}function VW(n){return n!=null&&(n.stream.locked||Nu.isDisturbed(n.stream))}function GW(n){return JSON.parse(Ak(n))}function uk(n){let e=n[uc].headersList,t=TW(e);return t==="failure"?null:t}hk.exports={extractBody:dk,safelyExtractBody:LW,cloneBody:xW,mixinBody:PW}});var Qk=v((ige,Bk)=>{"use strict";var oe=N("assert"),Ae=me(),{channels:fk}=Xa(),yI=dR(),{RequestContentLengthMismatchError:Uo,ResponseContentLengthMismatchError:qW,RequestAbortedError:Ck,HeadersTimeoutError:HW,HeadersOverflowError:YW,SocketError:Hh,InformationalError:Ac,BodyTimeoutError:WW,HTTPParserError:JW,ResponseExceededMaxSizeError:zW}=Fe(),{kUrl:Ik,kReset:Qn,kClient:vI,kParser:ut,kBlocking:Fu,kRunning:Zt,kPending:jW,kSize:gk,kWriting:ws,kQueue:Qr,kNoRef:Mu,kKeepAliveDefaultTimeout:KW,kHostHeader:$W,kPendingIdx:ZW,kRunningIdx:Xn,kError:er,kPipelining:Gh,kSocket:dc,kKeepAliveTimeoutValue:Yh,kMaxHeadersSize:BI,kKeepAliveMaxTimeout:XW,kKeepAliveTimeoutThreshold:eJ,kHeadersTimeout:tJ,kBodyTimeout:nJ,kStrictContentLength:SI,kMaxRequests:pk,kCounter:rJ,kMaxResponseSize:iJ,kOnError:sJ,kResume:Qs,kHTTPContext:yk}=Ze(),ti=fR(),oJ=Buffer.alloc(0),Oh=Buffer[Symbol.species],Ph=Ae.addListener,aJ=Ae.removeAllListeners,QI;function cJ(){return m(this,null,function*(){let n=process.env.JEST_WORKER_ID?oI():void 0,e;try{e=yield WebAssembly.compile(mR())}catch{e=yield WebAssembly.compile(n||oI())}return yield WebAssembly.instantiate(e,{env:{wasm_on_url:(t,r,i)=>0,wasm_on_status:(t,r,i)=>{oe.strictEqual(Mt.ptr,t);let s=r-ri+ni.byteOffset;return Mt.onStatus(new Oh(ni.buffer,s,i))||0},wasm_on_message_begin:t=>(oe.strictEqual(Mt.ptr,t),Mt.onMessageBegin()||0),wasm_on_header_field:(t,r,i)=>{oe.strictEqual(Mt.ptr,t);let s=r-ri+ni.byteOffset;return Mt.onHeaderField(new Oh(ni.buffer,s,i))||0},wasm_on_header_value:(t,r,i)=>{oe.strictEqual(Mt.ptr,t);let s=r-ri+ni.byteOffset;return Mt.onHeaderValue(new Oh(ni.buffer,s,i))||0},wasm_on_headers_complete:(t,r,i,s)=>(oe.strictEqual(Mt.ptr,t),Mt.onHeadersComplete(r,!!i,!!s)||0),wasm_on_body:(t,r,i)=>{oe.strictEqual(Mt.ptr,t);let s=r-ri+ni.byteOffset;return Mt.onBody(new Oh(ni.buffer,s,i))||0},wasm_on_message_complete:t=>(oe.strictEqual(Mt.ptr,t),Mt.onMessageComplete()||0)}})})}var wI=null,bI=cJ();bI.catch();var Mt=null,ni=null,Vh=0,ri=null,hc=1,qh=2,DI=3,TI=class{constructor(e,t,{exports:r}){oe(Number.isFinite(e[BI])&&e[BI]>0),this.llhttp=r,this.ptr=this.llhttp.llhttp_alloc(ti.TYPE.RESPONSE),this.client=e,this.socket=t,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[BI],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[iJ]}setTimeout(e,t){this.timeoutType=t,e!==this.timeoutValue?(yI.clearTimeout(this.timeout),e?(this.timeout=yI.setTimeout(lJ,e,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){this.socket.destroyed||!this.paused||(oe(this.ptr!=null),oe(Mt==null),this.llhttp.llhttp_resume(this.ptr),oe(this.timeoutType===qh),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||oJ),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){oe(this.ptr!=null),oe(Mt==null),oe(!this.paused);let{socket:t,llhttp:r}=this;e.length>Vh&&(ri&&r.free(ri),Vh=Math.ceil(e.length/4096)*4096,ri=r.malloc(Vh)),new Uint8Array(r.memory.buffer,ri,Vh).set(e);try{let i;try{ni=e,Mt=this,i=r.llhttp_execute(this.ptr,ri,e.length)}catch(o){throw o}finally{Mt=null,ni=null}let s=r.llhttp_get_error_pos(this.ptr)-ri;if(i===ti.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(s));else if(i===ti.ERROR.PAUSED)this.paused=!0,t.unshift(e.slice(s));else if(i!==ti.ERROR.OK){let o=r.llhttp_get_error_reason(this.ptr),a="";if(o){let c=new Uint8Array(r.memory.buffer,o).indexOf(0);a="Response does not match the HTTP/1.1 protocol ("+Buffer.from(r.memory.buffer,o,c).toString()+")"}throw new JW(a,ti.ERROR[i],e.slice(s))}}catch(i){Ae.destroy(t,i)}}destroy(){oe(this.ptr!=null),oe(Mt==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,yI.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:t}=this;if(e.destroyed)return-1;let r=t[Qr][t[Xn]];if(!r)return-1;r.onResponseStarted()}onHeaderField(e){let t=this.headers.length;t&1?this.headers[t-1]=Buffer.concat([this.headers[t-1],e]):this.headers.push(e),this.trackHeader(e.length)}onHeaderValue(e){let t=this.headers.length;(t&1)===1?(this.headers.push(e),t+=1):this.headers[t-1]=Buffer.concat([this.headers[t-1],e]);let r=this.headers[t-2];if(r.length===10){let i=Ae.bufferToLowerCasedHeaderName(r);i==="keep-alive"?this.keepAlive+=e.toString():i==="connection"&&(this.connection+=e.toString())}else r.length===14&&Ae.bufferToLowerCasedHeaderName(r)==="content-length"&&(this.contentLength+=e.toString());this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&Ae.destroy(this.socket,new YW)}onUpgrade(e){let{upgrade:t,client:r,socket:i,headers:s,statusCode:o}=this;oe(t);let a=r[Qr][r[Xn]];oe(a),oe(!i.destroyed),oe(i===r[dc]),oe(!this.paused),oe(a.upgrade||a.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,oe(this.headers.length%2===0),this.headers=[],this.headersSize=0,i.unshift(e),i[ut].destroy(),i[ut]=null,i[vI]=null,i[er]=null,aJ(i),r[dc]=null,r[yk]=null,r[Qr][r[Xn]++]=null,r.emit("disconnect",r[Ik],[r],new Ac("upgrade"));try{a.onUpgrade(o,s,i)}catch(c){Ae.destroy(i,c)}r[Qs]()}onHeadersComplete(e,t,r){let{client:i,socket:s,headers:o,statusText:a}=this;if(s.destroyed)return-1;let c=i[Qr][i[Xn]];if(!c)return-1;if(oe(!this.upgrade),oe(this.statusCode<200),e===100)return Ae.destroy(s,new Hh("bad response",Ae.getSocketInfo(s))),-1;if(t&&!c.upgrade)return Ae.destroy(s,new Hh("bad upgrade",Ae.getSocketInfo(s))),-1;if(oe.strictEqual(this.timeoutType,hc),this.statusCode=e,this.shouldKeepAlive=r||c.method==="HEAD"&&!s[Qn]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let u=c.bodyTimeout!=null?c.bodyTimeout:i[nJ];this.setTimeout(u,qh)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return oe(i[Zt]===1),this.upgrade=!0,2;if(t)return oe(i[Zt]===1),this.upgrade=!0,2;if(oe(this.headers.length%2===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[Gh]){let u=this.keepAlive?Ae.parseKeepAliveTimeout(this.keepAlive):null;if(u!=null){let A=Math.min(u-i[eJ],i[XW]);A<=0?s[Qn]=!0:i[Yh]=A}else i[Yh]=i[KW]}else s[Qn]=!0;let l=c.onHeaders(e,o,this.resume,a)===!1;return c.aborted?-1:c.method==="HEAD"||e<200?1:(s[Fu]&&(s[Fu]=!1,i[Qs]()),l?ti.ERROR.PAUSED:0)}onBody(e){let{client:t,socket:r,statusCode:i,maxResponseSize:s}=this;if(r.destroyed)return-1;let o=t[Qr][t[Xn]];if(oe(o),oe.strictEqual(this.timeoutType,qh),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),oe(i>=200),s>-1&&this.bytesRead+e.length>s)return Ae.destroy(r,new zW),-1;if(this.bytesRead+=e.length,o.onData(e)===!1)return ti.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:t,statusCode:r,upgrade:i,headers:s,contentLength:o,bytesRead:a,shouldKeepAlive:c}=this;if(t.destroyed&&(!r||c))return-1;if(i)return;let l=e[Qr][e[Xn]];if(oe(l),oe(r>=100),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",oe(this.headers.length%2===0),this.headers=[],this.headersSize=0,!(r<200)){if(l.method!=="HEAD"&&o&&a!==parseInt(o,10))return Ae.destroy(t,new qW),-1;if(l.onComplete(s),e[Qr][e[Xn]++]=null,t[ws])return oe.strictEqual(e[Zt],0),Ae.destroy(t,new Ac("reset")),ti.ERROR.PAUSED;if(c){if(t[Qn]&&e[Zt]===0)return Ae.destroy(t,new Ac("reset")),ti.ERROR.PAUSED;e[Gh]==null||e[Gh]===1?setImmediate(()=>e[Qs]()):e[Qs]()}else return Ae.destroy(t,new Ac("reset")),ti.ERROR.PAUSED}}};function lJ(n){let{socket:e,timeoutType:t,client:r}=n;t===hc?(!e[ws]||e.writableNeedDrain||r[Zt]>1)&&(oe(!n.paused,"cannot be paused while waiting for headers"),Ae.destroy(e,new HW)):t===qh?n.paused||Ae.destroy(e,new WW):t===DI&&(oe(r[Zt]===0&&r[Yh]),Ae.destroy(e,new Ac("socket idle timeout")))}function uJ(n,e){return m(this,null,function*(){n[dc]=e,wI||(wI=yield bI,bI=null),e[Mu]=!1,e[ws]=!1,e[Qn]=!1,e[Fu]=!1,e[ut]=new TI(n,e,wI),Ph(e,"error",function(r){let i=this[ut];if(oe(r.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),r.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[er]=r,this[vI][sJ](r)}),Ph(e,"readable",function(){let r=this[ut];r&&r.readMore()}),Ph(e,"end",function(){let r=this[ut];if(r.statusCode&&!r.shouldKeepAlive){r.onMessageComplete();return}Ae.destroy(this,new Hh("other side closed",Ae.getSocketInfo(this)))}),Ph(e,"close",function(){let r=this[vI],i=this[ut];i&&(!this[er]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[ut].destroy(),this[ut]=null);let s=this[er]||new Hh("closed",Ae.getSocketInfo(this));if(r[dc]=null,r[yk]=null,r.destroyed){oe(r[jW]===0);let o=r[Qr].splice(r[Xn]);for(let a=0;a<o.length;a++){let c=o[a];Ae.errorRequest(r,c,s)}}else if(r[Zt]>0&&s.code!=="UND_ERR_INFO"){let o=r[Qr][r[Xn]];r[Qr][r[Xn]++]=null,Ae.errorRequest(r,o,s)}r[ZW]=r[Xn],oe(r[Zt]===0),r.emit("disconnect",r[Ik],[r],s),r[Qs]()});let t=!1;return e.on("close",()=>{t=!0}),{version:"h1",defaultPipelining:1,write(...r){return hJ(n,...r)},resume(){AJ(n)},destroy(r,i){t?queueMicrotask(i):e.destroy(r).on("close",i)},get destroyed(){return e.destroyed},busy(r){return!!(e[ws]||e[Qn]||e[Fu]||r&&(n[Zt]>0&&!r.idempotent||n[Zt]>0&&(r.upgrade||r.method==="CONNECT")||n[Zt]>0&&Ae.bodyLength(r.body)!==0&&(Ae.isStream(r.body)||Ae.isAsyncIterable(r.body)||Ae.isFormDataLike(r.body))))}}})}function AJ(n){let e=n[dc];if(e&&!e.destroyed){if(n[gk]===0?!e[Mu]&&e.unref&&(e.unref(),e[Mu]=!0):e[Mu]&&e.ref&&(e.ref(),e[Mu]=!1),n[gk]===0)e[ut].timeoutType!==DI&&e[ut].setTimeout(n[Yh],DI);else if(n[Zt]>0&&e[ut].statusCode<200&&e[ut].timeoutType!==hc){let t=n[Qr][n[Xn]],r=t.headersTimeout!=null?t.headersTimeout:n[tJ];e[ut].setTimeout(r,hc)}}}function dJ(n){return n!=="GET"&&n!=="HEAD"&&n!=="OPTIONS"&&n!=="TRACE"&&n!=="CONNECT"}function hJ(n,e){let{method:t,path:r,host:i,upgrade:s,blocking:o,reset:a}=e,{body:c,headers:l,contentLength:u}=e,A=t==="PUT"||t==="POST"||t==="PATCH";if(Ae.isFormDataLike(c)){QI||(QI=_u().extractBody);let[I,S]=QI(c);e.contentType==null&&l.push("content-type",S),c=I.stream,u=I.length}else Ae.isBlobLike(c)&&e.contentType==null&&c.type&&l.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let d=Ae.bodyLength(c);if(u=d??u,u===null&&(u=e.contentLength),u===0&&!A&&(u=null),dJ(t)&&u>0&&e.contentLength!==null&&e.contentLength!==u){if(n[SI])return Ae.errorRequest(n,e,new Uo),!1;process.emitWarning(new Uo)}let f=n[dc],Q=I=>{e.aborted||e.completed||(Ae.errorRequest(n,e,I||new Ck),Ae.destroy(c),Ae.destroy(f,new Ac("aborted")))};try{e.onConnect(Q)}catch(I){Ae.errorRequest(n,e,I)}if(e.aborted)return!1;t==="HEAD"&&(f[Qn]=!0),(s||t==="CONNECT")&&(f[Qn]=!0),a!=null&&(f[Qn]=a),n[pk]&&f[rJ]++>=n[pk]&&(f[Qn]=!0),o&&(f[Fu]=!0);let C=`${t} ${r} HTTP/1.1\r
`;if(typeof i=="string"?C+=`host: ${i}\r
`:C+=n[$W],s?C+=`connection: upgrade\r
upgrade: ${s}\r
`:n[Gh]&&!f[Qn]?C+=`connection: keep-alive\r
`:C+=`connection: close\r
`,Array.isArray(l))for(let I=0;I<l.length;I+=2){let S=l[I+0],b=l[I+1];if(Array.isArray(b))for(let M=0;M<b.length;M++)C+=`${S}: ${b[M]}\r
`;else C+=`${S}: ${b}\r
`}return fk.sendHeaders.hasSubscribers&&fk.sendHeaders.publish({request:e,headers:C,socket:f}),!c||d===0?mk(Q,null,n,e,f,u,C,A):Ae.isBuffer(c)?mk(Q,c,n,e,f,u,C,A):Ae.isBlobLike(c)?typeof c.stream=="function"?Ek(Q,c.stream(),n,e,f,u,C,A):gJ(Q,c,n,e,f,u,C,A):Ae.isStream(c)?fJ(Q,c,n,e,f,u,C,A):Ae.isIterable(c)?Ek(Q,c,n,e,f,u,C,A):oe(!1),!0}function fJ(n,e,t,r,i,s,o,a){oe(s!==0||t[Zt]===0,"stream body cannot be pipelined");let c=!1,l=new Wh({abort:n,socket:i,request:r,contentLength:s,client:t,expectsPayload:a,header:o}),u=function(Q){if(!c)try{!l.write(Q)&&this.pause&&this.pause()}catch(C){Ae.destroy(this,C)}},A=function(){c||e.resume&&e.resume()},d=function(){if(queueMicrotask(()=>{e.removeListener("error",f)}),!c){let Q=new Ck;queueMicrotask(()=>f(Q))}},f=function(Q){if(!c){if(c=!0,oe(i.destroyed||i[ws]&&t[Zt]<=1),i.off("drain",A).off("error",f),e.removeListener("data",u).removeListener("end",f).removeListener("close",d),!Q)try{l.end()}catch(C){Q=C}l.destroy(Q),Q&&(Q.code!=="UND_ERR_INFO"||Q.message!=="reset")?Ae.destroy(e,Q):Ae.destroy(e)}};e.on("data",u).on("end",f).on("error",f).on("close",d),e.resume&&e.resume(),i.on("drain",A).on("error",f),e.errorEmitted??e.errored?setImmediate(()=>f(e.errored)):(e.endEmitted??e.readableEnded)&&setImmediate(()=>f(null)),(e.closeEmitted??e.closed)&&setImmediate(d)}function mk(n,e,t,r,i,s,o,a){try{e?Ae.isBuffer(e)&&(oe(s===e.byteLength,"buffer body must have content length"),i.cork(),i.write(`${o}content-length: ${s}\r
\r
`,"latin1"),i.write(e),i.uncork(),r.onBodySent(e),a||(i[Qn]=!0)):s===0?i.write(`${o}content-length: 0\r
\r
`,"latin1"):(oe(s===null,"no body must not have content length"),i.write(`${o}\r
`,"latin1")),r.onRequestSent(),t[Qs]()}catch(c){n(c)}}function gJ(n,e,t,r,i,s,o,a){return m(this,null,function*(){oe(s===e.size,"blob body must have content length");try{if(s!=null&&s!==e.size)throw new Uo;let c=Buffer.from(yield e.arrayBuffer());i.cork(),i.write(`${o}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork(),r.onBodySent(c),r.onRequestSent(),a||(i[Qn]=!0),t[Qs]()}catch(c){n(c)}})}function Ek(n,e,t,r,i,s,o,a){return m(this,null,function*(){oe(s!==0||t[Zt]===0,"iterator body cannot be pipelined");let c=null;function l(){if(c){let I=c;c=null,I()}}let u=()=>new Promise((I,S)=>{oe(c===null),i[er]?S(i[er]):c=I});i.on("close",l).on("drain",l);let A=new Wh({abort:n,socket:i,request:r,contentLength:s,client:t,expectsPayload:a,header:o});try{try{for(var d=Yr(e),f,Q,C;f=!(Q=yield d.next()).done;f=!1){let I=Q.value;if(i[er])throw i[er];A.write(I)||(yield u())}}catch{C=[Q]}finally{try{f&&(Q=d.return)&&(yield Q.call(d))}finally{if(C)throw C[0]}}A.end()}catch(I){A.destroy(I)}finally{i.off("close",l).off("drain",l)}})}var Wh=class{constructor({abort:e,socket:t,request:r,contentLength:i,client:s,expectsPayload:o,header:a}){this.socket=t,this.request=r,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=o,this.header=a,this.abort=e,t[ws]=!0}write(e){let{socket:t,request:r,contentLength:i,client:s,bytesWritten:o,expectsPayload:a,header:c}=this;if(t[er])throw t[er];if(t.destroyed)return!1;let l=Buffer.byteLength(e);if(!l)return!0;if(i!==null&&o+l>i){if(s[SI])throw new Uo;process.emitWarning(new Uo)}t.cork(),o===0&&(a||(t[Qn]=!0),i===null?t.write(`${c}transfer-encoding: chunked\r
`,"latin1"):t.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&t.write(`\r
${l.toString(16)}\r
`,"latin1"),this.bytesWritten+=l;let u=t.write(e);return t.uncork(),r.onBodySent(e),u||t[ut].timeout&&t[ut].timeoutType===hc&&t[ut].timeout.refresh&&t[ut].timeout.refresh(),u}end(){let{socket:e,contentLength:t,client:r,bytesWritten:i,expectsPayload:s,header:o,request:a}=this;if(a.onRequestSent(),e[ws]=!1,e[er])throw e[er];if(!e.destroyed){if(i===0?s?e.write(`${o}content-length: 0\r
\r
`,"latin1"):e.write(`${o}\r
`,"latin1"):t===null&&e.write(`\r
0\r
\r
`,"latin1"),t!==null&&i!==t){if(r[SI])throw new Uo;process.emitWarning(new Uo)}e[ut].timeout&&e[ut].timeoutType===hc&&e[ut].timeout.refresh&&e[ut].timeout.refresh(),r[Qs]()}}destroy(e){let{socket:t,client:r,abort:i}=this;t[ws]=!1,e&&(oe(r[Zt]<=1,"pipeline should only contain this request"),i(e))}};Bk.exports=uJ});var Rk=v((oge,Tk)=>{"use strict";var vr=N("assert"),{pipeline:pJ}=N("stream"),be=me(),{RequestContentLengthMismatchError:RI,RequestAbortedError:kI,SocketError:Jh,InformationalError:NI}=Fe(),{kUrl:_I,kReset:jh,kClient:gc,kRunning:MI,kPending:mJ,kQueue:EJ,kPendingIdx:CJ,kRunningIdx:wk,kError:wr,kSocket:Yt,kStrictContentLength:IJ,kOnError:Kh,kMaxConcurrentStreams:yJ,kHTTP2Session:fc,kResume:Lu}=Ze(),Vi=Symbol("open streams"),vk=!1,zh;try{zh=N("http2")}catch{zh={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:BJ,HTTP2_HEADER_METHOD:QJ,HTTP2_HEADER_PATH:wJ,HTTP2_HEADER_SCHEME:vJ,HTTP2_HEADER_CONTENT_LENGTH:SJ,HTTP2_HEADER_EXPECT:bJ,HTTP2_HEADER_STATUS:Sk}}=zh;function DJ(n){let e=[];for(let[t,r]of Object.entries(n))if(Array.isArray(r))for(let i of r)e.push(Buffer.from(t),Buffer.from(i));else e.push(Buffer.from(t),Buffer.from(r));return e}function TJ(n,e){return m(this,null,function*(){n[Yt]=e,vk||(vk=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let t=zh.connect(n[_I],{createConnection:()=>e,peerMaxConcurrentStreams:n[yJ]});t[Vi]=0,t[gc]=n,t[Yt]=e,be.addListener(t,"error",RJ),be.addListener(t,"frameError",kJ),be.addListener(t,"end",NJ),be.addListener(t,"goaway",_J),be.addListener(t,"close",function(){let{[gc]:i}=this,{[Yt]:s}=i,o=this[Yt][wr]||this[wr]||new Jh("closed",be.getSocketInfo(s));if(i[fc]=null,i.destroyed){vr(i[mJ]===0);let a=i[EJ].splice(i[wk]);for(let c=0;c<a.length;c++){let l=a[c];be.errorRequest(i,l,o)}}}),t.unref(),n[fc]=t,e[fc]=t,be.addListener(e,"error",function(i){vr(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[wr]=i,this[gc][Kh](i)}),be.addListener(e,"end",function(){be.destroy(this,new Jh("other side closed",be.getSocketInfo(this)))}),be.addListener(e,"close",function(){let i=this[wr]||new Jh("closed",be.getSocketInfo(this));n[Yt]=null,this[fc]!=null&&this[fc].destroy(i),n[CJ]=n[wk],vr(n[MI]===0),n.emit("disconnect",n[_I],[n],i),n[Lu]()});let r=!1;return e.on("close",()=>{r=!0}),{version:"h2",defaultPipelining:1/0,write(...i){FJ(n,...i)},resume(){},destroy(i,s){r?queueMicrotask(s):e.destroy(i).on("close",s)},get destroyed(){return e.destroyed},busy(){return!1}}})}function RJ(n){vr(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Yt][wr]=n,this[gc][Kh](n)}function kJ(n,e,t){if(t===0){let r=new NI(`HTTP/2: "frameError" received - type ${n}, code ${e}`);this[Yt][wr]=r,this[gc][Kh](r)}}function NJ(){let n=new Jh("other side closed",be.getSocketInfo(this[Yt]));this.destroy(n),be.destroy(this[Yt],n)}function _J(n){let e=new kI(`HTTP/2: "GOAWAY" frame received with code ${n}`);this[Yt][wr]=e,this[gc][Kh](e),this.unref(),be.destroy(this[Yt],e)}function MJ(n){return n!=="GET"&&n!=="HEAD"&&n!=="OPTIONS"&&n!=="TRACE"&&n!=="CONNECT"}function FJ(n,e){let t=n[fc],{body:r,method:i,path:s,host:o,upgrade:a,expectContinue:c,signal:l,headers:u}=e;if(a)return be.errorRequest(n,e,new Error("Upgrade not supported for H2")),!1;if(e.aborted)return!1;let A={};for(let k=0;k<u.length;k+=2){let O=u[k+0],q=u[k+1];if(Array.isArray(q))for(let B=0;B<q.length;B++)A[O]?A[O]+=`,${q[B]}`:A[O]=q[B];else A[O]=q}let d,{hostname:f,port:Q}=n[_I];A[BJ]=o||`${f}${Q?`:${Q}`:""}`,A[QJ]=i;let C=k=>{e.aborted||e.completed||(k=k||new kI,be.errorRequest(n,e,k),d!=null&&be.destroy(d,k),be.destroy(r,k))};try{e.onConnect(C)}catch(k){be.errorRequest(n,e,k)}if(i==="CONNECT")return t.ref(),d=t.request(A,{endStream:!1,signal:l}),d.id&&!d.pending?(e.onUpgrade(null,null,d),++t[Vi]):d.once("ready",()=>{e.onUpgrade(null,null,d),++t[Vi]}),d.once("close",()=>{t[Vi]-=1,t[Vi]===0&&t.unref()}),!0;A[wJ]=s,A[vJ]="https";let I=i==="PUT"||i==="POST"||i==="PATCH";r&&typeof r.read=="function"&&r.read(0);let S=be.bodyLength(r);if(S==null&&(S=e.contentLength),(S===0||!I)&&(S=null),MJ(i)&&S>0&&e.contentLength!=null&&e.contentLength!==S){if(n[IJ])return be.errorRequest(n,e,new RI),!1;process.emitWarning(new RI)}S!=null&&(vr(r,"no body must not have content length"),A[SJ]=`${S}`),t.ref();let b=i==="GET"||i==="HEAD"||r===null;return c?(A[bJ]="100-continue",d=t.request(A,{endStream:b,signal:l}),d.once("continue",M)):(d=t.request(A,{endStream:b,signal:l}),M()),++t[Vi],d.once("response",k=>{let B=k,{[Sk]:O}=B,q=Lt(B,[Hb(Sk)]);if(e.onResponseStarted(),e.aborted){let E=new kI;be.errorRequest(n,e,E),be.destroy(d,E);return}e.onHeaders(Number(O),DJ(q),d.resume.bind(d),"")===!1&&d.pause(),d.on("data",E=>{e.onData(E)===!1&&d.pause()})}),d.once("end",()=>{if(d.state?.state==null||d.state.state<6){e.onComplete([]);return}t[Vi]===0&&t.unref(),C(new NI("HTTP/2: stream half-closed (remote)"))}),d.once("close",()=>{t[Vi]-=1,t[Vi]===0&&t.unref()}),d.once("error",function(k){C(k)}),d.once("frameError",(k,O)=>{C(new NI(`HTTP/2: "frameError" received - type ${k}, code ${O}`))}),!0;function M(){!r||S===0?bk(C,d,null,n,e,n[Yt],S,I):be.isBuffer(r)?bk(C,d,r,n,e,n[Yt],S,I):be.isBlobLike(r)?typeof r.stream=="function"?Dk(C,d,r.stream(),n,e,n[Yt],S,I):xJ(C,d,r,n,e,n[Yt],S,I):be.isStream(r)?LJ(C,n[Yt],I,d,r,n,e,S):be.isIterable(r)?Dk(C,d,r,n,e,n[Yt],S,I):vr(!1)}}function bk(n,e,t,r,i,s,o,a){try{t!=null&&be.isBuffer(t)&&(vr(o===t.byteLength,"buffer body must have content length"),e.cork(),e.write(t),e.uncork(),e.end(),i.onBodySent(t)),a||(s[jh]=!0),i.onRequestSent(),r[Lu]()}catch(c){n(c)}}function LJ(n,e,t,r,i,s,o,a){vr(a!==0||s[MI]===0,"stream body cannot be pipelined");let c=pJ(i,r,u=>{u?(be.destroy(c,u),n(u)):(be.removeAllListeners(c),o.onRequestSent(),t||(e[jh]=!0),s[Lu]())});be.addListener(c,"data",l);function l(u){o.onBodySent(u)}}function xJ(n,e,t,r,i,s,o,a){return m(this,null,function*(){vr(o===t.size,"blob body must have content length");try{if(o!=null&&o!==t.size)throw new RI;let c=Buffer.from(yield t.arrayBuffer());e.cork(),e.write(c),e.uncork(),e.end(),i.onBodySent(c),i.onRequestSent(),a||(s[jh]=!0),r[Lu]()}catch(c){n(c)}})}function Dk(n,e,t,r,i,s,o,a){return m(this,null,function*(){vr(o!==0||r[MI]===0,"iterator body cannot be pipelined");let c=null;function l(){if(c){let C=c;c=null,C()}}let u=()=>new Promise((C,I)=>{vr(c===null),s[wr]?I(s[wr]):c=C});e.on("close",l).on("drain",l);try{try{for(var A=Yr(t),d,f,Q;d=!(f=yield A.next()).done;d=!1){let C=f.value;if(s[wr])throw s[wr];let I=e.write(C);i.onBodySent(C),I||(yield u())}}catch{Q=[f]}finally{try{d&&(f=A.return)&&(yield f.call(A))}finally{if(Q)throw Q[0]}}e.end(),i.onRequestSent(),a||(s[jh]=!0),r[Lu]()}catch(C){n(C)}finally{e.off("close",l).off("drain",l)}})}Tk.exports=TJ});var Zh=v((cge,_k)=>{"use strict";var ii=me(),{kBodyUsed:xu}=Ze(),LI=N("assert"),{InvalidArgumentError:UJ}=Fe(),OJ=N("events"),PJ=[300,301,302,303,307,308],kk=Symbol("body"),$h=class{constructor(e){this[kk]=e,this[xu]=!1}[Symbol.asyncIterator](){return Ri(this,null,function*(){LI(!this[xu],"disturbed"),this[xu]=!0,yield*us(this[kk])})}},FI=class{constructor(e,t,r,i){if(t!=null&&(!Number.isInteger(t)||t<0))throw new UJ("maxRedirections must be a positive number");ii.validateHandler(i,r.method,r.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts=W(_({},r),{maxRedirections:0}),this.maxRedirections=t,this.handler=i,this.history=[],this.redirectionLimitReached=!1,ii.isStream(this.opts.body)?(ii.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){LI(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[xu]=!1,OJ.prototype.on.call(this.opts.body,"data",function(){this[xu]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new $h(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&ii.isIterable(this.opts.body)&&(this.opts.body=new $h(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,t,r){this.handler.onUpgrade(e,t,r)}onError(e){this.handler.onError(e)}onHeaders(e,t,r,i){if(this.location=this.history.length>=this.maxRedirections||ii.isDisturbed(this.opts.body)?null:VJ(e,t),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,t,r,i);let{origin:s,pathname:o,search:a}=ii.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=a?`${o}${a}`:o;this.opts.headers=GJ(this.opts.headers,e===303,this.opts.origin!==s),this.opts.path=c,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function VJ(n,e){if(PJ.indexOf(n)===-1)return null;for(let t=0;t<e.length;t+=2)if(e[t].length===8&&ii.headerNameToString(e[t])==="location")return e[t+1]}function Nk(n,e,t){if(n.length===4)return ii.headerNameToString(n)==="host";if(e&&ii.headerNameToString(n).startsWith("content-"))return!0;if(t&&(n.length===13||n.length===6||n.length===19)){let r=ii.headerNameToString(n);return r==="authorization"||r==="cookie"||r==="proxy-authorization"}return!1}function GJ(n,e,t){let r=[];if(Array.isArray(n))for(let i=0;i<n.length;i+=2)Nk(n[i],e,t)||r.push(n[i],n[i+1]);else if(n&&typeof n=="object")for(let i of Object.keys(n))Nk(i,e,t)||r.push(i,n[i]);else LI(n==null,"headers must be an object or an array");return r}_k.exports=FI});var Xh=v((uge,Mk)=>{"use strict";var qJ=Zh();function HJ({maxRedirections:n}){return e=>function(r,i){let{maxRedirections:s=n}=r;if(!s)return e(r,i);let o=new qJ(e,s,r,i);return r=W(_({},r),{maxRedirections:0}),e(r,o)}}Mk.exports=HJ});var Hu=v((dge,qk)=>{"use strict";var Gi=N("assert"),Ok=N("net"),YJ=N("http"),Oo=me(),{channels:pc}=Xa(),WJ=iR(),JJ=rc(),{InvalidArgumentError:mt,InformationalError:zJ,ClientDestroyedError:jJ}=Fe(),KJ=wu(),{kUrl:si,kServerName:vs,kClient:$J,kBusy:xI,kConnect:ZJ,kResuming:Po,kRunning:Gu,kPending:qu,kSize:Vu,kQueue:Sr,kConnected:XJ,kConnecting:mc,kNeedDrain:bs,kKeepAliveDefaultTimeout:Fk,kHostHeader:e9,kPendingIdx:br,kRunningIdx:qi,kError:t9,kPipelining:ef,kKeepAliveTimeoutValue:n9,kMaxHeadersSize:r9,kKeepAliveMaxTimeout:i9,kKeepAliveTimeoutThreshold:s9,kHeadersTimeout:o9,kBodyTimeout:a9,kStrictContentLength:c9,kConnector:Uu,kMaxRedirections:l9,kMaxRequests:UI,kCounter:u9,kClose:A9,kDestroy:d9,kDispatch:h9,kInterceptors:Lk,kLocalAddress:Ou,kMaxResponseSize:f9,kOnError:g9,kHTTPContext:Et,kMaxConcurrentStreams:p9,kResume:Pu}=Ze(),m9=Qk(),E9=Rk(),xk=!1,Ss=Symbol("kClosedResolve");function Pk(n){return n[ef]??n[Et]?.defaultPipelining??1}var OI=class extends JJ{constructor(e,{interceptors:t,maxHeaderSize:r,headersTimeout:i,socketTimeout:s,requestTimeout:o,connectTimeout:a,bodyTimeout:c,idleTimeout:l,keepAlive:u,keepAliveTimeout:A,maxKeepAliveTimeout:d,keepAliveMaxTimeout:f,keepAliveTimeoutThreshold:Q,socketPath:C,pipelining:I,tls:S,strictContentLength:b,maxCachedSessions:M,maxRedirections:k,connect:O,maxRequestsPerClient:q,localAddress:B,maxResponseSize:E,autoSelectFamily:y,autoSelectFamilyAttemptTimeout:w,maxConcurrentStreams:g,allowH2:T}={}){if(super(),u!==void 0)throw new mt("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new mt("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(o!==void 0)throw new mt("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(l!==void 0)throw new mt("unsupported idleTimeout, use keepAliveTimeout instead");if(d!==void 0)throw new mt("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(r!=null&&!Number.isFinite(r))throw new mt("invalid maxHeaderSize");if(C!=null&&typeof C!="string")throw new mt("invalid socketPath");if(a!=null&&(!Number.isFinite(a)||a<0))throw new mt("invalid connectTimeout");if(A!=null&&(!Number.isFinite(A)||A<=0))throw new mt("invalid keepAliveTimeout");if(f!=null&&(!Number.isFinite(f)||f<=0))throw new mt("invalid keepAliveMaxTimeout");if(Q!=null&&!Number.isFinite(Q))throw new mt("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new mt("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new mt("bodyTimeout must be a positive integer or zero");if(O!=null&&typeof O!="function"&&typeof O!="object")throw new mt("connect must be a function or an object");if(k!=null&&(!Number.isInteger(k)||k<0))throw new mt("maxRedirections must be a positive number");if(q!=null&&(!Number.isInteger(q)||q<0))throw new mt("maxRequestsPerClient must be a positive number");if(B!=null&&(typeof B!="string"||Ok.isIP(B)===0))throw new mt("localAddress must be valid string IP address");if(E!=null&&(!Number.isInteger(E)||E<-1))throw new mt("maxResponseSize must be a positive number");if(w!=null&&(!Number.isInteger(w)||w<-1))throw new mt("autoSelectFamilyAttemptTimeout must be a positive number");if(T!=null&&typeof T!="boolean")throw new mt("allowH2 must be a valid boolean value");if(g!=null&&(typeof g!="number"||g<1))throw new mt("maxConcurrentStreams must be a positive integer, greater than 0");typeof O!="function"&&(O=KJ(_(_(W(_({},S),{maxCachedSessions:M,allowH2:T,socketPath:C,timeout:a}),y?{autoSelectFamily:y,autoSelectFamilyAttemptTimeout:w}:void 0),O))),t?.Client&&Array.isArray(t.Client)?(this[Lk]=t.Client,xk||(xk=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[Lk]=[C9({maxRedirections:k})],this[si]=Oo.parseOrigin(e),this[Uu]=O,this[ef]=I??1,this[r9]=r||YJ.maxHeaderSize,this[Fk]=A??4e3,this[i9]=f??6e5,this[s9]=Q??2e3,this[n9]=this[Fk],this[vs]=null,this[Ou]=B??null,this[Po]=0,this[bs]=0,this[e9]=`host: ${this[si].hostname}${this[si].port?`:${this[si].port}`:""}\r
`,this[a9]=c??3e5,this[o9]=i??3e5,this[c9]=b??!0,this[l9]=k,this[UI]=q,this[Ss]=null,this[f9]=E>-1?E:-1,this[p9]=g??100,this[Et]=null,this[Sr]=[],this[qi]=0,this[br]=0,this[Pu]=h=>PI(this,h),this[g9]=h=>Vk(this,h)}get pipelining(){return this[ef]}set pipelining(e){this[ef]=e,this[Pu](!0)}get[qu](){return this[Sr].length-this[br]}get[Gu](){return this[br]-this[qi]}get[Vu](){return this[Sr].length-this[qi]}get[XJ](){return!!this[Et]&&!this[mc]&&!this[Et].destroyed}get[xI](){return!!(this[Et]?.busy(null)||this[Vu]>=(Pk(this)||1)||this[qu]>0)}[ZJ](e){Gk(this),this.once("connect",e)}[h9](e,t){let r=e.origin||this[si].origin,i=new WJ(r,e,t);return this[Sr].push(i),this[Po]||(Oo.bodyLength(i.body)==null&&Oo.isIterable(i.body)?(this[Po]=1,queueMicrotask(()=>PI(this))):this[Pu](!0)),this[Po]&&this[bs]!==2&&this[xI]&&(this[bs]=2),this[bs]<2}[A9](){return m(this,null,function*(){return new Promise(e=>{this[Vu]?this[Ss]=e:e(null)})})}[d9](e){return m(this,null,function*(){return new Promise(t=>{let r=this[Sr].splice(this[br]);for(let s=0;s<r.length;s++){let o=r[s];Oo.errorRequest(this,o,e)}let i=()=>{this[Ss]&&(this[Ss](),this[Ss]=null),t(null)};this[Et]?(this[Et].destroy(e,i),this[Et]=null):queueMicrotask(i),this[Pu]()})})}},C9=Xh();function Vk(n,e){if(n[Gu]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){Gi(n[br]===n[qi]);let t=n[Sr].splice(n[qi]);for(let r=0;r<t.length;r++){let i=t[r];Oo.errorRequest(n,i,e)}Gi(n[Vu]===0)}}function Gk(n){return m(this,null,function*(){Gi(!n[mc]),Gi(!n[Et]);let{host:e,hostname:t,protocol:r,port:i}=n[si];if(t[0]==="["){let s=t.indexOf("]");Gi(s!==-1);let o=t.substring(1,s);Gi(Ok.isIP(o)),t=o}n[mc]=!0,pc.beforeConnect.hasSubscribers&&pc.beforeConnect.publish({connectParams:{host:e,hostname:t,protocol:r,port:i,version:n[Et]?.version,servername:n[vs],localAddress:n[Ou]},connector:n[Uu]});try{let s=yield new Promise((o,a)=>{n[Uu]({host:e,hostname:t,protocol:r,port:i,servername:n[vs],localAddress:n[Ou]},(c,l)=>{c?a(c):o(l)})});if(n.destroyed){Oo.destroy(s.on("error",()=>{}),new jJ);return}Gi(s);try{n[Et]=s.alpnProtocol==="h2"?yield E9(n,s):yield m9(n,s)}catch(o){throw s.destroy().on("error",()=>{}),o}n[mc]=!1,s[u9]=0,s[UI]=n[UI],s[$J]=n,s[t9]=null,pc.connected.hasSubscribers&&pc.connected.publish({connectParams:{host:e,hostname:t,protocol:r,port:i,version:n[Et]?.version,servername:n[vs],localAddress:n[Ou]},connector:n[Uu],socket:s}),n.emit("connect",n[si],[n])}catch(s){if(n.destroyed)return;if(n[mc]=!1,pc.connectError.hasSubscribers&&pc.connectError.publish({connectParams:{host:e,hostname:t,protocol:r,port:i,version:n[Et]?.version,servername:n[vs],localAddress:n[Ou]},connector:n[Uu],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(Gi(n[Gu]===0);n[qu]>0&&n[Sr][n[br]].servername===n[vs];){let o=n[Sr][n[br]++];Oo.errorRequest(n,o,s)}else Vk(n,s);n.emit("connectionError",n[si],[n],s)}n[Pu]()})}function Uk(n){n[bs]=0,n.emit("drain",n[si],[n])}function PI(n,e){n[Po]!==2&&(n[Po]=2,I9(n,e),n[Po]=0,n[qi]>256&&(n[Sr].splice(0,n[qi]),n[br]-=n[qi],n[qi]=0))}function I9(n,e){for(;;){if(n.destroyed){Gi(n[qu]===0);return}if(n[Ss]&&!n[Vu]){n[Ss](),n[Ss]=null;return}if(n[Et]&&n[Et].resume(),n[xI])n[bs]=2;else if(n[bs]===2){e?(n[bs]=1,queueMicrotask(()=>Uk(n))):Uk(n);continue}if(n[qu]===0||n[Gu]>=(Pk(n)||1))return;let t=n[Sr][n[br]];if(n[si].protocol==="https:"&&n[vs]!==t.servername){if(n[Gu]>0)return;n[vs]=t.servername,n[Et]?.destroy(new zJ("servername changed"),()=>{n[Et]=null,PI(n)})}if(n[mc])return;if(!n[Et]){Gk(n);return}if(n[Et].destroyed||n[Et].busy(t))return;!t.aborted&&n[Et].write(t)?n[br]++:n[Sr].splice(n[br],1)}}qk.exports=OI});var VI=v((gge,Hk)=>{"use strict";var tf=class{constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};Hk.exports=class{constructor(){this.head=this.tail=new tf}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new tf),this.head.push(e)}shift(){let e=this.tail,t=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),t}}});var Wk=v((pge,Yk)=>{"use strict";var{kFree:y9,kConnected:B9,kPending:Q9,kQueued:w9,kRunning:v9,kSize:S9}=Ze(),Vo=Symbol("pool"),GI=class{constructor(e){this[Vo]=e}get connected(){return this[Vo][B9]}get free(){return this[Vo][y9]}get pending(){return this[Vo][Q9]}get queued(){return this[Vo][w9]}get running(){return this[Vo][v9]}get size(){return this[Vo][S9]}};Yk.exports=GI});var zI=v((mge,nN)=>{"use strict";var b9=rc(),D9=VI(),{kConnected:qI,kSize:Jk,kRunning:zk,kPending:jk,kQueued:Yu,kBusy:T9,kFree:R9,kUrl:k9,kClose:N9,kDestroy:_9,kDispatch:M9}=Ze(),F9=Wk(),wn=Symbol("clients"),un=Symbol("needDrain"),Wu=Symbol("queue"),HI=Symbol("closed resolve"),YI=Symbol("onDrain"),Kk=Symbol("onConnect"),$k=Symbol("onDisconnect"),Zk=Symbol("onConnectionError"),WI=Symbol("get dispatcher"),eN=Symbol("add client"),tN=Symbol("remove client"),Xk=Symbol("stats"),JI=class extends b9{constructor(){super(),this[Wu]=new D9,this[wn]=[],this[Yu]=0;let e=this;this[YI]=function(r,i){let s=e[Wu],o=!1;for(;!o;){let a=s.shift();if(!a)break;e[Yu]--,o=!this.dispatch(a.opts,a.handler)}this[un]=o,!this[un]&&e[un]&&(e[un]=!1,e.emit("drain",r,[e,...i])),e[HI]&&s.isEmpty()&&Promise.all(e[wn].map(a=>a.close())).then(e[HI])},this[Kk]=(t,r)=>{e.emit("connect",t,[e,...r])},this[$k]=(t,r,i)=>{e.emit("disconnect",t,[e,...r],i)},this[Zk]=(t,r,i)=>{e.emit("connectionError",t,[e,...r],i)},this[Xk]=new F9(this)}get[T9](){return this[un]}get[qI](){return this[wn].filter(e=>e[qI]).length}get[R9](){return this[wn].filter(e=>e[qI]&&!e[un]).length}get[jk](){let e=this[Yu];for(let{[jk]:t}of this[wn])e+=t;return e}get[zk](){let e=0;for(let{[zk]:t}of this[wn])e+=t;return e}get[Jk](){let e=this[Yu];for(let{[Jk]:t}of this[wn])e+=t;return e}get stats(){return this[Xk]}[N9](){return m(this,null,function*(){return this[Wu].isEmpty()?Promise.all(this[wn].map(e=>e.close())):new Promise(e=>{this[HI]=e})})}[_9](e){return m(this,null,function*(){for(;;){let t=this[Wu].shift();if(!t)break;t.handler.onError(e)}return Promise.all(this[wn].map(t=>t.destroy(e)))})}[M9](e,t){let r=this[WI]();return r?r.dispatch(e,t)||(r[un]=!0,this[un]=!this[WI]()):(this[un]=!0,this[Wu].push({opts:e,handler:t}),this[Yu]++),!this[un]}[eN](e){return e.on("drain",this[YI]).on("connect",this[Kk]).on("disconnect",this[$k]).on("connectionError",this[Zk]),this[wn].push(e),this[un]&&queueMicrotask(()=>{this[un]&&this[YI](e[k9],[this,e])}),this}[tN](e){e.close(()=>{let t=this[wn].indexOf(e);t!==-1&&this[wn].splice(t,1)}),this[un]=this[wn].some(t=>!t[un]&&t.closed!==!0&&t.destroyed!==!0)}};nN.exports={PoolBase:JI,kClients:wn,kNeedDrain:un,kAddClient:eN,kRemoveClient:tN,kGetDispatcher:WI}});var Ec=v((Cge,aN)=>{"use strict";var{PoolBase:L9,kClients:rN,kNeedDrain:x9,kAddClient:U9,kGetDispatcher:O9}=zI(),P9=Hu(),{InvalidArgumentError:jI}=Fe(),iN=me(),{kUrl:sN,kInterceptors:V9}=Ze(),G9=wu(),KI=Symbol("options"),$I=Symbol("connections"),oN=Symbol("factory");function q9(n,e){return new P9(n,e)}var ZI=class extends L9{constructor(e,f={}){var Q=f,{connections:t,factory:r=q9,connect:i,connectTimeout:s,tls:o,maxCachedSessions:a,socketPath:c,autoSelectFamily:l,autoSelectFamilyAttemptTimeout:u,allowH2:A}=Q,d=Lt(Q,["connections","factory","connect","connectTimeout","tls","maxCachedSessions","socketPath","autoSelectFamily","autoSelectFamilyAttemptTimeout","allowH2"]);if(super(),t!=null&&(!Number.isFinite(t)||t<0))throw new jI("invalid connections");if(typeof r!="function")throw new jI("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new jI("connect must be a function or an object");typeof i!="function"&&(i=G9(_(_(W(_({},o),{maxCachedSessions:a,allowH2:A,socketPath:c,timeout:s}),l?{autoSelectFamily:l,autoSelectFamilyAttemptTimeout:u}:void 0),i))),this[V9]=d.interceptors?.Pool&&Array.isArray(d.interceptors.Pool)?d.interceptors.Pool:[],this[$I]=t||null,this[sN]=iN.parseOrigin(e),this[KI]=W(_({},iN.deepClone(d)),{connect:i,allowH2:A}),this[KI].interceptors=d.interceptors?_({},d.interceptors):void 0,this[oN]=r}[O9](){for(let e of this[rN])if(!e[x9])return e;if(!this[$I]||this[rN].length<this[$I]){let e=this[oN](this[sN],this[KI]);return this[U9](e),e}}};aN.exports=ZI});var hN=v((yge,dN)=>{"use strict";var{BalancedPoolMissingUpstreamError:H9,InvalidArgumentError:Y9}=Fe(),{PoolBase:W9,kClients:An,kNeedDrain:Ju,kAddClient:J9,kRemoveClient:z9,kGetDispatcher:j9}=zI(),K9=Ec(),{kUrl:XI,kInterceptors:$9}=Ze(),{parseOrigin:cN}=me(),lN=Symbol("factory"),nf=Symbol("options"),uN=Symbol("kGreatestCommonDivisor"),Go=Symbol("kCurrentWeight"),qo=Symbol("kIndex"),tr=Symbol("kWeight"),rf=Symbol("kMaxWeightPerServer"),sf=Symbol("kErrorPenalty");function AN(n,e){return e===0?n:AN(e,n%e)}function Z9(n,e){return new K9(n,e)}var ey=class extends W9{constructor(e=[],i={}){var s=i,{factory:t=Z9}=s,r=Lt(s,["factory"]);if(super(),this[nf]=r,this[qo]=-1,this[Go]=0,this[rf]=this[nf].maxWeightPerServer||100,this[sf]=this[nf].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof t!="function")throw new Y9("factory must be a function.");this[$9]=r.interceptors?.BalancedPool&&Array.isArray(r.interceptors.BalancedPool)?r.interceptors.BalancedPool:[],this[lN]=t;for(let o of e)this.addUpstream(o);this._updateBalancedPoolStats()}addUpstream(e){let t=cN(e).origin;if(this[An].find(i=>i[XI].origin===t&&i.closed!==!0&&i.destroyed!==!0))return this;let r=this[lN](t,Object.assign({},this[nf]));this[J9](r),r.on("connect",()=>{r[tr]=Math.min(this[rf],r[tr]+this[sf])}),r.on("connectionError",()=>{r[tr]=Math.max(1,r[tr]-this[sf]),this._updateBalancedPoolStats()}),r.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(r[tr]=Math.max(1,r[tr]-this[sf]),this._updateBalancedPoolStats())});for(let i of this[An])i[tr]=this[rf];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[uN]=this[An].map(e=>e[tr]).reduce(AN,0)}removeUpstream(e){let t=cN(e).origin,r=this[An].find(i=>i[XI].origin===t&&i.closed!==!0&&i.destroyed!==!0);return r&&this[z9](r),this}get upstreams(){return this[An].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[XI].origin)}[j9](){if(this[An].length===0)throw new H9;if(!this[An].find(s=>!s[Ju]&&s.closed!==!0&&s.destroyed!==!0)||this[An].map(s=>s[Ju]).reduce((s,o)=>s&&o,!0))return;let r=0,i=this[An].findIndex(s=>!s[Ju]);for(;r++<this[An].length;){this[qo]=(this[qo]+1)%this[An].length;let s=this[An][this[qo]];if(s[tr]>this[An][i][tr]&&!s[Ju]&&(i=this[qo]),this[qo]===0&&(this[Go]=this[Go]-this[uN],this[Go]<=0&&(this[Go]=this[rf])),s[tr]>=this[Go]&&!s[Ju])return s}return this[Go]=this[An][i][tr],this[qo]=i,this[An][i]}};dN.exports=ey});var Cc=v((Qge,IN)=>{"use strict";var{InvalidArgumentError:of}=Fe(),{kClients:Ds,kRunning:fN,kClose:X9,kDestroy:e5,kDispatch:t5,kInterceptors:n5}=Ze(),r5=rc(),i5=Ec(),s5=Hu(),o5=me(),a5=Xh(),gN=Symbol("onConnect"),pN=Symbol("onDisconnect"),mN=Symbol("onConnectionError"),c5=Symbol("maxRedirections"),EN=Symbol("onDrain"),CN=Symbol("factory"),ty=Symbol("options");function l5(n,e){return e&&e.connections===1?new s5(n,e):new i5(n,e)}var ny=class extends r5{constructor(s={}){var o=s,{factory:e=l5,maxRedirections:t=0,connect:r}=o,i=Lt(o,["factory","maxRedirections","connect"]);if(super(),typeof e!="function")throw new of("factory must be a function.");if(r!=null&&typeof r!="function"&&typeof r!="object")throw new of("connect must be a function or an object");if(!Number.isInteger(t)||t<0)throw new of("maxRedirections must be a positive number");r&&typeof r!="function"&&(r=_({},r)),this[n5]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[a5({maxRedirections:t})],this[ty]=W(_({},o5.deepClone(i)),{connect:r}),this[ty].interceptors=i.interceptors?_({},i.interceptors):void 0,this[c5]=t,this[CN]=e,this[Ds]=new Map,this[EN]=(a,c)=>{this.emit("drain",a,[this,...c])},this[gN]=(a,c)=>{this.emit("connect",a,[this,...c])},this[pN]=(a,c,l)=>{this.emit("disconnect",a,[this,...c],l)},this[mN]=(a,c,l)=>{this.emit("connectionError",a,[this,...c],l)}}get[fN](){let e=0;for(let t of this[Ds].values())e+=t[fN];return e}[t5](e,t){let r;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))r=String(e.origin);else throw new of("opts.origin must be a non-empty string or URL.");let i=this[Ds].get(r);return i||(i=this[CN](e.origin,this[ty]).on("drain",this[EN]).on("connect",this[gN]).on("disconnect",this[pN]).on("connectionError",this[mN]),this[Ds].set(r,i)),i.dispatch(e,t)}[X9](){return m(this,null,function*(){let e=[];for(let t of this[Ds].values())e.push(t.close());this[Ds].clear(),yield Promise.all(e)})}[e5](e){return m(this,null,function*(){let t=[];for(let r of this[Ds].values())t.push(r.destroy(e));this[Ds].clear(),yield Promise.all(t)})}};IN.exports=ny});var sy=v((vge,wN)=>{"use strict";var{kProxy:u5,kClose:A5,kDestroy:d5,kInterceptors:h5}=Ze(),{URL:zu}=N("url"),f5=Cc(),g5=Ec(),p5=rc(),{InvalidArgumentError:lf,RequestAbortedError:m5,SecureProxyConnectionError:E5}=Fe(),yN=wu(),af=Symbol("proxy agent"),cf=Symbol("proxy client"),ju=Symbol("proxy headers"),ry=Symbol("request tls settings"),BN=Symbol("proxy tls settings"),QN=Symbol("connect endpoint function");function C5(n){return n==="https:"?443:80}function I5(n,e){return new g5(n,e)}var iy=class extends p5{constructor(e){if(super(),!e||typeof e=="object"&&!(e instanceof zu)&&!e.uri)throw new lf("Proxy uri is mandatory");let{clientFactory:t=I5}=e;if(typeof t!="function")throw new lf("Proxy opts.clientFactory must be a function.");let r=this.#e(e),{href:i,origin:s,port:o,protocol:a,username:c,password:l,hostname:u}=r;if(this[u5]={uri:i,protocol:a},this[h5]=e.interceptors?.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],this[ry]=e.requestTls,this[BN]=e.proxyTls,this[ju]=e.headers||{},e.auth&&e.token)throw new lf("opts.auth cannot be used in combination with opts.token");e.auth?this[ju]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[ju]["proxy-authorization"]=e.token:c&&l&&(this[ju]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(l)}`).toString("base64")}`);let A=yN(_({},e.proxyTls));this[QN]=yN(_({},e.requestTls)),this[cf]=t(r,{connect:A}),this[af]=new f5(W(_({},e),{connect:(d,f)=>m(this,null,function*(){let Q=d.host;d.port||(Q+=`:${C5(d.protocol)}`);try{let{socket:C,statusCode:I}=yield this[cf].connect({origin:s,port:o,path:Q,signal:d.signal,headers:W(_({},this[ju]),{host:d.host}),servername:this[BN]?.servername||u});if(I!==200&&(C.on("error",()=>{}).destroy(),f(new m5(`Proxy response (${I}) !== 200 when HTTP Tunneling`))),d.protocol!=="https:"){f(null,C);return}let S;this[ry]?S=this[ry].servername:S=d.servername,this[QN](W(_({},d),{servername:S,httpSocket:C}),f)}catch(C){C.code==="ERR_TLS_CERT_ALTNAME_INVALID"?f(new E5(C)):f(C)}})}))}dispatch(e,t){let r=y5(e.headers);if(B5(r),r&&!("host"in r)&&!("Host"in r)){let{host:i}=new zu(e.origin);r.host=i}return this[af].dispatch(W(_({},e),{headers:r}),t)}#e(e){return typeof e=="string"?new zu(e):e instanceof zu?e:new zu(e.uri)}[A5](){return m(this,null,function*(){yield this[af].close(),yield this[cf].close()})}[d5](){return m(this,null,function*(){yield this[af].destroy(),yield this[cf].destroy()})}};function y5(n){if(Array.isArray(n)){let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}return n}function B5(n){if(n&&Object.keys(n).find(t=>t.toLowerCase()==="proxy-authorization"))throw new lf("Proxy-Authorization should be sent in ProxyAgent constructor")}wN.exports=iy});var RN=v((bge,TN)=>{"use strict";var Q5=rc(),{kClose:w5,kDestroy:v5,kClosed:vN,kDestroyed:SN,kDispatch:S5,kNoProxyAgent:Ku,kHttpProxyAgent:Ts,kHttpsProxyAgent:Ho}=Ze(),bN=sy(),b5=Cc(),D5={"http:":80,"https:":443},DN=!1,oy=class extends Q5{#e=null;#t=null;#i=null;constructor(e={}){super(),this.#i=e,DN||(DN=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let c=e,{httpProxy:t,httpsProxy:r,noProxy:i}=c,s=Lt(c,["httpProxy","httpsProxy","noProxy"]);this[Ku]=new b5(s);let o=t??process.env.http_proxy??process.env.HTTP_PROXY;o?this[Ts]=new bN(W(_({},s),{uri:o})):this[Ts]=this[Ku];let a=r??process.env.https_proxy??process.env.HTTPS_PROXY;a?this[Ho]=new bN(W(_({},s),{uri:a})):this[Ho]=this[Ts],this.#s()}[S5](e,t){let r=new URL(e.origin);return this.#r(r).dispatch(e,t)}[w5](){return m(this,null,function*(){yield this[Ku].close(),this[Ts][vN]||(yield this[Ts].close()),this[Ho][vN]||(yield this[Ho].close())})}[v5](e){return m(this,null,function*(){yield this[Ku].destroy(e),this[Ts][SN]||(yield this[Ts].destroy(e)),this[Ho][SN]||(yield this[Ho].destroy(e))})}#r(e){let{protocol:t,host:r,port:i}=e;return r=r.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||D5[t]||0,this.#n(r,i)?t==="https:"?this[Ho]:this[Ts]:this[Ku]}#n(e,t){if(this.#o&&this.#s(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let r=0;r<this.#t.length;r++){let i=this.#t[r];if(!(i.port&&i.port!==t)){if(/^[.*]/.test(i.hostname)){if(e.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(e===i.hostname)return!1}}return!0}#s(){let e=this.#i.noProxy??this.#a,t=e.split(/[,\s]/),r=[];for(let i=0;i<t.length;i++){let s=t[i];if(!s)continue;let o=s.match(/^(.+):(\d+)$/);r.push({hostname:(o?o[1]:s).toLowerCase(),port:o?Number.parseInt(o[2],10):0})}this.#e=e,this.#t=r}get#o(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};TN.exports=oy});var Af=v((Tge,MN)=>{"use strict";var Ic=N("assert"),{kRetryHandlerDefaultRetry:kN}=Ze(),{RequestRetryError:uf}=Fe(),{isDisturbed:NN,parseHeaders:T5,parseRangeHeader:_N,wrapRequestBody:R5}=me();function k5(n){let e=Date.now();return new Date(n).getTime()-e}var ay=class n{constructor(e,t){let Q=e,{retryOptions:r}=Q,i=Lt(Q,["retryOptions"]),{retry:s,maxRetries:o,maxTimeout:a,minTimeout:c,timeoutFactor:l,methods:u,errorCodes:A,retryAfter:d,statusCodes:f}=r??{};this.dispatch=t.dispatch,this.handler=t.handler,this.opts=W(_({},i),{body:R5(e.body)}),this.abort=null,this.aborted=!1,this.retryOpts={retry:s??n[kN],retryAfter:d??!0,maxTimeout:a??30*1e3,minTimeout:c??500,timeoutFactor:l??2,maxRetries:o??5,methods:u??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:f??[500,502,503,504,429],errorCodes:A??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(C=>{this.aborted=!0,this.abort?this.abort(C):this.reason=C})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,t,r){this.handler.onUpgrade&&this.handler.onUpgrade(e,t,r)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[kN](e,{state:t,opts:r},i){let{statusCode:s,code:o,headers:a}=e,{method:c,retryOptions:l}=r,{maxRetries:u,minTimeout:A,maxTimeout:d,timeoutFactor:f,statusCodes:Q,errorCodes:C,methods:I}=l,{counter:S}=t;if(o&&o!=="UND_ERR_REQ_RETRY"&&!C.includes(o)){i(e);return}if(Array.isArray(I)&&!I.includes(c)){i(e);return}if(s!=null&&Array.isArray(Q)&&!Q.includes(s)){i(e);return}if(S>u){i(e);return}let b=a?.["retry-after"];b&&(b=Number(b),b=Number.isNaN(b)?k5(b):b*1e3);let M=b>0?Math.min(b,d):Math.min(A*f**(S-1),d);setTimeout(()=>i(null),M)}onHeaders(e,t,r,i){let s=T5(t);if(this.retryCount+=1,e>=300)return this.retryOpts.statusCodes.includes(e)===!1?this.handler.onHeaders(e,t,r,i):(this.abort(new uf("Request failed",e,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,e!==206)return!0;let a=_N(s["content-range"]);if(!a)return this.abort(new uf("Content-Range mismatch",e,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new uf("ETag mismatch",e,{headers:s,data:{count:this.retryCount}})),!1;let{start:c,size:l,end:u=l}=a;return Ic(this.start===c,"content-range mismatch"),Ic(this.end==null||this.end===u,"content-range mismatch"),this.resume=r,!0}if(this.end==null){if(e===206){let a=_N(s["content-range"]);if(a==null)return this.handler.onHeaders(e,t,r,i);let{start:c,size:l,end:u=l}=a;Ic(c!=null&&Number.isFinite(c),"content-range mismatch"),Ic(u!=null&&Number.isFinite(u),"invalid content-length"),this.start=c,this.end=u}if(this.end==null){let a=s["content-length"];this.end=a!=null?Number(a):null}return Ic(Number.isFinite(this.start)),Ic(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=r,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(e,t,r,i)}let o=new uf("Request failed",e,{headers:s,data:{count:this.retryCount}});return this.abort(o),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||NN(this.opts.body))return this.handler.onError(e);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(e,{state:{counter:this.retryCount},opts:_({retryOptions:this.retryOpts},this.opts)},t.bind(this));function t(r){if(r!=null||this.aborted||NN(this.opts.body))return this.handler.onError(r);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts=W(_({},this.opts),{headers:_(_({},this.opts.headers),i)})}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}}};MN.exports=ay});var LN=v((kge,FN)=>{"use strict";var N5=Bu(),_5=Af(),cy=class extends N5{#e=null;#t=null;constructor(e,t={}){super(t),this.#e=e,this.#t=t}dispatch(e,t){let r=new _5(W(_({},e),{retryOptions:this.#t}),{dispatch:this.#e.dispatch.bind(this.#e),handler:t});return this.#e.dispatch(e,r)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};FN.exports=cy});var fy=v((_ge,HN)=>{"use strict";var PN=N("assert"),{Readable:M5}=N("stream"),{RequestAbortedError:VN,NotSupportedError:F5,InvalidArgumentError:L5,AbortError:ly}=Fe(),GN=me(),{ReadableStreamFrom:x5}=me(),xn=Symbol("kConsume"),$u=Symbol("kReading"),Rs=Symbol("kBody"),xN=Symbol("kAbort"),qN=Symbol("kContentType"),UN=Symbol("kContentLength"),U5=()=>{},uy=class extends M5{constructor({resume:e,abort:t,contentType:r="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:s}),this._readableState.dataEmitted=!1,this[xN]=t,this[xn]=null,this[Rs]=null,this[qN]=r,this[UN]=i,this[$u]=!1}destroy(e){return!e&&!this._readableState.endEmitted&&(e=new VN),e&&this[xN](),super.destroy(e)}_destroy(e,t){this[$u]?t(e):setImmediate(()=>{t(e)})}on(e,...t){return(e==="data"||e==="readable")&&(this[$u]=!0),super.on(e,...t)}addListener(e,...t){return this.on(e,...t)}off(e,...t){let r=super.off(e,...t);return(e==="data"||e==="readable")&&(this[$u]=this.listenerCount("data")>0||this.listenerCount("readable")>0),r}removeListener(e,...t){return this.off(e,...t)}push(e){return this[xn]&&e!==null?(dy(this[xn],e),this[$u]?super.push(e):!0):super.push(e)}text(){return m(this,null,function*(){return df(this,"text")})}json(){return m(this,null,function*(){return df(this,"json")})}blob(){return m(this,null,function*(){return df(this,"blob")})}arrayBuffer(){return m(this,null,function*(){return df(this,"arrayBuffer")})}formData(){return m(this,null,function*(){throw new F5})}get bodyUsed(){return GN.isDisturbed(this)}get body(){return this[Rs]||(this[Rs]=x5(this),this[xn]&&(this[Rs].getReader(),PN(this[Rs].locked))),this[Rs]}dump(e){return m(this,null,function*(){let t=Number.isFinite(e?.limit)?e.limit:131072,r=e?.signal;if(r!=null&&(typeof r!="object"||!("aborted"in r)))throw new L5("signal must be an AbortSignal");return r?.throwIfAborted(),this._readableState.closeEmitted?null:yield new Promise((i,s)=>{this[UN]>t&&this.destroy(new ly);let o=()=>{this.destroy(r.reason??new ly)};r?.addEventListener("abort",o),this.on("close",function(){r?.removeEventListener("abort",o),r?.aborted?s(r.reason??new ly):i(null)}).on("error",U5).on("data",function(a){t-=a.length,t<=0&&this.destroy()}).resume()})})}};function O5(n){return n[Rs]&&n[Rs].locked===!0||n[xn]}function P5(n){return GN.isDisturbed(n)||O5(n)}function df(n,e){return m(this,null,function*(){return PN(!n[xn]),new Promise((t,r)=>{if(P5(n)){let i=n._readableState;i.destroyed&&i.closeEmitted===!1?n.on("error",s=>{r(s)}).on("close",()=>{r(new TypeError("unusable"))}):r(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{n[xn]={type:e,stream:n,resolve:t,reject:r,length:0,body:[]},n.on("error",function(i){hy(this[xn],i)}).on("close",function(){this[xn].body!==null&&hy(this[xn],new VN)}),V5(n[xn])})})})}function V5(n){if(n.body===null)return;let{_readableState:e}=n.stream;if(e.bufferIndex){let t=e.bufferIndex,r=e.buffer.length;for(let i=t;i<r;i++)dy(n,e.buffer[i])}else for(let t of e.buffer)dy(n,t);for(e.endEmitted?ON(this[xn]):n.stream.on("end",function(){ON(this[xn])}),n.stream.resume();n.stream.read()!=null;);}function Ay(n,e){if(n.length===0||e===0)return"";let t=n.length===1?n[0]:Buffer.concat(n,e),r=t.length,i=r>2&&t[0]===239&&t[1]===187&&t[2]===191?3:0;return t.utf8Slice(i,r)}function ON(n){let{type:e,body:t,resolve:r,stream:i,length:s}=n;try{if(e==="text")r(Ay(t,s));else if(e==="json")r(JSON.parse(Ay(t,s)));else if(e==="arrayBuffer"){let o=new Uint8Array(s),a=0;for(let c of t)o.set(c,a),a+=c.byteLength;r(o.buffer)}else e==="blob"&&r(new Blob(t,{type:i[qN]}));hy(n)}catch(o){i.destroy(o)}}function dy(n,e){n.length+=e.length,n.body.push(e)}function hy(n,e){n.body!==null&&(e?n.reject(e):n.resolve(),n.type=null,n.stream=null,n.resolve=null,n.reject=null,n.length=0,n.body=null)}HN.exports={Readable:uy,chunksDecode:Ay}});var gy=v((Fge,jN)=>{"use strict";var G5=N("assert"),{ResponseStatusCodeError:YN}=Fe(),{chunksDecode:WN}=fy(),q5=128*1024;function H5(o){return m(this,arguments,function*({callback:n,body:e,contentType:t,statusCode:r,statusMessage:i,headers:s}){G5(e);let a=[],c=0;try{try{for(var d=Yr(e),f,Q,C;f=!(Q=yield d.next()).done;f=!1){let I=Q.value;if(a.push(I),c+=I.length,c>q5){a=[],c=0;break}}}catch{C=[Q]}finally{try{f&&(Q=d.return)&&(yield Q.call(d))}finally{if(C)throw C[0]}}}catch{a=[],c=0}let l=`Response status code ${r}${i?`: ${i}`:""}`;if(r===204||!t||!c){queueMicrotask(()=>n(new YN(l,r,s)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let A;try{JN(t)?A=JSON.parse(WN(a,c)):zN(t)&&(A=WN(a,c))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>n(new YN(l,r,s,A)))})}var JN=n=>n.length>15&&n[11]==="/"&&n[0]==="a"&&n[1]==="p"&&n[2]==="p"&&n[3]==="l"&&n[4]==="i"&&n[5]==="c"&&n[6]==="a"&&n[7]==="t"&&n[8]==="i"&&n[9]==="o"&&n[10]==="n"&&n[12]==="j"&&n[13]==="s"&&n[14]==="o"&&n[15]==="n",zN=n=>n.length>4&&n[4]==="/"&&n[0]==="t"&&n[1]==="e"&&n[2]==="x"&&n[3]==="t";jN.exports={getResolveErrorBodyCallback:H5,isContentTypeApplicationJson:JN,isContentTypeText:zN}});var ZN=v((xge,py)=>{"use strict";var Y5=N("assert"),{Readable:W5}=fy(),{InvalidArgumentError:yc,RequestAbortedError:KN}=Fe(),nr=me(),{getResolveErrorBodyCallback:J5}=gy(),{AsyncResource:z5}=N("async_hooks"),hf=class extends z5{constructor(e,t){if(!e||typeof e!="object")throw new yc("invalid opts");let{signal:r,method:i,opaque:s,body:o,onInfo:a,responseHeaders:c,throwOnError:l,highWaterMark:u}=e;try{if(typeof t!="function")throw new yc("invalid callback");if(u&&(typeof u!="number"||u<0))throw new yc("invalid highWaterMark");if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new yc("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new yc("invalid method");if(a&&typeof a!="function")throw new yc("invalid onInfo callback");super("UNDICI_REQUEST")}catch(A){throw nr.isStream(o)&&nr.destroy(o.on("error",nr.nop),A),A}this.method=i,this.responseHeaders=c||null,this.opaque=s||null,this.callback=t,this.res=null,this.abort=null,this.body=o,this.trailers={},this.context=null,this.onInfo=a||null,this.throwOnError=l,this.highWaterMark=u,this.signal=r,this.reason=null,this.removeAbortListener=null,nr.isStream(o)&&o.on("error",A=>{this.onError(A)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new KN:this.removeAbortListener=nr.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new KN,this.res?nr.destroy(this.res,this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(e,t){if(this.reason){e(this.reason);return}Y5(this.callback),this.abort=e,this.context=t}onHeaders(e,t,r,i){let{callback:s,opaque:o,abort:a,context:c,responseHeaders:l,highWaterMark:u}=this,A=l==="raw"?nr.parseRawHeaders(t):nr.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:A});return}let d=l==="raw"?nr.parseHeaders(t):A,f=d["content-type"],Q=d["content-length"],C=new W5({resume:r,abort:a,contentType:f,contentLength:this.method!=="HEAD"&&Q?Number(Q):null,highWaterMark:u});this.removeAbortListener&&C.on("close",this.removeAbortListener),this.callback=null,this.res=C,s!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(J5,null,{callback:s,body:C,contentType:f,statusCode:e,statusMessage:i,headers:A}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:A,trailers:this.trailers,opaque:o,body:C,context:c}))}onData(e){return this.res.push(e)}onComplete(e){nr.parseHeaders(e,this.trailers),this.res.push(null)}onError(e){let{res:t,callback:r,body:i,opaque:s}=this;r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:s})})),t&&(this.res=null,queueMicrotask(()=>{nr.destroy(t,e)})),i&&(this.body=null,nr.destroy(i,e)),this.removeAbortListener&&(t?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function $N(n,e){if(e===void 0)return new Promise((t,r)=>{$N.call(this,n,(i,s)=>i?r(i):t(s))});try{this.dispatch(n,new hf(n,e))}catch(t){if(typeof e!="function")throw t;let r=n?.opaque;queueMicrotask(()=>e(t,{opaque:r}))}}py.exports=$N;py.exports.RequestHandler=hf});var Zu=v((Uge,t_)=>{"use strict";var{addAbortListener:j5}=me(),{RequestAbortedError:K5}=Fe(),Bc=Symbol("kListener"),oi=Symbol("kSignal");function XN(n){n.abort?n.abort(n[oi]?.reason):n.reason=n[oi]?.reason??new K5,e_(n)}function $5(n,e){if(n.reason=null,n[oi]=null,n[Bc]=null,!!e){if(e.aborted){XN(n);return}n[oi]=e,n[Bc]=()=>{XN(n)},j5(n[oi],n[Bc])}}function e_(n){n[oi]&&("removeEventListener"in n[oi]?n[oi].removeEventListener("abort",n[Bc]):n[oi].removeListener("abort",n[Bc]),n[oi]=null,n[Bc]=null)}t_.exports={addSignal:$5,removeSignal:e_}});var s_=v((Oge,i_)=>{"use strict";var Z5=N("assert"),{finished:X5,PassThrough:e8}=N("stream"),{InvalidArgumentError:Qc,InvalidReturnValueError:t8}=Fe(),Dr=me(),{getResolveErrorBodyCallback:n8}=gy(),{AsyncResource:r8}=N("async_hooks"),{addSignal:i8,removeSignal:n_}=Zu(),my=class extends r8{constructor(e,t,r){if(!e||typeof e!="object")throw new Qc("invalid opts");let{signal:i,method:s,opaque:o,body:a,onInfo:c,responseHeaders:l,throwOnError:u}=e;try{if(typeof r!="function")throw new Qc("invalid callback");if(typeof t!="function")throw new Qc("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new Qc("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new Qc("invalid method");if(c&&typeof c!="function")throw new Qc("invalid onInfo callback");super("UNDICI_STREAM")}catch(A){throw Dr.isStream(a)&&Dr.destroy(a.on("error",Dr.nop),A),A}this.responseHeaders=l||null,this.opaque=o||null,this.factory=t,this.callback=r,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=a,this.onInfo=c||null,this.throwOnError=u||!1,Dr.isStream(a)&&a.on("error",A=>{this.onError(A)}),i8(this,i)}onConnect(e,t){if(this.reason){e(this.reason);return}Z5(this.callback),this.abort=e,this.context=t}onHeaders(e,t,r,i){let{factory:s,opaque:o,context:a,callback:c,responseHeaders:l}=this,u=l==="raw"?Dr.parseRawHeaders(t):Dr.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:u});return}this.factory=null;let A;if(this.throwOnError&&e>=400){let Q=(l==="raw"?Dr.parseHeaders(t):u)["content-type"];A=new e8,this.callback=null,this.runInAsyncScope(n8,null,{callback:c,body:A,contentType:Q,statusCode:e,statusMessage:i,headers:u})}else{if(s===null)return;if(A=this.runInAsyncScope(s,null,{statusCode:e,headers:u,opaque:o,context:a}),!A||typeof A.write!="function"||typeof A.end!="function"||typeof A.on!="function")throw new t8("expected Writable");X5(A,{readable:!1},f=>{let{callback:Q,res:C,opaque:I,trailers:S,abort:b}=this;this.res=null,(f||!C.readable)&&Dr.destroy(C,f),this.callback=null,this.runInAsyncScope(Q,null,f||null,{opaque:I,trailers:S}),f&&b()})}return A.on("drain",r),this.res=A,(A.writableNeedDrain!==void 0?A.writableNeedDrain:A._writableState?.needDrain)!==!0}onData(e){let{res:t}=this;return t?t.write(e):!0}onComplete(e){let{res:t}=this;n_(this),t&&(this.trailers=Dr.parseHeaders(e),t.end())}onError(e){let{res:t,callback:r,opaque:i,body:s}=this;n_(this),this.factory=null,t?(this.res=null,Dr.destroy(t,e)):r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:i})})),s&&(this.body=null,Dr.destroy(s,e))}};function r_(n,e,t){if(t===void 0)return new Promise((r,i)=>{r_.call(this,n,e,(s,o)=>s?i(s):r(o))});try{this.dispatch(n,new my(n,e,t))}catch(r){if(typeof t!="function")throw r;let i=n?.opaque;queueMicrotask(()=>t(r,{opaque:i}))}}i_.exports=r_});var l_=v((Pge,c_)=>{"use strict";var{Readable:a_,Duplex:s8,PassThrough:o8}=N("stream"),{InvalidArgumentError:Xu,InvalidReturnValueError:a8,RequestAbortedError:Ey}=Fe(),rr=me(),{AsyncResource:c8}=N("async_hooks"),{addSignal:l8,removeSignal:u8}=Zu(),o_=N("assert"),wc=Symbol("resume"),Cy=class extends a_{constructor(){super({autoDestroy:!0}),this[wc]=null}_read(){let{[wc]:e}=this;e&&(this[wc]=null,e())}_destroy(e,t){this._read(),t(e)}},Iy=class extends a_{constructor(e){super({autoDestroy:!0}),this[wc]=e}_read(){this[wc]()}_destroy(e,t){!e&&!this._readableState.endEmitted&&(e=new Ey),t(e)}},yy=class extends c8{constructor(e,t){if(!e||typeof e!="object")throw new Xu("invalid opts");if(typeof t!="function")throw new Xu("invalid handler");let{signal:r,method:i,opaque:s,onInfo:o,responseHeaders:a}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Xu("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new Xu("invalid method");if(o&&typeof o!="function")throw new Xu("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=a||null,this.handler=t,this.abort=null,this.context=null,this.onInfo=o||null,this.req=new Cy().on("error",rr.nop),this.ret=new s8({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{let{body:c}=this;c?.resume&&c.resume()},write:(c,l,u)=>{let{req:A}=this;A.push(c,l)||A._readableState.destroyed?u():A[wc]=u},destroy:(c,l)=>{let{body:u,req:A,res:d,ret:f,abort:Q}=this;!c&&!f._readableState.endEmitted&&(c=new Ey),Q&&c&&Q(),rr.destroy(u,c),rr.destroy(A,c),rr.destroy(d,c),u8(this),l(c)}}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,l8(this,r)}onConnect(e,t){let{ret:r,res:i}=this;if(this.reason){e(this.reason);return}o_(!i,"pipeline cannot be retried"),o_(!r.destroyed),this.abort=e,this.context=t}onHeaders(e,t,r){let{opaque:i,handler:s,context:o}=this;if(e<200){if(this.onInfo){let c=this.responseHeaders==="raw"?rr.parseRawHeaders(t):rr.parseHeaders(t);this.onInfo({statusCode:e,headers:c})}return}this.res=new Iy(r);let a;try{this.handler=null;let c=this.responseHeaders==="raw"?rr.parseRawHeaders(t):rr.parseHeaders(t);a=this.runInAsyncScope(s,null,{statusCode:e,headers:c,opaque:i,body:this.res,context:o})}catch(c){throw this.res.on("error",rr.nop),c}if(!a||typeof a.on!="function")throw new a8("expected Readable");a.on("data",c=>{let{ret:l,body:u}=this;!l.push(c)&&u.pause&&u.pause()}).on("error",c=>{let{ret:l}=this;rr.destroy(l,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||rr.destroy(c,new Ey)}),this.body=a}onData(e){let{res:t}=this;return t.push(e)}onComplete(e){let{res:t}=this;t.push(null)}onError(e){let{ret:t}=this;this.handler=null,rr.destroy(t,e)}};function A8(n,e){try{let t=new yy(n,e);return this.dispatch(W(_({},n),{body:t.req}),t),t.ret}catch(t){return new o8().destroy(t)}}c_.exports=A8});var g_=v((Gge,f_)=>{"use strict";var{InvalidArgumentError:By,SocketError:d8}=Fe(),{AsyncResource:h8}=N("async_hooks"),u_=me(),{addSignal:f8,removeSignal:A_}=Zu(),d_=N("assert"),Qy=class extends h8{constructor(e,t){if(!e||typeof e!="object")throw new By("invalid opts");if(typeof t!="function")throw new By("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new By("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=t,this.abort=null,this.context=null,f8(this,r)}onConnect(e,t){if(this.reason){e(this.reason);return}d_(this.callback),this.abort=e,this.context=null}onHeaders(){throw new d8("bad upgrade",null)}onUpgrade(e,t,r){let{callback:i,opaque:s,context:o}=this;d_.strictEqual(e,101),A_(this),this.callback=null;let a=this.responseHeaders==="raw"?u_.parseRawHeaders(t):u_.parseHeaders(t);this.runInAsyncScope(i,null,null,{headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:t,opaque:r}=this;A_(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}};function h_(n,e){if(e===void 0)return new Promise((t,r)=>{h_.call(this,n,(i,s)=>i?r(i):t(s))});try{let t=new Qy(n,e);this.dispatch(W(_({},n),{method:n.method||"GET",upgrade:n.protocol||"Websocket"}),t)}catch(t){if(typeof e!="function")throw t;let r=n?.opaque;queueMicrotask(()=>e(t,{opaque:r}))}}f_.exports=h_});var I_=v((Hge,C_)=>{"use strict";var g8=N("assert"),{AsyncResource:p8}=N("async_hooks"),{InvalidArgumentError:wy,SocketError:m8}=Fe(),p_=me(),{addSignal:E8,removeSignal:m_}=Zu(),vy=class extends p8{constructor(e,t){if(!e||typeof e!="object")throw new wy("invalid opts");if(typeof t!="function")throw new wy("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new wy("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=t,this.abort=null,E8(this,r)}onConnect(e,t){if(this.reason){e(this.reason);return}g8(this.callback),this.abort=e,this.context=t}onHeaders(){throw new m8("bad connect",null)}onUpgrade(e,t,r){let{callback:i,opaque:s,context:o}=this;m_(this),this.callback=null;let a=t;a!=null&&(a=this.responseHeaders==="raw"?p_.parseRawHeaders(t):p_.parseHeaders(t)),this.runInAsyncScope(i,null,null,{statusCode:e,headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:t,opaque:r}=this;m_(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}};function E_(n,e){if(e===void 0)return new Promise((t,r)=>{E_.call(this,n,(i,s)=>i?r(i):t(s))});try{let t=new vy(n,e);this.dispatch(W(_({},n),{method:"CONNECT"}),t)}catch(t){if(typeof e!="function")throw t;let r=n?.opaque;queueMicrotask(()=>e(t,{opaque:r}))}}C_.exports=E_});var y_=v((Wge,vc)=>{"use strict";vc.exports.request=ZN();vc.exports.stream=s_();vc.exports.pipeline=l_();vc.exports.upgrade=g_();vc.exports.connect=I_()});var by=v((Jge,B_)=>{"use strict";var{UndiciError:C8}=Fe(),Sy=class n extends C8{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};B_.exports={MockNotMatchedError:Sy}});var Sc=v((zge,Q_)=>{"use strict";Q_.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var eA=v((jge,M_)=>{"use strict";var{MockNotMatchedError:Yo}=by(),{kDispatches:ff,kMockAgent:I8,kOriginalDispatch:y8,kOrigin:B8,kGetNetConnect:Q8}=Sc(),{buildURL:w8}=me(),{STATUS_CODES:v8}=N("http"),{types:{isPromise:S8}}=N("util");function Hi(n,e){return typeof n=="string"?n===e:n instanceof RegExp?n.test(e):typeof n=="function"?n(e)===!0:!1}function v_(n){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e.toLocaleLowerCase(),t]))}function S_(n,e){if(Array.isArray(n)){for(let t=0;t<n.length;t+=2)if(n[t].toLocaleLowerCase()===e.toLocaleLowerCase())return n[t+1];return}else return typeof n.get=="function"?n.get(e):v_(n)[e.toLocaleLowerCase()]}function Ry(n){let e=n.slice(),t=[];for(let r=0;r<e.length;r+=2)t.push([e[r],e[r+1]]);return Object.fromEntries(t)}function b_(n,e){if(typeof n.headers=="function")return Array.isArray(e)&&(e=Ry(e)),n.headers(e?v_(e):{});if(typeof n.headers>"u")return!0;if(typeof e!="object"||typeof n.headers!="object")return!1;for(let[t,r]of Object.entries(n.headers)){let i=S_(e,t);if(!Hi(r,i))return!1}return!0}function w_(n){if(typeof n!="string")return n;let e=n.split("?");if(e.length!==2)return n;let t=new URLSearchParams(e.pop());return t.sort(),[...e,t.toString()].join("?")}function b8(n,{path:e,method:t,body:r,headers:i}){let s=Hi(n.path,e),o=Hi(n.method,t),a=typeof n.body<"u"?Hi(n.body,r):!0,c=b_(n,i);return s&&o&&a&&c}function D_(n){return Buffer.isBuffer(n)?n:typeof n=="object"?JSON.stringify(n):n.toString()}function T_(n,e){let t=e.query?w8(e.path,e.query):e.path,r=typeof t=="string"?w_(t):t,i=n.filter(({consumed:s})=>!s).filter(({path:s})=>Hi(w_(s),r));if(i.length===0)throw new Yo(`Mock dispatch not matched for path '${r}'`);if(i=i.filter(({method:s})=>Hi(s,e.method)),i.length===0)throw new Yo(`Mock dispatch not matched for method '${e.method}' on path '${r}'`);if(i=i.filter(({body:s})=>typeof s<"u"?Hi(s,e.body):!0),i.length===0)throw new Yo(`Mock dispatch not matched for body '${e.body}' on path '${r}'`);if(i=i.filter(s=>b_(s,e.headers)),i.length===0){let s=typeof e.headers=="object"?JSON.stringify(e.headers):e.headers;throw new Yo(`Mock dispatch not matched for headers '${s}' on path '${r}'`)}return i[0]}function D8(n,e,t){let r={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof t=="function"?{callback:t}:_({},t),s=W(_(_({},r),e),{pending:!0,data:_({error:null},i)});return n.push(s),s}function Dy(n,e){let t=n.findIndex(r=>r.consumed?b8(r,e):!1);t!==-1&&n.splice(t,1)}function R_(n){let{path:e,method:t,body:r,headers:i,query:s}=n;return{path:e,method:t,body:r,headers:i,query:s}}function Ty(n){let e=Object.keys(n),t=[];for(let r=0;r<e.length;++r){let i=e[r],s=n[i],o=Buffer.from(`${i}`);if(Array.isArray(s))for(let a=0;a<s.length;++a)t.push(o,Buffer.from(`${s[a]}`));else t.push(o,Buffer.from(`${s}`))}return t}function k_(n){return v8[n]||"unknown"}function T8(n){return m(this,null,function*(){let e=[];try{for(var t=Yr(n),r,i,s;r=!(i=yield t.next()).done;r=!1){let o=i.value;e.push(o)}}catch{s=[i]}finally{try{r&&(i=t.return)&&(yield i.call(t))}finally{if(s)throw s[0]}}return Buffer.concat(e).toString("utf8")})}function N_(n,e){let t=R_(n),r=T_(this[ff],t);r.timesInvoked++,r.data.callback&&(r.data=_(_({},r.data),r.data.callback(n)));let{data:{statusCode:i,data:s,headers:o,trailers:a,error:c},delay:l,persist:u}=r,{timesInvoked:A,times:d}=r;if(r.consumed=!u&&A>=d,r.pending=A<d,c!==null)return Dy(this[ff],t),e.onError(c),!0;typeof l=="number"&&l>0?setTimeout(()=>{f(this[ff])},l):f(this[ff]);function f(C,I=s){let S=Array.isArray(n.headers)?Ry(n.headers):n.headers,b=typeof I=="function"?I(W(_({},n),{headers:S})):I;if(S8(b)){b.then(q=>f(C,q));return}let M=D_(b),k=Ty(o),O=Ty(a);e.onConnect?.(q=>e.onError(q),null),e.onHeaders?.(i,k,Q,k_(i)),e.onData?.(Buffer.from(M)),e.onComplete?.(O),Dy(C,t)}function Q(){}return!0}function R8(){let n=this[I8],e=this[B8],t=this[y8];return function(i,s){if(n.isMockActive)try{N_.call(this,i,s)}catch(o){if(o instanceof Yo){let a=n[Q8]();if(a===!1)throw new Yo(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(__(a,e))t.call(this,i,s);else throw new Yo(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw o}else t.call(this,i,s)}}function __(n,e){let t=new URL(e);return n===!0?!0:!!(Array.isArray(n)&&n.some(r=>Hi(r,t.host)))}function k8(n){if(n){let e=n,{agent:t}=e;return Lt(e,["agent"])}}M_.exports={getResponseData:D_,getMockDispatch:T_,addMockDispatch:D8,deleteMockDispatch:Dy,buildKey:R_,generateKeyValues:Ty,matchValue:Hi,getResponse:T8,getStatusText:k_,mockDispatch:N_,buildMockDispatch:R8,checkNetConnect:__,buildMockOptions:k8,getHeaderByName:S_,buildHeadersFromArray:Ry}});var xy=v(($ge,Ly)=>{"use strict";var{getResponseData:N8,buildKey:_8,addMockDispatch:ky}=eA(),{kDispatches:gf,kDispatchKey:pf,kDefaultHeaders:Ny,kDefaultTrailers:_y,kContentLength:My,kMockDispatch:mf}=Sc(),{InvalidArgumentError:ai}=Fe(),{buildURL:M8}=me(),bc=class{constructor(e){this[mf]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new ai("waitInMs must be a valid integer > 0");return this[mf].delay=e,this}persist(){return this[mf].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new ai("repeatTimes must be a valid integer > 0");return this[mf].times=e,this}},Fy=class{constructor(e,t){if(typeof e!="object")throw new ai("opts must be an object");if(typeof e.path>"u")throw new ai("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=M8(e.path,e.query);else{let r=new URL(e.path,"data://");e.path=r.pathname+r.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[pf]=_8(e),this[gf]=t,this[Ny]={},this[_y]={},this[My]=!1}createMockScopeDispatchData({statusCode:e,data:t,responseOptions:r}){let i=N8(t),s=this[My]?{"content-length":i.length}:{},o=_(_(_({},this[Ny]),s),r.headers),a=_(_({},this[_y]),r.trailers);return{statusCode:e,data:t,headers:o,trailers:a}}validateReplyParameters(e){if(typeof e.statusCode>"u")throw new ai("statusCode must be defined");if(typeof e.responseOptions!="object"||e.responseOptions===null)throw new ai("responseOptions must be an object")}reply(e){if(typeof e=="function"){let s=a=>{let c=e(a);if(typeof c!="object"||c===null)throw new ai("reply options callback must return an object");let l=_({data:"",responseOptions:{}},c);return this.validateReplyParameters(l),_({},this.createMockScopeDispatchData(l))},o=ky(this[gf],this[pf],s);return new bc(o)}let t={statusCode:e,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(t);let r=this.createMockScopeDispatchData(t),i=ky(this[gf],this[pf],r);return new bc(i)}replyWithError(e){if(typeof e>"u")throw new ai("error must be defined");let t=ky(this[gf],this[pf],{error:e});return new bc(t)}defaultReplyHeaders(e){if(typeof e>"u")throw new ai("headers must be defined");return this[Ny]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new ai("trailers must be defined");return this[_y]=e,this}replyContentLength(){return this[My]=!0,this}};Ly.exports.MockInterceptor=Fy;Ly.exports.MockScope=bc});var Py=v((Xge,V_)=>{"use strict";var{promisify:F8}=N("util"),L8=Hu(),{buildMockDispatch:x8}=eA(),{kDispatches:F_,kMockAgent:L_,kClose:x_,kOriginalClose:U_,kOrigin:O_,kOriginalDispatch:U8,kConnected:Uy}=Sc(),{MockInterceptor:O8}=xy(),P_=Ze(),{InvalidArgumentError:P8}=Fe(),Oy=class extends L8{constructor(e,t){if(super(e,t),!t||!t.agent||typeof t.agent.dispatch!="function")throw new P8("Argument opts.agent must implement Agent");this[L_]=t.agent,this[O_]=e,this[F_]=[],this[Uy]=1,this[U8]=this.dispatch,this[U_]=this.close.bind(this),this.dispatch=x8.call(this),this.close=this[x_]}get[P_.kConnected](){return this[Uy]}intercept(e){return new O8(e,this[F_])}[x_](){return m(this,null,function*(){yield F8(this[U_])(),this[Uy]=0,this[L_][P_.kClients].delete(this[O_])})}};V_.exports=Oy});var qy=v((tpe,z_)=>{"use strict";var{promisify:V8}=N("util"),G8=Ec(),{buildMockDispatch:q8}=eA(),{kDispatches:G_,kMockAgent:q_,kClose:H_,kOriginalClose:Y_,kOrigin:W_,kOriginalDispatch:H8,kConnected:Vy}=Sc(),{MockInterceptor:Y8}=xy(),J_=Ze(),{InvalidArgumentError:W8}=Fe(),Gy=class extends G8{constructor(e,t){if(super(e,t),!t||!t.agent||typeof t.agent.dispatch!="function")throw new W8("Argument opts.agent must implement Agent");this[q_]=t.agent,this[W_]=e,this[G_]=[],this[Vy]=1,this[H8]=this.dispatch,this[Y_]=this.close.bind(this),this.dispatch=q8.call(this),this.close=this[H_]}get[J_.kConnected](){return this[Vy]}intercept(e){return new Y8(e,this[G_])}[H_](){return m(this,null,function*(){yield V8(this[Y_])(),this[Vy]=0,this[q_][J_.kClients].delete(this[W_])})}};z_.exports=Gy});var K_=v((ipe,j_)=>{"use strict";var J8={pronoun:"it",is:"is",was:"was",this:"this"},z8={pronoun:"they",is:"are",was:"were",this:"these"};j_.exports=class{constructor(e,t){this.singular=e,this.plural=t}pluralize(e){let t=e===1,r=t?J8:z8,i=t?this.singular:this.plural;return W(_({},r),{count:e,noun:i})}}});var Z_=v((ape,$_)=>{"use strict";var{Transform:j8}=N("stream"),{Console:K8}=N("console"),$8=process.versions.icu?"\u2705":"Y ",Z8=process.versions.icu?"\u274C":"N ";$_.exports=class{constructor({disableColors:e}={}){this.transform=new j8({transform(t,r,i){i(null,t)}}),this.logger=new K8({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let t=e.map(({method:r,path:i,data:{statusCode:s},persist:o,times:a,timesInvoked:c,origin:l})=>({Method:r,Origin:l,Path:i,"Status code":s,Persistent:o?$8:Z8,Invocations:c,Remaining:o?1/0:a-c}));return this.logger.table(t),this.transform.read().toString()}}});var n1=v((cpe,t1)=>{"use strict";var{kClients:Wo}=Ze(),X8=Cc(),{kAgent:Hy,kMockAgentSet:Ef,kMockAgentGet:X_,kDispatches:Yy,kIsMockActive:Cf,kNetConnect:Jo,kGetNetConnect:ez,kOptions:If,kFactory:yf}=Sc(),tz=Py(),nz=qy(),{matchValue:rz,buildMockOptions:iz}=eA(),{InvalidArgumentError:e1,UndiciError:sz}=Fe(),oz=Bu(),az=K_(),cz=Z_(),Wy=class extends oz{constructor(e){if(super(e),this[Jo]=!0,this[Cf]=!0,e?.agent&&typeof e.agent.dispatch!="function")throw new e1("Argument opts.agent must implement Agent");let t=e?.agent?e.agent:new X8(e);this[Hy]=t,this[Wo]=t[Wo],this[If]=iz(e)}get(e){let t=this[X_](e);return t||(t=this[yf](e),this[Ef](e,t)),t}dispatch(e,t){return this.get(e.origin),this[Hy].dispatch(e,t)}close(){return m(this,null,function*(){yield this[Hy].close(),this[Wo].clear()})}deactivate(){this[Cf]=!1}activate(){this[Cf]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[Jo])?this[Jo].push(e):this[Jo]=[e];else if(typeof e>"u")this[Jo]=!0;else throw new e1("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[Jo]=!1}get isMockActive(){return this[Cf]}[Ef](e,t){this[Wo].set(e,t)}[yf](e){let t=Object.assign({agent:this},this[If]);return this[If]&&this[If].connections===1?new tz(e,t):new nz(e,t)}[X_](e){let t=this[Wo].get(e);if(t)return t;if(typeof e!="string"){let r=this[yf]("http://localhost:9999");return this[Ef](e,r),r}for(let[r,i]of Array.from(this[Wo]))if(i&&typeof r!="string"&&rz(r,e)){let s=this[yf](e);return this[Ef](e,s),s[Yy]=i[Yy],s}}[ez](){return this[Jo]}pendingInterceptors(){let e=this[Wo];return Array.from(e.entries()).flatMap(([t,r])=>r[Yy].map(i=>W(_({},i),{origin:t}))).filter(({pending:t})=>t)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new cz}={}){let t=this.pendingInterceptors();if(t.length===0)return;let r=new az("interceptor","interceptors").pluralize(t.length);throw new sz(`
${r.count} ${r.noun} ${r.is} pending:

${e.format(t)}
`.trim())}};t1.exports=Wy});var Bf=v((upe,o1)=>{"use strict";var r1=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:lz}=Fe(),uz=Cc();s1()===void 0&&i1(new uz);function i1(n){if(!n||typeof n.dispatch!="function")throw new lz("Argument agent must implement Agent");Object.defineProperty(globalThis,r1,{value:n,writable:!0,enumerable:!1,configurable:!1})}function s1(){return globalThis[r1]}o1.exports={setGlobalDispatcher:i1,getGlobalDispatcher:s1}});var Jy=v((dpe,a1)=>{"use strict";a1.exports=class{#e;constructor(e){if(typeof e!="object"||e===null)throw new TypeError("handler must be an object");this.#e=e}onConnect(...e){return this.#e.onConnect?.(...e)}onError(...e){return this.#e.onError?.(...e)}onUpgrade(...e){return this.#e.onUpgrade?.(...e)}onResponseStarted(...e){return this.#e.onResponseStarted?.(...e)}onHeaders(...e){return this.#e.onHeaders?.(...e)}onData(...e){return this.#e.onData?.(...e)}onComplete(...e){return this.#e.onComplete?.(...e)}onBodySent(...e){return this.#e.onBodySent?.(...e)}}});var l1=v((hpe,c1)=>{"use strict";var Az=Zh();c1.exports=n=>{let e=n?.maxRedirections;return t=>function(i,s){let l=i,{maxRedirections:o=e}=l,a=Lt(l,["maxRedirections"]);if(!o)return t(i,s);let c=new Az(t,o,i,s);return t(a,c)}}});var A1=v((gpe,u1)=>{"use strict";var dz=Af();u1.exports=n=>e=>function(r,i){return e(r,new dz(W(_({},r),{retryOptions:_(_({},n),r.retryOptions)}),{handler:i,dispatch:e}))}});var h1=v((mpe,d1)=>{"use strict";var hz=me(),{InvalidArgumentError:fz,RequestAbortedError:gz}=Fe(),pz=Jy(),zy=class extends pz{#e=1024*1024;#t=null;#i=!1;#r=!1;#n=0;#s=null;#o=null;constructor({maxSize:e},t){if(super(t),e!=null&&(!Number.isFinite(e)||e<1))throw new fz("maxSize must be a number greater than 0");this.#e=e??this.#e,this.#o=t}onConnect(e){this.#t=e,this.#o.onConnect(this.#a.bind(this))}#a(e){this.#r=!0,this.#s=e}onHeaders(e,t,r,i){let o=hz.parseHeaders(t)["content-length"];if(o!=null&&o>this.#e)throw new gz(`Response size (${o}) larger than maxSize (${this.#e})`);return this.#r?!0:this.#o.onHeaders(e,t,r,i)}onError(e){this.#i||(e=this.#s??e,this.#o.onError(e))}onData(e){return this.#n=this.#n+e.length,this.#n>=this.#e&&(this.#i=!0,this.#r?this.#o.onError(this.#s):this.#o.onComplete([])),!0}onComplete(e){if(!this.#i){if(this.#r){this.#o.onError(this.reason);return}this.#o.onComplete(e)}}};function mz({maxSize:n}={maxSize:1024*1024}){return e=>function(r,i){let{dumpMaxSize:s=n}=r,o=new zy({maxSize:s},i);return e(r,o)}}d1.exports=mz});var zo=v((Epe,I1)=>{"use strict";var{kConstruct:Ez}=Ze(),{kEnumerableProperty:Dc}=me(),{iteratorMixin:Cz,isValidHeaderName:tA,isValidHeaderValue:g1}=Ln(),{webidl:De}=Ht(),jy=N("assert"),Qf=N("util"),Qt=Symbol("headers map"),Un=Symbol("headers map sorted");function f1(n){return n===10||n===13||n===9||n===32}function p1(n){let e=0,t=n.length;for(;t>e&&f1(n.charCodeAt(t-1));)--t;for(;t>e&&f1(n.charCodeAt(e));)++e;return e===0&&t===n.length?n:n.substring(e,t)}function m1(n,e){if(Array.isArray(e))for(let t=0;t<e.length;++t){let r=e[t];if(r.length!==2)throw De.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${r.length}.`});Ky(n,r[0],r[1])}else if(typeof e=="object"&&e!==null){let t=Object.keys(e);for(let r=0;r<t.length;++r)Ky(n,t[r],e[t[r]])}else throw De.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function Ky(n,e,t){if(t=p1(t),tA(e)){if(!g1(t))throw De.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header value"})}else throw De.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(C1(n)==="immutable")throw new TypeError("immutable");return $y(n).append(e,t,!1)}function E1(n,e){return n[0]<e[0]?-1:1}var wf=class n{cookies=null;constructor(e){e instanceof n?(this[Qt]=new Map(e[Qt]),this[Un]=e[Un],this.cookies=e.cookies===null?null:[...e.cookies]):(this[Qt]=new Map(e),this[Un]=null)}contains(e,t){return this[Qt].has(t?e:e.toLowerCase())}clear(){this[Qt].clear(),this[Un]=null,this.cookies=null}append(e,t,r){this[Un]=null;let i=r?e:e.toLowerCase(),s=this[Qt].get(i);if(s){let o=i==="cookie"?"; ":", ";this[Qt].set(i,{name:s.name,value:`${s.value}${o}${t}`})}else this[Qt].set(i,{name:e,value:t});i==="set-cookie"&&(this.cookies??=[]).push(t)}set(e,t,r){this[Un]=null;let i=r?e:e.toLowerCase();i==="set-cookie"&&(this.cookies=[t]),this[Qt].set(i,{name:e,value:t})}delete(e,t){this[Un]=null,t||(e=e.toLowerCase()),e==="set-cookie"&&(this.cookies=null),this[Qt].delete(e)}get(e,t){return this[Qt].get(t?e:e.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:e,1:{value:t}}of this[Qt])yield[e,t]}get entries(){let e={};if(this[Qt].size!==0)for(let{name:t,value:r}of this[Qt].values())e[t]=r;return e}rawValues(){return this[Qt].values()}get entriesList(){let e=[];if(this[Qt].size!==0)for(let{0:t,1:{name:r,value:i}}of this[Qt])if(t==="set-cookie")for(let s of this.cookies)e.push([r,s]);else e.push([r,i]);return e}toSortedArray(){let e=this[Qt].size,t=new Array(e);if(e<=32){if(e===0)return t;let r=this[Qt][Symbol.iterator](),i=r.next().value;t[0]=[i[0],i[1].value],jy(i[1].value!==null);for(let s=1,o=0,a=0,c=0,l=0,u,A;s<e;++s){for(A=r.next().value,u=t[s]=[A[0],A[1].value],jy(u[1]!==null),c=0,a=s;c<a;)l=c+(a-c>>1),t[l][0]<=u[0]?c=l+1:a=l;if(s!==l){for(o=s;o>c;)t[o]=t[--o];t[c]=u}}if(!r.next().done)throw new TypeError("Unreachable");return t}else{let r=0;for(let{0:i,1:{value:s}}of this[Qt])t[r++]=[i,s],jy(s!==null);return t.sort(E1)}}},Tr=class n{#e;#t;constructor(e=void 0){e!==Ez&&(this.#t=new wf,this.#e="none",e!==void 0&&(e=De.converters.HeadersInit(e,"Headers contructor","init"),m1(this,e)))}append(e,t){De.brandCheck(this,n),De.argumentLengthCheck(arguments,2,"Headers.append");let r="Headers.append";return e=De.converters.ByteString(e,r,"name"),t=De.converters.ByteString(t,r,"value"),Ky(this,e,t)}delete(e){if(De.brandCheck(this,n),De.argumentLengthCheck(arguments,1,"Headers.delete"),e=De.converters.ByteString(e,"Headers.delete","name"),!tA(e))throw De.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(e,!1)&&this.#t.delete(e,!1)}get(e){De.brandCheck(this,n),De.argumentLengthCheck(arguments,1,"Headers.get");let t="Headers.get";if(e=De.converters.ByteString(e,t,"name"),!tA(e))throw De.errors.invalidArgument({prefix:t,value:e,type:"header name"});return this.#t.get(e,!1)}has(e){De.brandCheck(this,n),De.argumentLengthCheck(arguments,1,"Headers.has");let t="Headers.has";if(e=De.converters.ByteString(e,t,"name"),!tA(e))throw De.errors.invalidArgument({prefix:t,value:e,type:"header name"});return this.#t.contains(e,!1)}set(e,t){De.brandCheck(this,n),De.argumentLengthCheck(arguments,2,"Headers.set");let r="Headers.set";if(e=De.converters.ByteString(e,r,"name"),t=De.converters.ByteString(t,r,"value"),t=p1(t),tA(e)){if(!g1(t))throw De.errors.invalidArgument({prefix:r,value:t,type:"header value"})}else throw De.errors.invalidArgument({prefix:r,value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(e,t,!1)}getSetCookie(){De.brandCheck(this,n);let e=this.#t.cookies;return e?[...e]:[]}get[Un](){if(this.#t[Un])return this.#t[Un];let e=[],t=this.#t.toSortedArray(),r=this.#t.cookies;if(r===null||r.length===1)return this.#t[Un]=t;for(let i=0;i<t.length;++i){let{0:s,1:o}=t[i];if(s==="set-cookie")for(let a=0;a<r.length;++a)e.push([s,r[a]]);else e.push([s,o])}return this.#t[Un]=e}[Qf.inspect.custom](e,t){return t.depth??=e,`Headers ${Qf.formatWithOptions(t,this.#t.entries)}`}static getHeadersGuard(e){return e.#e}static setHeadersGuard(e,t){e.#e=t}static getHeadersList(e){return e.#t}static setHeadersList(e,t){e.#t=t}},{getHeadersGuard:C1,setHeadersGuard:Iz,getHeadersList:$y,setHeadersList:yz}=Tr;Reflect.deleteProperty(Tr,"getHeadersGuard");Reflect.deleteProperty(Tr,"setHeadersGuard");Reflect.deleteProperty(Tr,"getHeadersList");Reflect.deleteProperty(Tr,"setHeadersList");Cz("Headers",Tr,Un,0,1);Object.defineProperties(Tr.prototype,{append:Dc,delete:Dc,get:Dc,has:Dc,set:Dc,getSetCookie:Dc,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[Qf.inspect.custom]:{enumerable:!1}});De.converters.HeadersInit=function(n,e,t){if(De.util.Type(n)==="Object"){let r=Reflect.get(n,Symbol.iterator);if(!Qf.types.isProxy(n)&&r===Tr.prototype.entries)try{return $y(n).entriesList}catch{}return typeof r=="function"?De.converters["sequence<sequence<ByteString>>"](n,e,t,r.bind(n)):De.converters["record<ByteString, ByteString>"](n,e,t)}throw De.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};I1.exports={fill:m1,compareHeaderName:E1,Headers:Tr,HeadersList:wf,getHeadersGuard:C1,setHeadersGuard:Iz,setHeadersList:yz,getHeadersList:$y}});var rA=v((Cpe,N1)=>{"use strict";var{Headers:S1,HeadersList:y1,fill:Bz,getHeadersGuard:Qz,setHeadersGuard:b1,setHeadersList:D1}=zo(),{extractBody:B1,cloneBody:wz,mixinBody:vz}=_u(),Zy=me(),Q1=N("util"),{kEnumerableProperty:On}=Zy,{isValidReasonPhrase:Sz,isCancelled:bz,isAborted:Dz,isBlobLike:Tz,serializeJavascriptValueToJSONString:Rz,isErrorLike:kz,isomorphicEncode:Nz,environmentSettingsObject:_z}=Ln(),{redirectStatusSet:Mz,nullBodyStatus:Fz}=vu(),{kState:At,kHeaders:Yi}=Bs(),{webidl:pe}=Ht(),{FormData:Lz}=ku(),{URLSerializer:w1}=Bn(),{kConstruct:Sf}=Ze(),Xy=N("assert"),{types:xz}=N("util"),{isDisturbed:Uz,isErrored:Oz}=N("stream"),Pz=new TextEncoder("utf-8"),T1=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,R1;T1&&(R1=new FinalizationRegistry(n=>{let e=n.deref();e&&!e.locked&&!Uz(e)&&!Oz(e)&&e.cancel("Response object has been garbage collected").catch(Vz)}));function Vz(){}var jo=class n{static error(){return nA(bf(),"immutable")}static json(e,t={}){pe.argumentLengthCheck(arguments,1,"Response.json"),t!==null&&(t=pe.converters.ResponseInit(t));let r=Pz.encode(Rz(e)),i=B1(r),s=nA(Tc({}),"response");return v1(s,t,{body:i[0],type:"application/json"}),s}static redirect(e,t=302){pe.argumentLengthCheck(arguments,1,"Response.redirect"),e=pe.converters.USVString(e),t=pe.converters["unsigned short"](t);let r;try{r=new URL(e,_z.settingsObject.baseUrl)}catch(o){throw new TypeError(`Failed to parse URL from ${e}`,{cause:o})}if(!Mz.has(t))throw new RangeError(`Invalid status code ${t}`);let i=nA(Tc({}),"immutable");i[At].status=t;let s=Nz(w1(r));return i[At].headersList.append("location",s,!0),i}constructor(e=null,t={}){if(e===Sf)return;e!==null&&(e=pe.converters.BodyInit(e)),t=pe.converters.ResponseInit(t),this[At]=Tc({}),this[Yi]=new S1(Sf),b1(this[Yi],"response"),D1(this[Yi],this[At].headersList);let r=null;if(e!=null){let[i,s]=B1(e);r={body:i,type:s}}v1(this,t,r)}get type(){return pe.brandCheck(this,n),this[At].type}get url(){pe.brandCheck(this,n);let e=this[At].urlList,t=e[e.length-1]??null;return t===null?"":w1(t,!0)}get redirected(){return pe.brandCheck(this,n),this[At].urlList.length>1}get status(){return pe.brandCheck(this,n),this[At].status}get ok(){return pe.brandCheck(this,n),this[At].status>=200&&this[At].status<=299}get statusText(){return pe.brandCheck(this,n),this[At].statusText}get headers(){return pe.brandCheck(this,n),this[Yi]}get body(){return pe.brandCheck(this,n),this[At].body?this[At].body.stream:null}get bodyUsed(){return pe.brandCheck(this,n),!!this[At].body&&Zy.isDisturbed(this[At].body.stream)}clone(){if(pe.brandCheck(this,n),this.bodyUsed||this.body?.locked)throw pe.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=eB(this[At]);return nA(e,Qz(this[Yi]))}[Q1.inspect.custom](e,t){t.depth===null&&(t.depth=2),t.colors??=!0;let r={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${Q1.formatWithOptions(t,r)}`}};vz(jo);Object.defineProperties(jo.prototype,{type:On,url:On,status:On,ok:On,redirected:On,statusText:On,headers:On,clone:On,body:On,bodyUsed:On,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(jo,{json:On,redirect:On,error:On});function eB(n){if(n.internalResponse)return k1(eB(n.internalResponse),n.type);let e=Tc(W(_({},n),{body:null}));return n.body!=null&&(e.body=wz(n.body)),e}function Tc(n){return W(_({aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:""},n),{headersList:n?.headersList?new y1(n?.headersList):new y1,urlList:n?.urlList?[...n.urlList]:[]})}function bf(n){let e=kz(n);return Tc({type:"error",status:0,error:e?n:new Error(n&&String(n)),aborted:n&&n.name==="AbortError"})}function Gz(n){return n.type==="error"&&n.status===0}function vf(n,e){return e=_({internalResponse:n},e),new Proxy(n,{get(t,r){return r in e?e[r]:t[r]},set(t,r,i){return Xy(!(r in e)),t[r]=i,!0}})}function k1(n,e){if(e==="basic")return vf(n,{type:"basic",headersList:n.headersList});if(e==="cors")return vf(n,{type:"cors",headersList:n.headersList});if(e==="opaque")return vf(n,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return vf(n,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});Xy(!1)}function qz(n,e=null){return Xy(bz(n)),Dz(n)?bf(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:e})):bf(Object.assign(new DOMException("Request was cancelled."),{cause:e}))}function v1(n,e,t){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!Sz(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(n[At].status=e.status),"statusText"in e&&e.statusText!=null&&(n[At].statusText=e.statusText),"headers"in e&&e.headers!=null&&Bz(n[Yi],e.headers),t){if(Fz.includes(n.status))throw pe.errors.exception({header:"Response constructor",message:`Invalid response status code ${n.status}`});n[At].body=t.body,t.type!=null&&!n[At].headersList.contains("content-type",!0)&&n[At].headersList.append("content-type",t.type,!0)}}function nA(n,e){let t=new jo(Sf);return t[At]=n,t[Yi]=new S1(Sf),D1(t[Yi],n.headersList),b1(t[Yi],e),T1&&n.body?.stream&&R1.register(t,new WeakRef(n.body.stream)),t}pe.converters.ReadableStream=pe.interfaceConverter(ReadableStream);pe.converters.FormData=pe.interfaceConverter(Lz);pe.converters.URLSearchParams=pe.interfaceConverter(URLSearchParams);pe.converters.XMLHttpRequestBodyInit=function(n,e,t){return typeof n=="string"?pe.converters.USVString(n,e,t):Tz(n)?pe.converters.Blob(n,e,t,{strict:!1}):ArrayBuffer.isView(n)||xz.isArrayBuffer(n)?pe.converters.BufferSource(n,e,t):Zy.isFormDataLike(n)?pe.converters.FormData(n,e,t,{strict:!1}):n instanceof URLSearchParams?pe.converters.URLSearchParams(n,e,t):pe.converters.DOMString(n,e,t)};pe.converters.BodyInit=function(n,e,t){return n instanceof ReadableStream?pe.converters.ReadableStream(n,e,t):n?.[Symbol.asyncIterator]?n:pe.converters.XMLHttpRequestBodyInit(n,e,t)};pe.converters.ResponseInit=pe.dictionaryConverter([{key:"status",converter:pe.converters["unsigned short"],defaultValue:()=>200},{key:"statusText",converter:pe.converters.ByteString,defaultValue:()=>""},{key:"headers",converter:pe.converters.HeadersInit}]);N1.exports={isNetworkError:Gz,makeNetworkError:bf,makeResponse:Tc,makeAppropriateNetworkError:qz,filterResponse:k1,Response:jo,cloneResponse:eB,fromInnerResponse:nA}});var L1=v((ype,F1)=>{"use strict";var{kConnected:_1,kSize:M1}=Ze(),tB=class{constructor(e){this.value=e}deref(){return this.value[_1]===0&&this.value[M1]===0?void 0:this.value}},nB=class{constructor(e){this.finalizer=e}register(e,t){e.on&&e.on("disconnect",()=>{e[_1]===0&&e[M1]===0&&this.finalizer(t)})}unregister(e){}};F1.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:tB,FinalizationRegistry:nB}):{WeakRef,FinalizationRegistry}}});var Rc=v((Bpe,K1)=>{"use strict";var{extractBody:Hz,mixinBody:Yz,cloneBody:Wz}=_u(),{Headers:Y1,fill:Jz,HeadersList:Rf,setHeadersGuard:iB,getHeadersGuard:zz,setHeadersList:W1,getHeadersList:x1}=zo(),{FinalizationRegistry:jz}=L1()(),iA=me(),U1=N("util"),{isValidHTTPToken:Kz,sameOrigin:O1,environmentSettingsObject:Df}=Ln(),{forbiddenMethodsSet:$z,corsSafeListedMethodsSet:Zz,referrerPolicy:Xz,requestRedirect:e6,requestMode:t6,requestCredentials:n6,requestCache:r6,requestDuplex:i6}=vu(),{kEnumerableProperty:wt,normalizedMethodRecordsBase:s6,normalizedMethodRecords:o6}=iA,{kHeaders:Pn,kSignal:Tf,kState:Je,kDispatcher:rB}=Bs(),{webidl:ae}=Ht(),{URLSerializer:a6}=Bn(),{kConstruct:kf}=Ze(),c6=N("assert"),{getMaxListeners:P1,setMaxListeners:V1,getEventListeners:l6,defaultMaxListeners:G1}=N("events"),u6=Symbol("abortController"),J1=new jz(({signal:n,abort:e})=>{n.removeEventListener("abort",e)}),Nf=new WeakMap;function q1(n){return e;function e(){let t=n.deref();if(t!==void 0){J1.unregister(e),this.removeEventListener("abort",e),t.abort(this.reason);let r=Nf.get(t.signal);if(r!==void 0){if(r.size!==0){for(let i of r){let s=i.deref();s!==void 0&&s.abort(this.reason)}r.clear()}Nf.delete(t.signal)}}}}var H1=!1,ks=class n{constructor(e,t={}){if(e===kf)return;let r="Request constructor";ae.argumentLengthCheck(arguments,1,r),e=ae.converters.RequestInfo(e,r,"input"),t=ae.converters.RequestInit(t,r,"init");let i=null,s=null,o=Df.settingsObject.baseUrl,a=null;if(typeof e=="string"){this[rB]=t.dispatcher;let S;try{S=new URL(e,o)}catch(b){throw new TypeError("Failed to parse URL from "+e,{cause:b})}if(S.username||S.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);i=_f({urlList:[S]}),s="cors"}else this[rB]=t.dispatcher||e[rB],c6(e instanceof n),i=e[Je],a=e[Tf];let c=Df.settingsObject.origin,l="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&O1(i.window,c)&&(l=i.window),t.window!=null)throw new TypeError(`'window' option '${l}' must be null`);"window"in t&&(l="no-window"),i=_f({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:Df.settingsObject,window:l,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let u=Object.keys(t).length!==0;if(u&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),t.referrer!==void 0){let S=t.referrer;if(S==="")i.referrer="no-referrer";else{let b;try{b=new URL(S,o)}catch(M){throw new TypeError(`Referrer "${S}" is not a valid URL.`,{cause:M})}b.protocol==="about:"&&b.hostname==="client"||c&&!O1(b,Df.settingsObject.baseUrl)?i.referrer="client":i.referrer=b}}t.referrerPolicy!==void 0&&(i.referrerPolicy=t.referrerPolicy);let A;if(t.mode!==void 0?A=t.mode:A=s,A==="navigate")throw ae.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(A!=null&&(i.mode=A),t.credentials!==void 0&&(i.credentials=t.credentials),t.cache!==void 0&&(i.cache=t.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(t.redirect!==void 0&&(i.redirect=t.redirect),t.integrity!=null&&(i.integrity=String(t.integrity)),t.keepalive!==void 0&&(i.keepalive=!!t.keepalive),t.method!==void 0){let S=t.method,b=o6[S];if(b!==void 0)i.method=b;else{if(!Kz(S))throw new TypeError(`'${S}' is not a valid HTTP method.`);let M=S.toUpperCase();if($z.has(M))throw new TypeError(`'${S}' HTTP method is unsupported.`);S=s6[M]??S,i.method=S}!H1&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),H1=!0)}t.signal!==void 0&&(a=t.signal),this[Je]=i;let d=new AbortController;if(this[Tf]=d.signal,a!=null){if(!a||typeof a.aborted!="boolean"||typeof a.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(a.aborted)d.abort(a.reason);else{this[u6]=d;let S=new WeakRef(d),b=q1(S);try{(typeof P1=="function"&&P1(a)===G1||l6(a,"abort").length>=G1)&&V1(1500,a)}catch{}iA.addAbortListener(a,b),J1.register(d,{signal:a,abort:b},b)}}if(this[Pn]=new Y1(kf),W1(this[Pn],i.headersList),iB(this[Pn],"request"),A==="no-cors"){if(!Zz.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);iB(this[Pn],"request-no-cors")}if(u){let S=x1(this[Pn]),b=t.headers!==void 0?t.headers:new Rf(S);if(S.clear(),b instanceof Rf){for(let{name:M,value:k}of b.rawValues())S.append(M,k,!1);S.cookies=b.cookies}else Jz(this[Pn],b)}let f=e instanceof n?e[Je].body:null;if((t.body!=null||f!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let Q=null;if(t.body!=null){let[S,b]=Hz(t.body,i.keepalive);Q=S,b&&!x1(this[Pn]).contains("content-type",!0)&&this[Pn].append("content-type",b)}let C=Q??f;if(C!=null&&C.source==null){if(Q!=null&&t.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let I=C;if(Q==null&&f!=null){if(iA.isDisturbed(f.stream)||f.stream.locked)throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let S=new TransformStream;f.stream.pipeThrough(S),I={source:f.source,length:f.length,stream:S.readable}}this[Je].body=I}get method(){return ae.brandCheck(this,n),this[Je].method}get url(){return ae.brandCheck(this,n),a6(this[Je].url)}get headers(){return ae.brandCheck(this,n),this[Pn]}get destination(){return ae.brandCheck(this,n),this[Je].destination}get referrer(){return ae.brandCheck(this,n),this[Je].referrer==="no-referrer"?"":this[Je].referrer==="client"?"about:client":this[Je].referrer.toString()}get referrerPolicy(){return ae.brandCheck(this,n),this[Je].referrerPolicy}get mode(){return ae.brandCheck(this,n),this[Je].mode}get credentials(){return this[Je].credentials}get cache(){return ae.brandCheck(this,n),this[Je].cache}get redirect(){return ae.brandCheck(this,n),this[Je].redirect}get integrity(){return ae.brandCheck(this,n),this[Je].integrity}get keepalive(){return ae.brandCheck(this,n),this[Je].keepalive}get isReloadNavigation(){return ae.brandCheck(this,n),this[Je].reloadNavigation}get isHistoryNavigation(){return ae.brandCheck(this,n),this[Je].historyNavigation}get signal(){return ae.brandCheck(this,n),this[Tf]}get body(){return ae.brandCheck(this,n),this[Je].body?this[Je].body.stream:null}get bodyUsed(){return ae.brandCheck(this,n),!!this[Je].body&&iA.isDisturbed(this[Je].body.stream)}get duplex(){return ae.brandCheck(this,n),"half"}clone(){if(ae.brandCheck(this,n),this.bodyUsed||this.body?.locked)throw new TypeError("unusable");let e=z1(this[Je]),t=new AbortController;if(this.signal.aborted)t.abort(this.signal.reason);else{let r=Nf.get(this.signal);r===void 0&&(r=new Set,Nf.set(this.signal,r));let i=new WeakRef(t);r.add(i),iA.addAbortListener(t.signal,q1(i))}return j1(e,t.signal,zz(this[Pn]))}[U1.inspect.custom](e,t){t.depth===null&&(t.depth=2),t.colors??=!0;let r={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${U1.formatWithOptions(t,r)}`}};Yz(ks);function _f(n){return{method:n.method??"GET",localURLsOnly:n.localURLsOnly??!1,unsafeRequest:n.unsafeRequest??!1,body:n.body??null,client:n.client??null,reservedClient:n.reservedClient??null,replacesClientId:n.replacesClientId??"",window:n.window??"client",keepalive:n.keepalive??!1,serviceWorkers:n.serviceWorkers??"all",initiator:n.initiator??"",destination:n.destination??"",priority:n.priority??null,origin:n.origin??"client",policyContainer:n.policyContainer??"client",referrer:n.referrer??"client",referrerPolicy:n.referrerPolicy??"",mode:n.mode??"no-cors",useCORSPreflightFlag:n.useCORSPreflightFlag??!1,credentials:n.credentials??"same-origin",useCredentials:n.useCredentials??!1,cache:n.cache??"default",redirect:n.redirect??"follow",integrity:n.integrity??"",cryptoGraphicsNonceMetadata:n.cryptoGraphicsNonceMetadata??"",parserMetadata:n.parserMetadata??"",reloadNavigation:n.reloadNavigation??!1,historyNavigation:n.historyNavigation??!1,userActivation:n.userActivation??!1,taintedOrigin:n.taintedOrigin??!1,redirectCount:n.redirectCount??0,responseTainting:n.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:n.preventNoCacheCacheControlHeaderModification??!1,done:n.done??!1,timingAllowFailed:n.timingAllowFailed??!1,urlList:n.urlList,url:n.urlList[0],headersList:n.headersList?new Rf(n.headersList):new Rf}}function z1(n){let e=_f(W(_({},n),{body:null}));return n.body!=null&&(e.body=Wz(n.body)),e}function j1(n,e,t){let r=new ks(kf);return r[Je]=n,r[Tf]=e,r[Pn]=new Y1(kf),W1(r[Pn],n.headersList),iB(r[Pn],t),r}Object.defineProperties(ks.prototype,{method:wt,url:wt,headers:wt,redirect:wt,clone:wt,signal:wt,duplex:wt,destination:wt,body:wt,bodyUsed:wt,isHistoryNavigation:wt,isReloadNavigation:wt,keepalive:wt,integrity:wt,cache:wt,credentials:wt,attribute:wt,referrerPolicy:wt,referrer:wt,mode:wt,[Symbol.toStringTag]:{value:"Request",configurable:!0}});ae.converters.Request=ae.interfaceConverter(ks);ae.converters.RequestInfo=function(n,e,t){return typeof n=="string"?ae.converters.USVString(n,e,t):n instanceof ks?ae.converters.Request(n,e,t):ae.converters.USVString(n,e,t)};ae.converters.AbortSignal=ae.interfaceConverter(AbortSignal);ae.converters.RequestInit=ae.dictionaryConverter([{key:"method",converter:ae.converters.ByteString},{key:"headers",converter:ae.converters.HeadersInit},{key:"body",converter:ae.nullableConverter(ae.converters.BodyInit)},{key:"referrer",converter:ae.converters.USVString},{key:"referrerPolicy",converter:ae.converters.DOMString,allowedValues:Xz},{key:"mode",converter:ae.converters.DOMString,allowedValues:t6},{key:"credentials",converter:ae.converters.DOMString,allowedValues:n6},{key:"cache",converter:ae.converters.DOMString,allowedValues:r6},{key:"redirect",converter:ae.converters.DOMString,allowedValues:e6},{key:"integrity",converter:ae.converters.DOMString},{key:"keepalive",converter:ae.converters.boolean},{key:"signal",converter:ae.nullableConverter(n=>ae.converters.AbortSignal(n,"RequestInit","signal",{strict:!1}))},{key:"window",converter:ae.converters.any},{key:"duplex",converter:ae.converters.DOMString,allowedValues:i6},{key:"dispatcher",converter:ae.converters.any}]);K1.exports={Request:ks,makeRequest:_f,fromInnerRequest:j1,cloneRequest:z1}});var oA=v((wpe,AM)=>{"use strict";var{makeNetworkError:xe,makeAppropriateNetworkError:Ff,filterResponse:sB,makeResponse:Lf,fromInnerResponse:A6}=rA(),{HeadersList:$1}=zo(),{Request:d6,cloneRequest:h6}=Rc(),Mf=N("zlib"),{bytesMatch:f6,makePolicyContainer:g6,clonePolicyContainer:p6,requestBadPort:m6,TAOCheck:E6,appendRequestOriginHeader:C6,responseLocationURL:I6,requestCurrentURL:ci,setRequestReferrerPolicyOnRedirect:y6,tryUpgradeRequestToAPotentiallyTrustworthyURL:B6,createOpaqueTimingInfo:uB,appendFetchMetadata:Q6,corsCheck:w6,crossOriginResourcePolicyCheck:v6,determineRequestsReferrer:S6,coarsenedSharedCurrentTime:sA,createDeferredPromise:b6,isBlobLike:D6,sameOrigin:lB,isCancelled:Ko,isAborted:Z1,isErrorLike:T6,fullyReadBody:R6,readableStreamClose:k6,isomorphicEncode:xf,urlIsLocal:N6,urlIsHttpHttpsScheme:AB,urlHasHttpsScheme:_6,clampAndCoarsenConnectionTimingInfo:M6,simpleRangeHeaderValue:F6,buildContentRange:L6,createInflate:x6,extractMimeType:U6}=Ln(),{kState:nM,kDispatcher:O6}=Bs(),$o=N("assert"),{safelyExtractBody:dB,extractBody:X1}=_u(),{redirectStatusSet:rM,nullBodyStatus:iM,safeMethodsSet:P6,requestBodyHeader:V6,subresourceSet:G6}=vu(),q6=N("events"),{Readable:H6,pipeline:Y6,finished:W6}=N("stream"),{addAbortListener:J6,isErrored:z6,isReadable:Uf,bufferToLowerCasedHeaderName:eM}=me(),{dataURLProcessor:j6,serializeAMimeType:K6,minimizeSupportedMimeType:$6}=Bn(),{getGlobalDispatcher:Z6}=Bf(),{webidl:X6}=Ht(),{STATUS_CODES:ej}=N("http"),tj=["GET","HEAD"],nj=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",oB,Of=class extends q6{constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function rj(n){sM(n,"fetch")}function ij(n,e=void 0){X6.argumentLengthCheck(arguments,1,"globalThis.fetch");let t=b6(),r;try{r=new d6(n,e)}catch(u){return t.reject(u),t.promise}let i=r[nM];if(r.signal.aborted)return aB(t,i,null,r.signal.reason),t.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let o=null,a=!1,c=null;return J6(r.signal,()=>{a=!0,$o(c!=null),c.abort(r.signal.reason);let u=o?.deref();aB(t,i,u,r.signal.reason)}),c=aM({request:i,processResponseEndOfBody:rj,processResponse:u=>{if(!a){if(u.aborted){aB(t,i,o,c.serializedAbortReason);return}if(u.type==="error"){t.reject(new TypeError("fetch failed",{cause:u.error}));return}o=new WeakRef(A6(u,"immutable")),t.resolve(o.deref()),t=null}},dispatcher:r[O6]}),t.promise}function sM(n,e="other"){if(n.type==="error"&&n.aborted||!n.urlList?.length)return;let t=n.urlList[0],r=n.timingInfo,i=n.cacheState;AB(t)&&r!==null&&(n.timingAllowPassed||(r=uB({startTime:r.startTime}),i=""),r.endTime=sA(),n.timingInfo=r,oM(r,t.href,e,globalThis,i))}var oM=performance.markResourceTiming;function aB(n,e,t,r){if(n&&n.reject(r),e.body!=null&&Uf(e.body?.stream)&&e.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),t==null)return;let i=t[nM];i.body!=null&&Uf(i.body?.stream)&&i.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}function aM({request:n,processRequestBodyChunkLength:e,processRequestEndOfBody:t,processResponse:r,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:o=!1,dispatcher:a=Z6()}){$o(a);let c=null,l=!1;n.client!=null&&(c=n.client.globalObject,l=n.client.crossOriginIsolatedCapability);let u=sA(l),A=uB({startTime:u}),d={controller:new Of(a),request:n,timingInfo:A,processRequestBodyChunkLength:e,processRequestEndOfBody:t,processResponse:r,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:l};return $o(!n.body||n.body.stream),n.window==="client"&&(n.window=n.client?.globalObject?.constructor?.name==="Window"?n.client:"no-window"),n.origin==="client"&&(n.origin=n.client.origin),n.policyContainer==="client"&&(n.client!=null?n.policyContainer=p6(n.client.policyContainer):n.policyContainer=g6()),n.headersList.contains("accept",!0)||n.headersList.append("accept","*/*",!0),n.headersList.contains("accept-language",!0)||n.headersList.append("accept-language","*",!0),n.priority,G6.has(n.destination),cM(d).catch(f=>{d.controller.terminate(f)}),d.controller}function cM(n,e=!1){return m(this,null,function*(){let t=n.request,r=null;if(t.localURLsOnly&&!N6(ci(t))&&(r=xe("local URLs only")),B6(t),m6(t)==="blocked"&&(r=xe("bad port")),t.referrerPolicy===""&&(t.referrerPolicy=t.policyContainer.referrerPolicy),t.referrer!=="no-referrer"&&(t.referrer=S6(t)),r===null&&(r=yield m(this,null,function*(){let s=ci(t);return lB(s,t.url)&&t.responseTainting==="basic"||s.protocol==="data:"||t.mode==="navigate"||t.mode==="websocket"?(t.responseTainting="basic",yield tM(n)):t.mode==="same-origin"?xe('request mode cannot be "same-origin"'):t.mode==="no-cors"?t.redirect!=="follow"?xe('redirect mode cannot be "follow" for "no-cors" request'):(t.responseTainting="opaque",yield tM(n)):AB(ci(t))?(t.responseTainting="cors",yield lM(n)):xe("URL scheme must be a HTTP(S) scheme")})),e)return r;r.status!==0&&!r.internalResponse&&(t.responseTainting,t.responseTainting==="basic"?r=sB(r,"basic"):t.responseTainting==="cors"?r=sB(r,"cors"):t.responseTainting==="opaque"?r=sB(r,"opaque"):$o(!1));let i=r.status===0?r:r.internalResponse;if(i.urlList.length===0&&i.urlList.push(...t.urlList),t.timingAllowFailed||(r.timingAllowPassed=!0),r.type==="opaque"&&i.status===206&&i.rangeRequested&&!t.headers.contains("range",!0)&&(r=i=xe()),r.status!==0&&(t.method==="HEAD"||t.method==="CONNECT"||iM.includes(i.status))&&(i.body=null,n.controller.dump=!0),t.integrity){let s=a=>cB(n,xe(a));if(t.responseTainting==="opaque"||r.body==null){s(r.error);return}let o=a=>{if(!f6(a,t.integrity)){s("integrity mismatch");return}r.body=dB(a)[0],cB(n,r)};yield R6(r.body,o,s)}else cB(n,r)})}function tM(n){if(Ko(n)&&n.request.redirectCount===0)return Promise.resolve(Ff(n));let{request:e}=n,{protocol:t}=ci(e);switch(t){case"about:":return Promise.resolve(xe("about scheme is not supported"));case"blob:":{oB||(oB=N("buffer").resolveObjectURL);let r=ci(e);if(r.search.length!==0)return Promise.resolve(xe("NetworkError when attempting to fetch resource."));let i=oB(r.toString());if(e.method!=="GET"||!D6(i))return Promise.resolve(xe("invalid method"));let s=Lf(),o=i.size,a=xf(`${o}`),c=i.type;if(e.headersList.contains("range",!0)){s.rangeRequested=!0;let l=e.headersList.get("range",!0),u=F6(l,!0);if(u==="failure")return Promise.resolve(xe("failed to fetch the data URL"));let{rangeStartValue:A,rangeEndValue:d}=u;if(A===null)A=o-d,d=A+d-1;else{if(A>=o)return Promise.resolve(xe("Range start is greater than the blob's size."));(d===null||d>=o)&&(d=o-1)}let f=i.slice(A,d,c),Q=X1(f);s.body=Q[0];let C=xf(`${f.size}`),I=L6(A,d,o);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",C,!0),s.headersList.set("content-type",c,!0),s.headersList.set("content-range",I,!0)}else{let l=X1(i);s.statusText="OK",s.body=l[0],s.headersList.set("content-length",a,!0),s.headersList.set("content-type",c,!0)}return Promise.resolve(s)}case"data:":{let r=ci(e),i=j6(r);if(i==="failure")return Promise.resolve(xe("failed to fetch the data URL"));let s=K6(i.mimeType);return Promise.resolve(Lf({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:dB(i.body)[0]}))}case"file:":return Promise.resolve(xe("not implemented... yet..."));case"http:":case"https:":return lM(n).catch(r=>xe(r));default:return Promise.resolve(xe("unknown scheme"))}}function sj(n,e){n.request.done=!0,n.processResponseDone!=null&&queueMicrotask(()=>n.processResponseDone(e))}function cB(n,e){let t=n.timingInfo,r=()=>{let s=Date.now();n.request.destination==="document"&&(n.controller.fullTimingInfo=t),n.controller.reportTimingSteps=()=>{if(n.request.url.protocol!=="https:")return;t.endTime=s;let a=e.cacheState,c=e.bodyInfo;e.timingAllowPassed||(t=uB(t),a="");let l=0;if(n.request.mode!=="navigator"||!e.hasCrossOriginRedirects){l=e.status;let u=U6(e.headersList);u!=="failure"&&(c.contentType=$6(u))}n.request.initiatorType!=null&&oM(t,n.request.url.href,n.request.initiatorType,globalThis,a,c,l)};let o=()=>{n.request.done=!0,n.processResponseEndOfBody!=null&&queueMicrotask(()=>n.processResponseEndOfBody(e)),n.request.initiatorType!=null&&n.controller.reportTimingSteps()};queueMicrotask(()=>o())};n.processResponse!=null&&queueMicrotask(()=>{n.processResponse(e),n.processResponse=null});let i=e.type==="error"?e:e.internalResponse??e;i.body==null?r():W6(i.body.stream,()=>{r()})}function lM(n){return m(this,null,function*(){let e=n.request,t=null,r=null,i=n.timingInfo;if(e.serviceWorkers,t===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),r=t=yield uM(n),e.responseTainting==="cors"&&w6(e,t)==="failure")return xe("cors failure");E6(e,t)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||t.type==="opaque")&&v6(e.origin,e.client,e.destination,r)==="blocked"?xe("blocked"):(rM.has(r.status)&&(e.redirect!=="manual"&&n.controller.connection.destroy(void 0,!1),e.redirect==="error"?t=xe("unexpected redirect"):e.redirect==="manual"?t=r:e.redirect==="follow"?t=yield oj(n,t):$o(!1)),t.timingInfo=i,t)})}function oj(n,e){let t=n.request,r=e.internalResponse?e.internalResponse:e,i;try{if(i=I6(r,ci(t).hash),i==null)return e}catch(o){return Promise.resolve(xe(o))}if(!AB(i))return Promise.resolve(xe("URL scheme must be a HTTP(S) scheme"));if(t.redirectCount===20)return Promise.resolve(xe("redirect count exceeded"));if(t.redirectCount+=1,t.mode==="cors"&&(i.username||i.password)&&!lB(t,i))return Promise.resolve(xe('cross origin not allowed for request mode "cors"'));if(t.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(xe('URL cannot contain credentials for request mode "cors"'));if(r.status!==303&&t.body!=null&&t.body.source==null)return Promise.resolve(xe());if([301,302].includes(r.status)&&t.method==="POST"||r.status===303&&!tj.includes(t.method)){t.method="GET",t.body=null;for(let o of V6)t.headersList.delete(o)}lB(ci(t),i)||(t.headersList.delete("authorization",!0),t.headersList.delete("proxy-authorization",!0),t.headersList.delete("cookie",!0),t.headersList.delete("host",!0)),t.body!=null&&($o(t.body.source!=null),t.body=dB(t.body.source)[0]);let s=n.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=sA(n.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),t.urlList.push(i),y6(t,r),cM(n,!0)}function uM(n,e=!1,t=!1){return m(this,null,function*(){let r=n.request,i=null,s=null,o=null,a=null,c=!1;r.window==="no-window"&&r.redirect==="error"?(i=n,s=r):(s=h6(r),i=_({},n),i.request=s);let l=r.credentials==="include"||r.credentials==="same-origin"&&r.responseTainting==="basic",u=s.body?s.body.length:null,A=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(A="0"),u!=null&&(A=xf(`${u}`)),A!=null&&s.headersList.append("content-length",A,!0),u!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",xf(s.referrer.href),!0),C6(s),Q6(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",nj),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(_6(ci(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),a==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,o==null){if(s.cache==="only-if-cached")return xe("only if cached");let d=yield aj(i,l,t);!P6.has(s.method)&&d.status>=200&&d.status<=399,c&&d.status,o==null&&(o=d)}if(o.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(o.rangeRequested=!0),o.requestIncludesCredentials=l,o.status===407)return r.window==="no-window"?xe():Ko(n)?Ff(n):xe("proxy authentication required");if(o.status===421&&!t&&(r.body==null||r.body.source!=null)){if(Ko(n))return Ff(n);n.controller.connection.destroy(),o=yield uM(n,e,!0)}return o})}function aj(n,e=!1,t=!1){return m(this,null,function*(){$o(!n.controller.connection||n.controller.connection.destroyed),n.controller.connection={abort:null,destroyed:!1,destroy(C,I=!0){this.destroyed||(this.destroyed=!0,I&&this.abort?.(C??new DOMException("The operation was aborted.","AbortError")))}};let r=n.request,i=null,s=n.timingInfo;null==null&&(r.cache="no-store");let a=t?"yes":"no";r.mode;let c=null;if(r.body==null&&n.processRequestEndOfBody)queueMicrotask(()=>n.processRequestEndOfBody());else if(r.body!=null){let C=function(b){return Ri(this,null,function*(){Ko(n)||(yield b,n.processRequestBodyChunkLength?.(b.byteLength))})},I=()=>{Ko(n)||n.processRequestEndOfBody&&n.processRequestEndOfBody()},S=b=>{Ko(n)||(b.name==="AbortError"?n.controller.abort():n.controller.terminate(b))};c=function(){return Ri(this,null,function*(){try{try{for(var b=Yr(r.body.stream),M,k,O;M=!(k=yield new bE(b.next())).done;M=!1){let q=k.value;yield*us(C(q))}}catch{O=[k]}finally{try{M&&(k=b.return)&&(yield new bE(k.call(b)))}finally{if(O)throw O[0]}}I()}catch(q){S(q)}})}()}try{let{body:C,status:I,statusText:S,headersList:b,socket:M}=yield f({body:c});if(M)i=Lf({status:I,statusText:S,headersList:b,socket:M});else{let k=C[Symbol.asyncIterator]();n.controller.next=()=>k.next(),i=Lf({status:I,statusText:S,headersList:b})}}catch(C){return C.name==="AbortError"?(n.controller.connection.destroy(),Ff(n,C)):xe(C)}let l=()=>m(this,null,function*(){yield n.controller.resume()}),u=C=>{Ko(n)||n.controller.abort(C)},A=new ReadableStream({start(C){return m(this,null,function*(){n.controller.controller=C})},pull(C){return m(this,null,function*(){yield l(C)})},cancel(C){return m(this,null,function*(){yield u(C)})},type:"bytes"});i.body={stream:A,source:null,length:null},n.controller.onAborted=d,n.controller.on("terminated",d),n.controller.resume=()=>m(this,null,function*(){for(;;){let C,I;try{let{done:b,value:M}=yield n.controller.next();if(Z1(n))break;C=b?void 0:M}catch(b){n.controller.ended&&!s.encodedBodySize?C=void 0:(C=b,I=!0)}if(C===void 0){k6(n.controller.controller),sj(n,i);return}if(s.decodedBodySize+=C?.byteLength??0,I){n.controller.terminate(C);return}let S=new Uint8Array(C);if(S.byteLength&&n.controller.controller.enqueue(S),z6(A)){n.controller.terminate();return}if(n.controller.controller.desiredSize<=0)return}});function d(C){Z1(n)?(i.aborted=!0,Uf(A)&&n.controller.controller.error(n.controller.serializedAbortReason)):Uf(A)&&n.controller.controller.error(new TypeError("terminated",{cause:T6(C)?C:void 0})),n.controller.connection.destroy()}return i;function f({body:C}){let I=ci(r),S=n.controller.dispatcher;return new Promise((b,M)=>S.dispatch({path:I.pathname+I.search,origin:I.origin,method:r.method,body:S.isMockActive?r.body&&(r.body.source||r.body.stream):C,headers:r.headersList.entries,maxRedirections:0,upgrade:r.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(k){let{connection:O}=n.controller;s.finalConnectionTimingInfo=M6(void 0,s.postRedirectStartTime,n.crossOriginIsolatedCapability),O.destroyed?k(new DOMException("The operation was aborted.","AbortError")):(n.controller.on("terminated",k),this.abort=O.abort=k),s.finalNetworkRequestStartTime=sA(n.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=sA(n.crossOriginIsolatedCapability)},onHeaders(k,O,q,B){if(k<200)return;let E=[],y="",w=new $1;for(let p=0;p<O.length;p+=2)w.append(eM(O[p]),O[p+1].toString("latin1"),!0);let g=w.get("content-encoding",!0);g&&(E=g.toLowerCase().split(",").map(p=>p.trim())),y=w.get("location",!0),this.body=new H6({read:q});let T=[],h=y&&r.redirect==="follow"&&rM.has(k);if(E.length!==0&&r.method!=="HEAD"&&r.method!=="CONNECT"&&!iM.includes(k)&&!h)for(let p=0;p<E.length;++p){let H=E[p];if(H==="x-gzip"||H==="gzip")T.push(Mf.createGunzip({flush:Mf.constants.Z_SYNC_FLUSH,finishFlush:Mf.constants.Z_SYNC_FLUSH}));else if(H==="deflate")T.push(x6());else if(H==="br")T.push(Mf.createBrotliDecompress());else{T.length=0;break}}return b({status:k,statusText:B,headersList:w,body:T.length?Y6(this.body,...T,()=>{}):this.body.on("error",()=>{})}),!0},onData(k){if(n.controller.dump)return;let O=k;return s.encodedBodySize+=O.byteLength,this.body.push(O)},onComplete(){this.abort&&n.controller.off("terminated",this.abort),n.controller.onAborted&&n.controller.off("terminated",n.controller.onAborted),n.controller.ended=!0,this.body.push(null)},onError(k){this.abort&&n.controller.off("terminated",this.abort),this.body?.destroy(k),n.controller.terminate(k),M(k)},onUpgrade(k,O,q){if(k!==101)return;let B=new $1;for(let E=0;E<O.length;E+=2)B.append(eM(O[E]),O[E+1].toString("latin1"),!0);return b({status:k,statusText:ej[k],headersList:B,socket:q}),!0}}))}})}AM.exports={fetch:ij,Fetch:Of,fetching:aM,finalizeAndReportTiming:sM}});var hB=v((Spe,dM)=>{"use strict";dM.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var fM=v((bpe,hM)=>{"use strict";var{webidl:Vn}=Ht(),Pf=Symbol("ProgressEvent state"),fB=class n extends Event{constructor(e,t={}){e=Vn.converters.DOMString(e,"ProgressEvent constructor","type"),t=Vn.converters.ProgressEventInit(t??{}),super(e,t),this[Pf]={lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}get lengthComputable(){return Vn.brandCheck(this,n),this[Pf].lengthComputable}get loaded(){return Vn.brandCheck(this,n),this[Pf].loaded}get total(){return Vn.brandCheck(this,n),this[Pf].total}};Vn.converters.ProgressEventInit=Vn.dictionaryConverter([{key:"lengthComputable",converter:Vn.converters.boolean,defaultValue:()=>!1},{key:"loaded",converter:Vn.converters["unsigned long long"],defaultValue:()=>0},{key:"total",converter:Vn.converters["unsigned long long"],defaultValue:()=>0},{key:"bubbles",converter:Vn.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:Vn.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:Vn.converters.boolean,defaultValue:()=>!1}]);hM.exports={ProgressEvent:fB}});var pM=v((Dpe,gM)=>{"use strict";function cj(n){if(!n)return"failure";switch(n.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}gM.exports={getEncoding:cj}});var wM=v((Tpe,QM)=>{"use strict";var{kState:kc,kError:gB,kResult:mM,kAborted:aA,kLastProgressEventFired:pB}=hB(),{ProgressEvent:lj}=fM(),{getEncoding:EM}=pM(),{serializeAMimeType:uj,parseMIMEType:CM}=Bn(),{types:Aj}=N("util"),{StringDecoder:IM}=N("string_decoder"),{btoa:yM}=N("buffer"),dj={enumerable:!0,writable:!1,configurable:!1};function hj(n,e,t,r){if(n[kc]==="loading")throw new DOMException("Invalid state","InvalidStateError");n[kc]="loading",n[mM]=null,n[gB]=null;let s=e.stream().getReader(),o=[],a=s.read(),c=!0;m(this,null,function*(){for(;!n[aA];)try{let{done:l,value:u}=yield a;if(c&&!n[aA]&&queueMicrotask(()=>{Ns("loadstart",n)}),c=!1,!l&&Aj.isUint8Array(u))o.push(u),(n[pB]===void 0||Date.now()-n[pB]>=50)&&!n[aA]&&(n[pB]=Date.now(),queueMicrotask(()=>{Ns("progress",n)})),a=s.read();else if(l){queueMicrotask(()=>{n[kc]="done";try{let A=fj(o,t,e.type,r);if(n[aA])return;n[mM]=A,Ns("load",n)}catch(A){n[gB]=A,Ns("error",n)}n[kc]!=="loading"&&Ns("loadend",n)});break}}catch(l){if(n[aA])return;queueMicrotask(()=>{n[kc]="done",n[gB]=l,Ns("error",n),n[kc]!=="loading"&&Ns("loadend",n)});break}})}function Ns(n,e){let t=new lj(n,{bubbles:!1,cancelable:!1});e.dispatchEvent(t)}function fj(n,e,t,r){switch(e){case"DataURL":{let i="data:",s=CM(t||"application/octet-stream");s!=="failure"&&(i+=uj(s)),i+=";base64,";let o=new IM("latin1");for(let a of n)i+=yM(o.write(a));return i+=yM(o.end()),i}case"Text":{let i="failure";if(r&&(i=EM(r)),i==="failure"&&t){let s=CM(t);s!=="failure"&&(i=EM(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),gj(n,i)}case"ArrayBuffer":return BM(n).buffer;case"BinaryString":{let i="",s=new IM("latin1");for(let o of n)i+=s.write(o);return i+=s.end(),i}}}function gj(n,e){let t=BM(n),r=pj(t),i=0;r!==null&&(e=r,i=r==="UTF-8"?3:2);let s=t.slice(i);return new TextDecoder(e).decode(s)}function pj(n){let[e,t,r]=n;return e===239&&t===187&&r===191?"UTF-8":e===254&&t===255?"UTF-16BE":e===255&&t===254?"UTF-16LE":null}function BM(n){let e=n.reduce((r,i)=>r+i.byteLength,0),t=0;return n.reduce((r,i)=>(r.set(i,t),t+=i.byteLength,r),new Uint8Array(e))}QM.exports={staticPropertyDescriptors:dj,readOperation:hj,fireAProgressEvent:Ns}});var DM=v((kpe,bM)=>{"use strict";var{staticPropertyDescriptors:Nc,readOperation:Vf,fireAProgressEvent:vM}=wM(),{kState:Zo,kError:SM,kResult:Gf,kEvents:Ne,kAborted:mj}=hB(),{webidl:Ve}=Ht(),{kEnumerableProperty:vn}=me(),Rr=class n extends EventTarget{constructor(){super(),this[Zo]="empty",this[Gf]=null,this[SM]=null,this[Ne]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Ve.brandCheck(this,n),Ve.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),e=Ve.converters.Blob(e,{strict:!1}),Vf(this,e,"ArrayBuffer")}readAsBinaryString(e){Ve.brandCheck(this,n),Ve.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),e=Ve.converters.Blob(e,{strict:!1}),Vf(this,e,"BinaryString")}readAsText(e,t=void 0){Ve.brandCheck(this,n),Ve.argumentLengthCheck(arguments,1,"FileReader.readAsText"),e=Ve.converters.Blob(e,{strict:!1}),t!==void 0&&(t=Ve.converters.DOMString(t,"FileReader.readAsText","encoding")),Vf(this,e,"Text",t)}readAsDataURL(e){Ve.brandCheck(this,n),Ve.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),e=Ve.converters.Blob(e,{strict:!1}),Vf(this,e,"DataURL")}abort(){if(this[Zo]==="empty"||this[Zo]==="done"){this[Gf]=null;return}this[Zo]==="loading"&&(this[Zo]="done",this[Gf]=null),this[mj]=!0,vM("abort",this),this[Zo]!=="loading"&&vM("loadend",this)}get readyState(){switch(Ve.brandCheck(this,n),this[Zo]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Ve.brandCheck(this,n),this[Gf]}get error(){return Ve.brandCheck(this,n),this[SM]}get onloadend(){return Ve.brandCheck(this,n),this[Ne].loadend}set onloadend(e){Ve.brandCheck(this,n),this[Ne].loadend&&this.removeEventListener("loadend",this[Ne].loadend),typeof e=="function"?(this[Ne].loadend=e,this.addEventListener("loadend",e)):this[Ne].loadend=null}get onerror(){return Ve.brandCheck(this,n),this[Ne].error}set onerror(e){Ve.brandCheck(this,n),this[Ne].error&&this.removeEventListener("error",this[Ne].error),typeof e=="function"?(this[Ne].error=e,this.addEventListener("error",e)):this[Ne].error=null}get onloadstart(){return Ve.brandCheck(this,n),this[Ne].loadstart}set onloadstart(e){Ve.brandCheck(this,n),this[Ne].loadstart&&this.removeEventListener("loadstart",this[Ne].loadstart),typeof e=="function"?(this[Ne].loadstart=e,this.addEventListener("loadstart",e)):this[Ne].loadstart=null}get onprogress(){return Ve.brandCheck(this,n),this[Ne].progress}set onprogress(e){Ve.brandCheck(this,n),this[Ne].progress&&this.removeEventListener("progress",this[Ne].progress),typeof e=="function"?(this[Ne].progress=e,this.addEventListener("progress",e)):this[Ne].progress=null}get onload(){return Ve.brandCheck(this,n),this[Ne].load}set onload(e){Ve.brandCheck(this,n),this[Ne].load&&this.removeEventListener("load",this[Ne].load),typeof e=="function"?(this[Ne].load=e,this.addEventListener("load",e)):this[Ne].load=null}get onabort(){return Ve.brandCheck(this,n),this[Ne].abort}set onabort(e){Ve.brandCheck(this,n),this[Ne].abort&&this.removeEventListener("abort",this[Ne].abort),typeof e=="function"?(this[Ne].abort=e,this.addEventListener("abort",e)):this[Ne].abort=null}};Rr.EMPTY=Rr.prototype.EMPTY=0;Rr.LOADING=Rr.prototype.LOADING=1;Rr.DONE=Rr.prototype.DONE=2;Object.defineProperties(Rr.prototype,{EMPTY:Nc,LOADING:Nc,DONE:Nc,readAsArrayBuffer:vn,readAsBinaryString:vn,readAsText:vn,readAsDataURL:vn,abort:vn,readyState:vn,result:vn,error:vn,onloadstart:vn,onprogress:vn,onload:vn,onabort:vn,onerror:vn,onloadend:vn,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Rr,{EMPTY:Nc,LOADING:Nc,DONE:Nc});bM.exports={FileReader:Rr}});var qf=v((Npe,TM)=>{"use strict";TM.exports={kConstruct:Ze().kConstruct}});var NM=v((_pe,kM)=>{"use strict";var Ej=N("assert"),{URLSerializer:RM}=Bn(),{isValidHeaderName:Cj}=Ln();function Ij(n,e,t=!1){let r=RM(n,t),i=RM(e,t);return r===i}function yj(n){Ej(n!==null);let e=[];for(let t of n.split(","))t=t.trim(),Cj(t)&&e.push(t);return e}kM.exports={urlEquals:Ij,getFieldValues:yj}});var FM=v((Mpe,MM)=>{"use strict";var{kConstruct:Bj}=qf(),{urlEquals:Qj,getFieldValues:mB}=NM(),{kEnumerableProperty:Xo,isDisturbed:wj}=me(),{webidl:ne}=Ht(),{Response:vj,cloneResponse:Sj,fromInnerResponse:bj}=rA(),{Request:Wi,fromInnerRequest:Dj}=Rc(),{kState:kr}=Bs(),{fetching:Tj}=oA(),{urlIsHttpHttpsScheme:Hf,createDeferredPromise:_c,readAllBytes:Rj}=Ln(),EB=N("assert"),Yf=class n{#e;constructor(){arguments[0]!==Bj&&ne.illegalConstructor(),this.#e=arguments[1]}match(r){return m(this,arguments,function*(e,t={}){ne.brandCheck(this,n);let i="Cache.match";ne.argumentLengthCheck(arguments,1,i),e=ne.converters.RequestInfo(e,i,"request"),t=ne.converters.CacheQueryOptions(t,i,"options");let s=this.#n(e,t,1);if(s.length!==0)return s[0]})}matchAll(){return m(this,arguments,function*(e=void 0,t={}){ne.brandCheck(this,n);let r="Cache.matchAll";return e!==void 0&&(e=ne.converters.RequestInfo(e,r,"request")),t=ne.converters.CacheQueryOptions(t,r,"options"),this.#n(e,t)})}add(t){return m(this,arguments,function*(e){ne.brandCheck(this,n);let r="Cache.add";ne.argumentLengthCheck(arguments,1,r),e=ne.converters.RequestInfo(e,r,"request");let i=[e];return yield this.addAll(i)})}addAll(t){return m(this,arguments,function*(e){ne.brandCheck(this,n);let r="Cache.addAll";ne.argumentLengthCheck(arguments,1,r);let i=[],s=[];for(let f of e){if(f===void 0)throw ne.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(f=ne.converters.RequestInfo(f),typeof f=="string")continue;let Q=f[kr];if(!Hf(Q.url)||Q.method!=="GET")throw ne.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let o=[];for(let f of e){let Q=new Wi(f)[kr];if(!Hf(Q.url))throw ne.errors.exception({header:r,message:"Expected http/s scheme."});Q.initiator="fetch",Q.destination="subresource",s.push(Q);let C=_c();o.push(Tj({request:Q,processResponse(I){if(I.type==="error"||I.status===206||I.status<200||I.status>299)C.reject(ne.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(I.headersList.contains("vary")){let S=mB(I.headersList.get("vary"));for(let b of S)if(b==="*"){C.reject(ne.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let M of o)M.abort();return}}},processResponseEndOfBody(I){if(I.aborted){C.reject(new DOMException("aborted","AbortError"));return}C.resolve(I)}})),i.push(C.promise)}let c=yield Promise.all(i),l=[],u=0;for(let f of c){let Q={type:"put",request:s[u],response:f};l.push(Q),u++}let A=_c(),d=null;try{this.#t(l)}catch(f){d=f}return queueMicrotask(()=>{d===null?A.resolve(void 0):A.reject(d)}),A.promise})}put(r,i){return m(this,arguments,function*(e,t){ne.brandCheck(this,n);let s="Cache.put";ne.argumentLengthCheck(arguments,2,s),e=ne.converters.RequestInfo(e,s,"request"),t=ne.converters.Response(t,s,"response");let o=null;if(e instanceof Wi?o=e[kr]:o=new Wi(e)[kr],!Hf(o.url)||o.method!=="GET")throw ne.errors.exception({header:s,message:"Expected an http/s scheme when method is not GET"});let a=t[kr];if(a.status===206)throw ne.errors.exception({header:s,message:"Got 206 status"});if(a.headersList.contains("vary")){let C=mB(a.headersList.get("vary"));for(let I of C)if(I==="*")throw ne.errors.exception({header:s,message:"Got * vary field value"})}if(a.body&&(wj(a.body.stream)||a.body.stream.locked))throw ne.errors.exception({header:s,message:"Response body is locked or disturbed"});let c=Sj(a),l=_c();if(a.body!=null){let I=a.body.stream.getReader();Rj(I).then(l.resolve,l.reject)}else l.resolve(void 0);let u=[],A={type:"put",request:o,response:c};u.push(A);let d=yield l.promise;c.body!=null&&(c.body.source=d);let f=_c(),Q=null;try{this.#t(u)}catch(C){Q=C}return queueMicrotask(()=>{Q===null?f.resolve():f.reject(Q)}),f.promise})}delete(r){return m(this,arguments,function*(e,t={}){ne.brandCheck(this,n);let i="Cache.delete";ne.argumentLengthCheck(arguments,1,i),e=ne.converters.RequestInfo(e,i,"request"),t=ne.converters.CacheQueryOptions(t,i,"options");let s=null;if(e instanceof Wi){if(s=e[kr],s.method!=="GET"&&!t.ignoreMethod)return!1}else EB(typeof e=="string"),s=new Wi(e)[kr];let o=[],a={type:"delete",request:s,options:t};o.push(a);let c=_c(),l=null,u;try{u=this.#t(o)}catch(A){l=A}return queueMicrotask(()=>{l===null?c.resolve(!!u?.length):c.reject(l)}),c.promise})}keys(){return m(this,arguments,function*(e=void 0,t={}){ne.brandCheck(this,n);let r="Cache.keys";e!==void 0&&(e=ne.converters.RequestInfo(e,r,"request")),t=ne.converters.CacheQueryOptions(t,r,"options");let i=null;if(e!==void 0)if(e instanceof Wi){if(i=e[kr],i.method!=="GET"&&!t.ignoreMethod)return[]}else typeof e=="string"&&(i=new Wi(e)[kr]);let s=_c(),o=[];if(e===void 0)for(let a of this.#e)o.push(a[0]);else{let a=this.#i(i,t);for(let c of a)o.push(c[0])}return queueMicrotask(()=>{let a=[];for(let c of o){let l=Dj(c,new AbortController().signal,"immutable");a.push(l)}s.resolve(Object.freeze(a))}),s.promise})}#t(e){let t=this.#e,r=[...t],i=[],s=[];try{for(let o of e){if(o.type!=="delete"&&o.type!=="put")throw ne.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(o.type==="delete"&&o.response!=null)throw ne.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(o.request,o.options,i).length)throw new DOMException("???","InvalidStateError");let a;if(o.type==="delete"){if(a=this.#i(o.request,o.options),a.length===0)return[];for(let c of a){let l=t.indexOf(c);EB(l!==-1),t.splice(l,1)}}else if(o.type==="put"){if(o.response==null)throw ne.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=o.request;if(!Hf(c.url))throw ne.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw ne.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(o.options!=null)throw ne.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});a=this.#i(o.request);for(let l of a){let u=t.indexOf(l);EB(u!==-1),t.splice(u,1)}t.push([o.request,o.response]),i.push([o.request,o.response])}s.push([o.request,o.response])}return s}catch(o){throw this.#e.length=0,this.#e=r,o}}#i(e,t,r){let i=[],s=r??this.#e;for(let o of s){let[a,c]=o;this.#r(e,a,c,t)&&i.push(o)}return i}#r(e,t,r=null,i){let s=new URL(e.url),o=new URL(t.url);if(i?.ignoreSearch&&(o.search="",s.search=""),!Qj(s,o,!0))return!1;if(r==null||i?.ignoreVary||!r.headersList.contains("vary"))return!0;let a=mB(r.headersList.get("vary"));for(let c of a){if(c==="*")return!1;let l=t.headersList.get(c),u=e.headersList.get(c);if(l!==u)return!1}return!0}#n(e,t,r=1/0){let i=null;if(e!==void 0)if(e instanceof Wi){if(i=e[kr],i.method!=="GET"&&!t.ignoreMethod)return[]}else typeof e=="string"&&(i=new Wi(e)[kr]);let s=[];if(e===void 0)for(let a of this.#e)s.push(a[1]);else{let a=this.#i(i,t);for(let c of a)s.push(c[1])}let o=[];for(let a of s){let c=bj(a,"immutable");if(o.push(c.clone()),o.length>=r)break}return Object.freeze(o)}};Object.defineProperties(Yf.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:Xo,matchAll:Xo,add:Xo,addAll:Xo,put:Xo,delete:Xo,keys:Xo});var _M=[{key:"ignoreSearch",converter:ne.converters.boolean,defaultValue:()=>!1},{key:"ignoreMethod",converter:ne.converters.boolean,defaultValue:()=>!1},{key:"ignoreVary",converter:ne.converters.boolean,defaultValue:()=>!1}];ne.converters.CacheQueryOptions=ne.dictionaryConverter(_M);ne.converters.MultiCacheQueryOptions=ne.dictionaryConverter([..._M,{key:"cacheName",converter:ne.converters.DOMString}]);ne.converters.Response=ne.interfaceConverter(vj);ne.converters["sequence<RequestInfo>"]=ne.sequenceConverter(ne.converters.RequestInfo);MM.exports={Cache:Yf}});var xM=v((Lpe,LM)=>{"use strict";var{kConstruct:cA}=qf(),{Cache:Wf}=FM(),{webidl:dn}=Ht(),{kEnumerableProperty:lA}=me(),Jf=class n{#e=new Map;constructor(){arguments[0]!==cA&&dn.illegalConstructor()}match(r){return m(this,arguments,function*(e,t={}){if(dn.brandCheck(this,n),dn.argumentLengthCheck(arguments,1,"CacheStorage.match"),e=dn.converters.RequestInfo(e),t=dn.converters.MultiCacheQueryOptions(t),t.cacheName!=null){if(this.#e.has(t.cacheName)){let i=this.#e.get(t.cacheName);return yield new Wf(cA,i).match(e,t)}}else for(let i of this.#e.values()){let o=yield new Wf(cA,i).match(e,t);if(o!==void 0)return o}})}has(t){return m(this,arguments,function*(e){dn.brandCheck(this,n);let r="CacheStorage.has";return dn.argumentLengthCheck(arguments,1,r),e=dn.converters.DOMString(e,r,"cacheName"),this.#e.has(e)})}open(t){return m(this,arguments,function*(e){dn.brandCheck(this,n);let r="CacheStorage.open";if(dn.argumentLengthCheck(arguments,1,r),e=dn.converters.DOMString(e,r,"cacheName"),this.#e.has(e)){let s=this.#e.get(e);return new Wf(cA,s)}let i=[];return this.#e.set(e,i),new Wf(cA,i)})}delete(t){return m(this,arguments,function*(e){dn.brandCheck(this,n);let r="CacheStorage.delete";return dn.argumentLengthCheck(arguments,1,r),e=dn.converters.DOMString(e,r,"cacheName"),this.#e.delete(e)})}keys(){return m(this,null,function*(){return dn.brandCheck(this,n),[...this.#e.keys()]})}};Object.defineProperties(Jf.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:lA,has:lA,open:lA,delete:lA,keys:lA});LM.exports={CacheStorage:Jf}});var OM=v((Upe,UM)=>{"use strict";UM.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var CB=v((Ope,HM)=>{"use strict";function kj(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t>=0&&t<=8||t>=10&&t<=31||t===127)return!0}return!1}function PM(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t<33||t>126||t===34||t===40||t===41||t===60||t===62||t===64||t===44||t===59||t===58||t===92||t===47||t===91||t===93||t===63||t===61||t===123||t===125)throw new Error("Invalid cookie name")}}function VM(n){let e=n.length,t=0;if(n[0]==='"'){if(e===1||n[e-1]!=='"')throw new Error("Invalid cookie value");--e,++t}for(;t<e;){let r=n.charCodeAt(t++);if(r<33||r>126||r===34||r===44||r===59||r===92)throw new Error("Invalid cookie value")}}function GM(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t<32||t===127||t===59)throw new Error("Invalid cookie path")}}function Nj(n){if(n.startsWith("-")||n.endsWith(".")||n.endsWith("-"))throw new Error("Invalid cookie domain")}var _j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Mj=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zf=Array(61).fill(0).map((n,e)=>e.toString().padStart(2,"0"));function qM(n){return typeof n=="number"&&(n=new Date(n)),`${_j[n.getUTCDay()]}, ${zf[n.getUTCDate()]} ${Mj[n.getUTCMonth()]} ${n.getUTCFullYear()} ${zf[n.getUTCHours()]}:${zf[n.getUTCMinutes()]}:${zf[n.getUTCSeconds()]} GMT`}function Fj(n){if(n<0)throw new Error("Invalid cookie max-age")}function Lj(n){if(n.name.length===0)return null;PM(n.name),VM(n.value);let e=[`${n.name}=${n.value}`];n.name.startsWith("__Secure-")&&(n.secure=!0),n.name.startsWith("__Host-")&&(n.secure=!0,n.domain=null,n.path="/"),n.secure&&e.push("Secure"),n.httpOnly&&e.push("HttpOnly"),typeof n.maxAge=="number"&&(Fj(n.maxAge),e.push(`Max-Age=${n.maxAge}`)),n.domain&&(Nj(n.domain),e.push(`Domain=${n.domain}`)),n.path&&(GM(n.path),e.push(`Path=${n.path}`)),n.expires&&n.expires.toString()!=="Invalid Date"&&e.push(`Expires=${qM(n.expires)}`),n.sameSite&&e.push(`SameSite=${n.sameSite}`);for(let t of n.unparsed){if(!t.includes("="))throw new Error("Invalid unparsed");let[r,...i]=t.split("=");e.push(`${r.trim()}=${i.join("=")}`)}return e.join("; ")}HM.exports={isCTLExcludingHtab:kj,validateCookieName:PM,validateCookiePath:GM,validateCookieValue:VM,toIMFDate:qM,stringify:Lj}});var WM=v((Ppe,YM)=>{"use strict";var{maxNameValuePairSize:xj,maxAttributeValueSize:Uj}=OM(),{isCTLExcludingHtab:Oj}=CB(),{collectASequenceOfCodePointsFast:jf}=Bn(),Pj=N("assert");function Vj(n){if(Oj(n))return null;let e="",t="",r="",i="";if(n.includes(";")){let s={position:0};e=jf(";",n,s),t=n.slice(s.position)}else e=n;if(!e.includes("="))i=e;else{let s={position:0};r=jf("=",e,s),i=e.slice(s.position+1)}return r=r.trim(),i=i.trim(),r.length+i.length>xj?null:_({name:r,value:i},Mc(t))}function Mc(n,e={}){if(n.length===0)return e;Pj(n[0]===";"),n=n.slice(1);let t="";n.includes(";")?(t=jf(";",n,{position:0}),n=n.slice(t.length)):(t=n,n="");let r="",i="";if(t.includes("=")){let o={position:0};r=jf("=",t,o),i=t.slice(o.position+1)}else r=t;if(r=r.trim(),i=i.trim(),i.length>Uj)return Mc(n,e);let s=r.toLowerCase();if(s==="expires"){let o=new Date(i);e.expires=o}else if(s==="max-age"){let o=i.charCodeAt(0);if((o<48||o>57)&&i[0]!=="-"||!/^\d+$/.test(i))return Mc(n,e);let a=Number(i);e.maxAge=a}else if(s==="domain"){let o=i;o[0]==="."&&(o=o.slice(1)),o=o.toLowerCase(),e.domain=o}else if(s==="path"){let o="";i.length===0||i[0]!=="/"?o="/":o=i,e.path=o}else if(s==="secure")e.secure=!0;else if(s==="httponly")e.httpOnly=!0;else if(s==="samesite"){let o="Default",a=i.toLowerCase();a.includes("none")&&(o="None"),a.includes("strict")&&(o="Strict"),a.includes("lax")&&(o="Lax"),e.sameSite=o}else e.unparsed??=[],e.unparsed.push(`${r}=${i}`);return Mc(n,e)}YM.exports={parseSetCookie:Vj,parseUnparsedAttributes:Mc}});var jM=v((Gpe,zM)=>{"use strict";var{parseSetCookie:Gj}=WM(),{stringify:qj}=CB(),{webidl:Ie}=Ht(),{Headers:Kf}=zo();function Hj(n){Ie.argumentLengthCheck(arguments,1,"getCookies"),Ie.brandCheck(n,Kf,{strict:!1});let e=n.get("cookie"),t={};if(!e)return t;for(let r of e.split(";")){let[i,...s]=r.split("=");t[i.trim()]=s.join("=")}return t}function Yj(n,e,t){Ie.brandCheck(n,Kf,{strict:!1});let r="deleteCookie";Ie.argumentLengthCheck(arguments,2,r),e=Ie.converters.DOMString(e,r,"name"),t=Ie.converters.DeleteCookieAttributes(t),JM(n,_({name:e,value:"",expires:new Date(0)},t))}function Wj(n){Ie.argumentLengthCheck(arguments,1,"getSetCookies"),Ie.brandCheck(n,Kf,{strict:!1});let e=n.getSetCookie();return e?e.map(t=>Gj(t)):[]}function JM(n,e){Ie.argumentLengthCheck(arguments,2,"setCookie"),Ie.brandCheck(n,Kf,{strict:!1}),e=Ie.converters.Cookie(e);let t=qj(e);t&&n.append("Set-Cookie",t)}Ie.converters.DeleteCookieAttributes=Ie.dictionaryConverter([{converter:Ie.nullableConverter(Ie.converters.DOMString),key:"path",defaultValue:()=>null},{converter:Ie.nullableConverter(Ie.converters.DOMString),key:"domain",defaultValue:()=>null}]);Ie.converters.Cookie=Ie.dictionaryConverter([{converter:Ie.converters.DOMString,key:"name"},{converter:Ie.converters.DOMString,key:"value"},{converter:Ie.nullableConverter(n=>typeof n=="number"?Ie.converters["unsigned long long"](n):new Date(n)),key:"expires",defaultValue:()=>null},{converter:Ie.nullableConverter(Ie.converters["long long"]),key:"maxAge",defaultValue:()=>null},{converter:Ie.nullableConverter(Ie.converters.DOMString),key:"domain",defaultValue:()=>null},{converter:Ie.nullableConverter(Ie.converters.DOMString),key:"path",defaultValue:()=>null},{converter:Ie.nullableConverter(Ie.converters.boolean),key:"secure",defaultValue:()=>null},{converter:Ie.nullableConverter(Ie.converters.boolean),key:"httpOnly",defaultValue:()=>null},{converter:Ie.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Ie.sequenceConverter(Ie.converters.DOMString),key:"unparsed",defaultValue:()=>new Array(0)}]);zM.exports={getCookies:Hj,deleteCookie:Yj,getSetCookies:Wj,setCookie:JM}});var Lc=v((Hpe,$M)=>{"use strict";var{webidl:ie}=Ht(),{kEnumerableProperty:Sn}=me(),{kConstruct:KM}=Ze(),{MessagePort:Jj}=N("worker_threads"),Fc=class n extends Event{#e;constructor(e,t={}){if(e===KM){super(arguments[1],arguments[2]);return}let r="MessageEvent constructor";ie.argumentLengthCheck(arguments,1,r),e=ie.converters.DOMString(e,r,"type"),t=ie.converters.MessageEventInit(t,r,"eventInitDict"),super(e,t),this.#e=t}get data(){return ie.brandCheck(this,n),this.#e.data}get origin(){return ie.brandCheck(this,n),this.#e.origin}get lastEventId(){return ie.brandCheck(this,n),this.#e.lastEventId}get source(){return ie.brandCheck(this,n),this.#e.source}get ports(){return ie.brandCheck(this,n),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,t=!1,r=!1,i=null,s="",o="",a=null,c=[]){return ie.brandCheck(this,n),ie.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new n(e,{bubbles:t,cancelable:r,data:i,origin:s,lastEventId:o,source:a,ports:c})}static createFastMessageEvent(e,t){let r=new n(KM,e,t);return r.#e=t,r.#e.data??=null,r.#e.origin??="",r.#e.lastEventId??="",r.#e.source??=null,r.#e.ports??=[],r}},{createFastMessageEvent:zj}=Fc;delete Fc.createFastMessageEvent;var $f=class n extends Event{#e;constructor(e,t={}){let r="CloseEvent constructor";ie.argumentLengthCheck(arguments,1,r),e=ie.converters.DOMString(e,r,"type"),t=ie.converters.CloseEventInit(t),super(e,t),this.#e=t}get wasClean(){return ie.brandCheck(this,n),this.#e.wasClean}get code(){return ie.brandCheck(this,n),this.#e.code}get reason(){return ie.brandCheck(this,n),this.#e.reason}},Zf=class n extends Event{#e;constructor(e,t){let r="ErrorEvent constructor";ie.argumentLengthCheck(arguments,1,r),super(e,t),e=ie.converters.DOMString(e,r,"type"),t=ie.converters.ErrorEventInit(t??{}),this.#e=t}get message(){return ie.brandCheck(this,n),this.#e.message}get filename(){return ie.brandCheck(this,n),this.#e.filename}get lineno(){return ie.brandCheck(this,n),this.#e.lineno}get colno(){return ie.brandCheck(this,n),this.#e.colno}get error(){return ie.brandCheck(this,n),this.#e.error}};Object.defineProperties(Fc.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:Sn,origin:Sn,lastEventId:Sn,source:Sn,ports:Sn,initMessageEvent:Sn});Object.defineProperties($f.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:Sn,code:Sn,wasClean:Sn});Object.defineProperties(Zf.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:Sn,filename:Sn,lineno:Sn,colno:Sn,error:Sn});ie.converters.MessagePort=ie.interfaceConverter(Jj);ie.converters["sequence<MessagePort>"]=ie.sequenceConverter(ie.converters.MessagePort);var IB=[{key:"bubbles",converter:ie.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:ie.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:ie.converters.boolean,defaultValue:()=>!1}];ie.converters.MessageEventInit=ie.dictionaryConverter([...IB,{key:"data",converter:ie.converters.any,defaultValue:()=>null},{key:"origin",converter:ie.converters.USVString,defaultValue:()=>""},{key:"lastEventId",converter:ie.converters.DOMString,defaultValue:()=>""},{key:"source",converter:ie.nullableConverter(ie.converters.MessagePort),defaultValue:()=>null},{key:"ports",converter:ie.converters["sequence<MessagePort>"],defaultValue:()=>new Array(0)}]);ie.converters.CloseEventInit=ie.dictionaryConverter([...IB,{key:"wasClean",converter:ie.converters.boolean,defaultValue:()=>!1},{key:"code",converter:ie.converters["unsigned short"],defaultValue:()=>0},{key:"reason",converter:ie.converters.USVString,defaultValue:()=>""}]);ie.converters.ErrorEventInit=ie.dictionaryConverter([...IB,{key:"message",converter:ie.converters.DOMString,defaultValue:()=>""},{key:"filename",converter:ie.converters.USVString,defaultValue:()=>""},{key:"lineno",converter:ie.converters["unsigned long"],defaultValue:()=>0},{key:"colno",converter:ie.converters["unsigned long"],defaultValue:()=>0},{key:"error",converter:ie.converters.any}]);$M.exports={MessageEvent:Fc,CloseEvent:$f,ErrorEvent:Zf,createFastMessageEvent:zj}});var ea=v((Ype,ZM)=>{"use strict";var jj="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",Kj={enumerable:!0,writable:!1,configurable:!1},$j={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},Zj={NOT_SENT:0,PROCESSING:1,SENT:2},Xj={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},eK=2**16-1,tK={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},nK=Buffer.allocUnsafe(0),rK={string:1,typedArray:2,arrayBuffer:3,blob:4};ZM.exports={uid:jj,sentCloseFrameState:Zj,staticPropertyDescriptors:Kj,states:$j,opcodes:Xj,maxUnsigned16Bit:eK,parserStates:tK,emptyBuffer:nK,sendHints:rK}});var uA=v((Wpe,XM)=>{"use strict";XM.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var hA=v((Jpe,cF)=>{"use strict";var{kReadyState:AA,kController:iK,kResponse:sK,kBinaryType:oK,kWebSocketURL:aK}=uA(),{states:dA,opcodes:_s}=ea(),{ErrorEvent:cK,createFastMessageEvent:lK}=Lc(),{isUtf8:uK}=N("buffer"),{collectASequenceOfCodePointsFast:AK,removeHTTPWhitespace:eF}=Bn();function dK(n){return n[AA]===dA.CONNECTING}function hK(n){return n[AA]===dA.OPEN}function fK(n){return n[AA]===dA.CLOSING}function gK(n){return n[AA]===dA.CLOSED}function yB(n,e,t=(i,s)=>new Event(i,s),r={}){let i=t(n,r);e.dispatchEvent(i)}function pK(n,e,t){if(n[AA]!==dA.OPEN)return;let r;if(e===_s.TEXT)try{r=aF(t)}catch{nF(n,"Received invalid UTF-8 in text frame.");return}else e===_s.BINARY&&(n[oK]==="blob"?r=new Blob([t]):r=mK(t));yB("message",n,lK,{origin:n[aK].origin,data:r})}function mK(n){return n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}function EK(n){if(n.length===0)return!1;for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t<33||t>126||t===34||t===40||t===41||t===44||t===47||t===58||t===59||t===60||t===61||t===62||t===63||t===64||t===91||t===92||t===93||t===123||t===125)return!1}return!0}function CK(n){return n>=1e3&&n<1015?n!==1004&&n!==1005&&n!==1006:n>=3e3&&n<=4999}function nF(n,e){let{[iK]:t,[sK]:r}=n;t.abort(),r?.socket&&!r.socket.destroyed&&r.socket.destroy(),e&&yB("error",n,(i,s)=>new cK(i,s),{error:new Error(e),message:e})}function rF(n){return n===_s.CLOSE||n===_s.PING||n===_s.PONG}function iF(n){return n===_s.CONTINUATION}function sF(n){return n===_s.TEXT||n===_s.BINARY}function IK(n){return sF(n)||iF(n)||rF(n)}function yK(n){let e={position:0},t=new Map;for(;e.position<n.length;){let r=AK(";",n,e),[i,s=""]=r.split("=");t.set(eF(i,!0,!1),eF(s,!1,!0)),e.position++}return t}function BK(n){for(let e=0;e<n.length;e++){let t=n.charCodeAt(e);if(t<48||t>57)return!1}return!0}var oF=typeof process.versions.icu=="string",tF=oF?new TextDecoder("utf-8",{fatal:!0}):void 0,aF=oF?tF.decode.bind(tF):function(n){if(uK(n))return n.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};cF.exports={isConnecting:dK,isEstablished:hK,isClosing:fK,isClosed:gK,fireEvent:yB,isValidSubprotocol:EK,isValidStatusCode:CK,failWebsocketConnection:nF,websocketMessageReceived:pK,utf8Decode:aF,isControlFrame:rF,isContinuationFrame:iF,isTextBinaryFrame:sF,isValidOpcode:IK,parseExtensions:yK,isValidClientWindowBits:BK}});var eg=v((zpe,lF)=>{"use strict";var{maxUnsigned16Bit:QK}=ea(),Xf=16386,BB,fA=null,xc=Xf;try{BB=N("crypto")}catch{BB={randomFillSync:function(e,t,r){for(let i=0;i<e.length;++i)e[i]=Math.random()*255|0;return e}}}function wK(){return xc===Xf&&(xc=0,BB.randomFillSync(fA??=Buffer.allocUnsafe(Xf),0,Xf)),[fA[xc++],fA[xc++],fA[xc++],fA[xc++]]}var QB=class{constructor(e){this.frameData=e}createFrame(e){let t=this.frameData,r=wK(),i=t?.byteLength??0,s=i,o=6;i>QK?(o+=8,s=127):i>125&&(o+=2,s=126);let a=Buffer.allocUnsafe(i+o);a[0]=a[1]=0,a[0]|=128,a[0]=(a[0]&240)+e;a[o-4]=r[0],a[o-3]=r[1],a[o-2]=r[2],a[o-1]=r[3],a[1]=s,s===126?a.writeUInt16BE(i,2):s===127&&(a[2]=a[3]=0,a.writeUIntBE(i,4,6)),a[1]|=128;for(let c=0;c<i;++c)a[o+c]=t[c]^r[c&3];return a}};lF.exports={WebsocketFrameSend:QB}});var vB=v((jpe,pF)=>{"use strict";var{uid:vK,states:gA,sentCloseFrameState:tg,emptyBuffer:SK,opcodes:bK}=ea(),{kReadyState:pA,kSentClose:ng,kByteParser:AF,kReceivedClose:uF,kResponse:dF}=uA(),{fireEvent:DK,failWebsocketConnection:Ms,isClosing:TK,isClosed:RK,isEstablished:kK,parseExtensions:NK}=hA(),{channels:Uc}=Xa(),{CloseEvent:_K}=Lc(),{makeRequest:MK}=Rc(),{fetching:FK}=oA(),{Headers:LK,getHeadersList:xK}=zo(),{getDecodeSplit:UK}=Ln(),{WebsocketFrameSend:OK}=eg(),wB;try{wB=N("crypto")}catch{}function PK(n,e,t,r,i,s){let o=n;o.protocol=n.protocol==="ws:"?"http:":"https:";let a=MK({urlList:[o],client:t,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let A=xK(new LK(s.headers));a.headersList=A}let c=wB.randomBytes(16).toString("base64");a.headersList.append("sec-websocket-key",c),a.headersList.append("sec-websocket-version","13");for(let A of e)a.headersList.append("sec-websocket-protocol",A);return a.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),FK({request:a,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(A){if(A.type==="error"||A.status!==101){Ms(r,"Received network error or non-101 status code.");return}if(e.length!==0&&!A.headersList.get("Sec-WebSocket-Protocol")){Ms(r,"Server did not respond with sent protocols.");return}if(A.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){Ms(r,'Server did not set Upgrade header to "websocket".');return}if(A.headersList.get("Connection")?.toLowerCase()!=="upgrade"){Ms(r,'Server did not set Connection header to "upgrade".');return}let d=A.headersList.get("Sec-WebSocket-Accept"),f=wB.createHash("sha1").update(c+vK).digest("base64");if(d!==f){Ms(r,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let Q=A.headersList.get("Sec-WebSocket-Extensions"),C;if(Q!==null&&(C=NK(Q),!C.has("permessage-deflate"))){Ms(r,"Sec-WebSocket-Extensions header does not match.");return}let I=A.headersList.get("Sec-WebSocket-Protocol");if(I!==null&&!UK("sec-websocket-protocol",a.headersList).includes(I)){Ms(r,"Protocol was not set in the opening handshake.");return}A.socket.on("data",hF),A.socket.on("close",fF),A.socket.on("error",gF),Uc.open.hasSubscribers&&Uc.open.publish({address:A.socket.address(),protocol:I,extensions:Q}),i(A,C)}})}function VK(n,e,t,r){if(!(TK(n)||RK(n)))if(!kK(n))Ms(n,"Connection was closed before it was established."),n[pA]=gA.CLOSING;else if(n[ng]===tg.NOT_SENT){n[ng]=tg.PROCESSING;let i=new OK;e!==void 0&&t===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(e,0)):e!==void 0&&t!==void 0?(i.frameData=Buffer.allocUnsafe(2+r),i.frameData.writeUInt16BE(e,0),i.frameData.write(t,2,"utf-8")):i.frameData=SK,n[dF].socket.write(i.createFrame(bK.CLOSE)),n[ng]=tg.SENT,n[pA]=gA.CLOSING}else n[pA]=gA.CLOSING}function hF(n){this.ws[AF].write(n)||this.pause()}function fF(){let{ws:n}=this,{[dF]:e}=n;e.socket.off("data",hF),e.socket.off("close",fF),e.socket.off("error",gF);let t=n[ng]===tg.SENT&&n[uF],r=1005,i="",s=n[AF].closingInfo;s&&!s.error?(r=s.code??1005,i=s.reason):n[uF]||(r=1006),n[pA]=gA.CLOSED,DK("close",n,(o,a)=>new _K(o,a),{wasClean:t,code:r,reason:i}),Uc.close.hasSubscribers&&Uc.close.publish({websocket:n,code:r,reason:i})}function gF(n){let{ws:e}=this;e[pA]=gA.CLOSING,Uc.socketError.hasSubscribers&&Uc.socketError.publish(n),this.destroy()}pF.exports={establishWebSocketConnection:PK,closeWebSocketConnection:VK}});var EF=v((Kpe,mF)=>{"use strict";var{createInflateRaw:GK,Z_DEFAULT_WINDOWBITS:qK}=N("zlib"),{isValidClientWindowBits:HK}=hA(),YK=Buffer.from([0,0,255,255]),rg=Symbol("kBuffer"),ig=Symbol("kLength"),SB=class{#e;#t={};constructor(e){this.#t.serverNoContextTakeover=e.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=e.get("server_max_window_bits")}decompress(e,t,r){if(!this.#e){let i=qK;if(this.#t.serverMaxWindowBits){if(!HK(this.#t.serverMaxWindowBits)){r(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=GK({windowBits:i}),this.#e[rg]=[],this.#e[ig]=0,this.#e.on("data",s=>{this.#e[rg].push(s),this.#e[ig]+=s.length}),this.#e.on("error",s=>{this.#e=null,r(s)})}this.#e.write(e),t&&this.#e.write(YK),this.#e.flush(()=>{let i=Buffer.concat(this.#e[rg],this.#e[ig]);this.#e[rg].length=0,this.#e[ig]=0,r(null,i)})}};mF.exports={PerMessageDeflate:SB}});var TF=v(($pe,DF)=>{"use strict";var{Writable:WK}=N("stream"),JK=N("assert"),{parserStates:bn,opcodes:Oc,states:zK,emptyBuffer:CF,sentCloseFrameState:IF}=ea(),{kReadyState:jK,kSentClose:yF,kResponse:BF,kReceivedClose:QF}=uA(),{channels:sg}=Xa(),{isValidStatusCode:KK,isValidOpcode:$K,failWebsocketConnection:ir,websocketMessageReceived:wF,utf8Decode:ZK,isControlFrame:vF,isTextBinaryFrame:bB,isContinuationFrame:XK}=hA(),{WebsocketFrameSend:SF}=eg(),{closeWebSocketConnection:bF}=vB(),{PerMessageDeflate:e7}=EF(),DB=class extends WK{#e=[];#t=0;#i=!1;#r=bn.INFO;#n={};#s=[];#o;constructor(e,t){super(),this.ws=e,this.#o=t??new Map,this.#o.has("permessage-deflate")&&this.#o.set("permessage-deflate",new e7(t))}_write(e,t,r){this.#e.push(e),this.#t+=e.length,this.#i=!0,this.run(r)}run(e){for(;this.#i;)if(this.#r===bn.INFO){if(this.#t<2)return e();let t=this.consume(2),r=(t[0]&128)!==0,i=t[0]&15,s=(t[1]&128)===128,o=!r&&i!==Oc.CONTINUATION,a=t[1]&127,c=t[0]&64,l=t[0]&32,u=t[0]&16;if(!$K(i))return ir(this.ws,"Invalid opcode received"),e();if(s)return ir(this.ws,"Frame cannot be masked"),e();if(c!==0&&!this.#o.has("permessage-deflate")){ir(this.ws,"Expected RSV1 to be clear.");return}if(l!==0||u!==0){ir(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(o&&!bB(i)){ir(this.ws,"Invalid frame type was fragmented.");return}if(bB(i)&&this.#s.length>0){ir(this.ws,"Expected continuation frame");return}if(this.#n.fragmented&&o){ir(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((a>125||o)&&vF(i)){ir(this.ws,"Control frame either too large or fragmented");return}if(XK(i)&&this.#s.length===0&&!this.#n.compressed){ir(this.ws,"Unexpected continuation frame");return}a<=125?(this.#n.payloadLength=a,this.#r=bn.READ_DATA):a===126?this.#r=bn.PAYLOADLENGTH_16:a===127&&(this.#r=bn.PAYLOADLENGTH_64),bB(i)&&(this.#n.binaryType=i,this.#n.compressed=c!==0),this.#n.opcode=i,this.#n.masked=s,this.#n.fin=r,this.#n.fragmented=o}else if(this.#r===bn.PAYLOADLENGTH_16){if(this.#t<2)return e();let t=this.consume(2);this.#n.payloadLength=t.readUInt16BE(0),this.#r=bn.READ_DATA}else if(this.#r===bn.PAYLOADLENGTH_64){if(this.#t<8)return e();let t=this.consume(8),r=t.readUInt32BE(0);if(r>2**31-1){ir(this.ws,"Received payload length > 2^31 bytes.");return}let i=t.readUInt32BE(4);this.#n.payloadLength=(r<<8)+i,this.#r=bn.READ_DATA}else if(this.#r===bn.READ_DATA){if(this.#t<this.#n.payloadLength)return e();let t=this.consume(this.#n.payloadLength);if(vF(this.#n.opcode))this.#i=this.parseControlFrame(t),this.#r=bn.INFO;else if(this.#n.compressed){this.#o.get("permessage-deflate").decompress(t,this.#n.fin,(r,i)=>{if(r){bF(this.ws,1007,r.message,r.message.length);return}if(this.#s.push(i),!this.#n.fin){this.#r=bn.INFO,this.#i=!0,this.run(e);return}wF(this.ws,this.#n.binaryType,Buffer.concat(this.#s)),this.#i=!0,this.#r=bn.INFO,this.#s.length=0,this.run(e)}),this.#i=!1;break}else{if(this.#s.push(t),!this.#n.fragmented&&this.#n.fin){let r=Buffer.concat(this.#s);wF(this.ws,this.#n.binaryType,r),this.#s.length=0}this.#r=bn.INFO}}}consume(e){if(e>this.#t)throw new Error("Called consume() before buffers satiated.");if(e===0)return CF;if(this.#e[0].length===e)return this.#t-=this.#e[0].length,this.#e.shift();let t=Buffer.allocUnsafe(e),r=0;for(;r!==e;){let i=this.#e[0],{length:s}=i;if(s+r===e){t.set(this.#e.shift(),r);break}else if(s+r>e){t.set(i.subarray(0,e-r),r),this.#e[0]=i.subarray(e-r);break}else t.set(this.#e.shift(),r),r+=i.length}return this.#t-=e,t}parseCloseBody(e){JK(e.length!==1);let t;if(e.length>=2&&(t=e.readUInt16BE(0)),t!==void 0&&!KK(t))return{code:1002,reason:"Invalid status code",error:!0};let r=e.subarray(2);r[0]===239&&r[1]===187&&r[2]===191&&(r=r.subarray(3));try{r=ZK(r)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:t,reason:r,error:!1}}parseControlFrame(e){let{opcode:t,payloadLength:r}=this.#n;if(t===Oc.CLOSE){if(r===1)return ir(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#n.closeInfo=this.parseCloseBody(e),this.#n.closeInfo.error){let{code:i,reason:s}=this.#n.closeInfo;return bF(this.ws,i,s,s.length),ir(this.ws,s),!1}if(this.ws[yF]!==IF.SENT){let i=CF;this.#n.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#n.closeInfo.code,0));let s=new SF(i);this.ws[BF].socket.write(s.createFrame(Oc.CLOSE),o=>{o||(this.ws[yF]=IF.SENT)})}return this.ws[jK]=zK.CLOSING,this.ws[QF]=!0,!1}else if(t===Oc.PING){if(!this.ws[QF]){let i=new SF(e);this.ws[BF].socket.write(i.createFrame(Oc.PONG)),sg.ping.hasSubscribers&&sg.ping.publish({payload:e})}}else t===Oc.PONG&&sg.pong.hasSubscribers&&sg.pong.publish({payload:e});return!0}get closingInfo(){return this.#n.closeInfo}};DF.exports={ByteParser:DB}});var MF=v((Zpe,_F)=>{"use strict";var{WebsocketFrameSend:t7}=eg(),{opcodes:RF,sendHints:Pc}=ea(),n7=VI(),kF=Buffer[Symbol.species],TB=class{#e=new n7;#t=!1;#i;constructor(e){this.#i=e}add(e,t,r){if(r!==Pc.blob){let s=NF(e,r);if(!this.#t)this.#i.write(s,t);else{let o={promise:null,callback:t,frame:s};this.#e.push(o)}return}let i={promise:e.arrayBuffer().then(s=>{i.promise=null,i.frame=NF(s,r)}),callback:t,frame:null};this.#e.push(i),this.#t||this.#r()}#r(){return m(this,null,function*(){this.#t=!0;let e=this.#e;for(;!e.isEmpty();){let t=e.shift();t.promise!==null&&(yield t.promise),this.#i.write(t.frame,t.callback),t.callback=t.frame=null}this.#t=!1})}};function NF(n,e){return new t7(r7(n,e)).createFrame(e===Pc.string?RF.TEXT:RF.BINARY)}function r7(n,e){switch(e){case Pc.string:return Buffer.from(n);case Pc.arrayBuffer:case Pc.blob:return new kF(n);case Pc.typedArray:return new kF(n.buffer,n.byteOffset,n.byteLength)}}_F.exports={SendQueue:TB}});var qF=v((eme,GF)=>{"use strict";var{webidl:ue}=Ht(),{URLSerializer:i7}=Bn(),{environmentSettingsObject:FF}=Ln(),{staticPropertyDescriptors:Fs,states:mA,sentCloseFrameState:s7,sendHints:og}=ea(),{kWebSocketURL:LF,kReadyState:RB,kController:o7,kBinaryType:ag,kResponse:xF,kSentClose:a7,kByteParser:c7}=uA(),{isConnecting:l7,isEstablished:u7,isClosing:A7,isValidSubprotocol:d7,fireEvent:UF}=hA(),{establishWebSocketConnection:h7,closeWebSocketConnection:OF}=vB(),{ByteParser:f7}=TF(),{kEnumerableProperty:sr,isBlobLike:PF}=me(),{getGlobalDispatcher:g7}=Bf(),{types:VF}=N("util"),{ErrorEvent:p7,CloseEvent:m7}=Lc(),{SendQueue:E7}=MF(),Gn=class n extends EventTarget{#e={open:null,error:null,close:null,message:null};#t=0;#i="";#r="";#n;constructor(e,t=[]){super();let r="WebSocket constructor";ue.argumentLengthCheck(arguments,1,r);let i=ue.converters["DOMString or sequence<DOMString> or WebSocketInit"](t,r,"options");e=ue.converters.USVString(e,r,"url"),t=i.protocols;let s=FF.settingsObject.baseUrl,o;try{o=new URL(e,s)}catch(c){throw new DOMException(c,"SyntaxError")}if(o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),o.protocol!=="ws:"&&o.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${o.protocol}`,"SyntaxError");if(o.hash||o.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof t=="string"&&(t=[t]),t.length!==new Set(t.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(t.length>0&&!t.every(c=>d7(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[LF]=new URL(o.href);let a=FF.settingsObject;this[o7]=h7(o,t,a,this,(c,l)=>this.#s(c,l),i),this[RB]=n.CONNECTING,this[a7]=s7.NOT_SENT,this[ag]="blob"}close(e=void 0,t=void 0){ue.brandCheck(this,n);let r="WebSocket.close";if(e!==void 0&&(e=ue.converters["unsigned short"](e,r,"code",{clamp:!0})),t!==void 0&&(t=ue.converters.USVString(t,r,"reason")),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(t!==void 0&&(i=Buffer.byteLength(t),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");OF(this,e,t,i)}send(e){ue.brandCheck(this,n);let t="WebSocket.send";if(ue.argumentLengthCheck(arguments,1,t),e=ue.converters.WebSocketSendData(e,t,"data"),l7(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!u7(this)||A7(this)))if(typeof e=="string"){let r=Buffer.byteLength(e);this.#t+=r,this.#n.add(e,()=>{this.#t-=r},og.string)}else VF.isArrayBuffer(e)?(this.#t+=e.byteLength,this.#n.add(e,()=>{this.#t-=e.byteLength},og.arrayBuffer)):ArrayBuffer.isView(e)?(this.#t+=e.byteLength,this.#n.add(e,()=>{this.#t-=e.byteLength},og.typedArray)):PF(e)&&(this.#t+=e.size,this.#n.add(e,()=>{this.#t-=e.size},og.blob))}get readyState(){return ue.brandCheck(this,n),this[RB]}get bufferedAmount(){return ue.brandCheck(this,n),this.#t}get url(){return ue.brandCheck(this,n),i7(this[LF])}get extensions(){return ue.brandCheck(this,n),this.#r}get protocol(){return ue.brandCheck(this,n),this.#i}get onopen(){return ue.brandCheck(this,n),this.#e.open}set onopen(e){ue.brandCheck(this,n),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return ue.brandCheck(this,n),this.#e.error}set onerror(e){ue.brandCheck(this,n),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return ue.brandCheck(this,n),this.#e.close}set onclose(e){ue.brandCheck(this,n),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return ue.brandCheck(this,n),this.#e.message}set onmessage(e){ue.brandCheck(this,n),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return ue.brandCheck(this,n),this[ag]}set binaryType(e){ue.brandCheck(this,n),e!=="blob"&&e!=="arraybuffer"?this[ag]="blob":this[ag]=e}#s(e,t){this[xF]=e;let r=new f7(this,t);r.on("drain",C7),r.on("error",I7.bind(this)),e.socket.ws=this,this[c7]=r,this.#n=new E7(e.socket),this[RB]=mA.OPEN;let i=e.headersList.get("sec-websocket-extensions");i!==null&&(this.#r=i);let s=e.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),UF("open",this)}};Gn.CONNECTING=Gn.prototype.CONNECTING=mA.CONNECTING;Gn.OPEN=Gn.prototype.OPEN=mA.OPEN;Gn.CLOSING=Gn.prototype.CLOSING=mA.CLOSING;Gn.CLOSED=Gn.prototype.CLOSED=mA.CLOSED;Object.defineProperties(Gn.prototype,{CONNECTING:Fs,OPEN:Fs,CLOSING:Fs,CLOSED:Fs,url:sr,readyState:sr,bufferedAmount:sr,onopen:sr,onerror:sr,onclose:sr,close:sr,onmessage:sr,binaryType:sr,send:sr,extensions:sr,protocol:sr,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Gn,{CONNECTING:Fs,OPEN:Fs,CLOSING:Fs,CLOSED:Fs});ue.converters["sequence<DOMString>"]=ue.sequenceConverter(ue.converters.DOMString);ue.converters["DOMString or sequence<DOMString>"]=function(n,e,t){return ue.util.Type(n)==="Object"&&Symbol.iterator in n?ue.converters["sequence<DOMString>"](n):ue.converters.DOMString(n,e,t)};ue.converters.WebSocketInit=ue.dictionaryConverter([{key:"protocols",converter:ue.converters["DOMString or sequence<DOMString>"],defaultValue:()=>new Array(0)},{key:"dispatcher",converter:ue.converters.any,defaultValue:()=>g7()},{key:"headers",converter:ue.nullableConverter(ue.converters.HeadersInit)}]);ue.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(n){return ue.util.Type(n)==="Object"&&!(Symbol.iterator in n)?ue.converters.WebSocketInit(n):{protocols:ue.converters["DOMString or sequence<DOMString>"](n)}};ue.converters.WebSocketSendData=function(n){if(ue.util.Type(n)==="Object"){if(PF(n))return ue.converters.Blob(n,{strict:!1});if(ArrayBuffer.isView(n)||VF.isArrayBuffer(n))return ue.converters.BufferSource(n)}return ue.converters.USVString(n)};function C7(){this.ws[xF].socket.resume()}function I7(n){let e,t;n instanceof m7?(e=n.reason,t=n.code):e=n.message,UF("error",this,()=>new p7("error",{error:n,message:e})),OF(this,t)}GF.exports={WebSocket:Gn}});var kB=v((tme,HF)=>{"use strict";function y7(n){return n.indexOf("\0")===-1}function B7(n){if(n.length===0)return!1;for(let e=0;e<n.length;e++)if(n.charCodeAt(e)<48||n.charCodeAt(e)>57)return!1;return!0}function Q7(n){return new Promise(e=>{setTimeout(e,n).unref()})}HF.exports={isValidLastEventId:y7,isASCIINumber:B7,delay:Q7}});var zF=v((nme,JF)=>{"use strict";var{Transform:w7}=N("stream"),{isASCIINumber:YF,isValidLastEventId:WF}=kB(),Ji=[239,187,191],NB=10,cg=13,v7=58,S7=32,_B=class extends w7{state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(e={}){e.readableObjectMode=!0,super(e),this.state=e.eventSourceSettings||{},e.push&&(this.push=e.push)}_transform(e,t,r){if(e.length===0){r();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,e]):this.buffer=e,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===Ji[0]){r();return}this.checkBOM=!1,r();return;case 2:if(this.buffer[0]===Ji[0]&&this.buffer[1]===Ji[1]){r();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===Ji[0]&&this.buffer[1]===Ji[1]&&this.buffer[2]===Ji[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,r();return}this.checkBOM=!1;break;default:this.buffer[0]===Ji[0]&&this.buffer[1]===Ji[1]&&this.buffer[2]===Ji[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===NB){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===NB||this.buffer[this.pos]===cg){this.buffer[this.pos]===cg&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===NB||this.buffer[this.pos]===cg){this.buffer[this.pos]===cg&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}r()}parseLine(e,t){if(e.length===0)return;let r=e.indexOf(v7);if(r===0)return;let i="",s="";if(r!==-1){i=e.subarray(0,r).toString("utf8");let o=r+1;e[o]===S7&&++o,s=e.subarray(o).toString("utf8")}else i=e.toString("utf8"),s="";switch(i){case"data":t[i]===void 0?t[i]=s:t[i]+=`
${s}`;break;case"retry":YF(s)&&(t[i]=s);break;case"id":WF(s)&&(t[i]=s);break;case"event":s.length>0&&(t[i]=s);break}}processEvent(e){e.retry&&YF(e.retry)&&(this.state.reconnectionTime=parseInt(e.retry,10)),e.id&&WF(e.id)&&(this.state.lastEventId=e.id),e.data!==void 0&&this.push({type:e.event||"message",options:{data:e.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};JF.exports={EventSourceStream:_B}});var nL=v((rme,tL)=>{"use strict";var{pipeline:b7}=N("stream"),{fetching:D7}=oA(),{makeRequest:T7}=Rc(),{webidl:Ls}=Ht(),{EventSourceStream:R7}=zF(),{parseMIMEType:k7}=Bn(),{createFastMessageEvent:N7}=Lc(),{isNetworkError:jF}=rA(),{delay:_7}=kB(),{kEnumerableProperty:ta}=me(),{environmentSettingsObject:KF}=Ln(),$F=!1,ZF=3e3,EA=0,XF=1,CA=2,M7="anonymous",F7="use-credentials",Vc=class n extends EventTarget{#e={open:null,error:null,message:null};#t=null;#i=!1;#r=EA;#n=null;#s=null;#o;#a;constructor(e,t={}){super();let r="EventSource constructor";Ls.argumentLengthCheck(arguments,1,r),$F||($F=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),e=Ls.converters.USVString(e,r,"url"),t=Ls.converters.EventSourceInitDict(t,r,"eventSourceInitDict"),this.#o=t.dispatcher,this.#a={lastEventId:"",reconnectionTime:ZF};let i=KF,s;try{s=new URL(e,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=s.href;let o=M7;t.withCredentials&&(o=F7,this.#i=!0);let a={redirect:"follow",keepalive:!0,mode:"cors",credentials:o==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};a.client=KF.settingsObject,a.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],a.cache="no-store",a.initiator="other",a.urlList=[new URL(this.#t)],this.#n=T7(a),this.#c()}get readyState(){return this.#r}get url(){return this.#t}get withCredentials(){return this.#i}#c(){if(this.#r===CA)return;this.#r=EA;let e={request:this.#n,dispatcher:this.#o},t=r=>{jF(r)&&(this.dispatchEvent(new Event("error")),this.close()),this.#l()};e.processResponseEndOfBody=t,e.processResponse=r=>{if(jF(r))if(r.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#l();return}let i=r.headersList.get("content-type",!0),s=i!==null?k7(i):"failure",o=s!=="failure"&&s.essence==="text/event-stream";if(r.status!==200||o===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#r=XF,this.dispatchEvent(new Event("open")),this.#a.origin=r.urlList[r.urlList.length-1].origin;let a=new R7({eventSourceSettings:this.#a,push:c=>{this.dispatchEvent(N7(c.type,c.options))}});b7(r.body.stream,a,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#s=D7(e)}#l(){return m(this,null,function*(){this.#r!==CA&&(this.#r=EA,this.dispatchEvent(new Event("error")),yield _7(this.#a.reconnectionTime),this.#r===EA&&(this.#a.lastEventId.length&&this.#n.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#c()))})}close(){Ls.brandCheck(this,n),this.#r!==CA&&(this.#r=CA,this.#s.abort(),this.#n=null)}get onopen(){return this.#e.open}set onopen(e){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(e){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(e){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}},eL={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:EA,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:XF,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:CA,writable:!1}};Object.defineProperties(Vc,eL);Object.defineProperties(Vc.prototype,eL);Object.defineProperties(Vc.prototype,{close:ta,onerror:ta,onmessage:ta,onopen:ta,readyState:ta,url:ta,withCredentials:ta});Ls.converters.EventSourceInitDict=Ls.dictionaryConverter([{key:"withCredentials",converter:Ls.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:Ls.converters.any}]);tL.exports={EventSource:Vc,defaultReconnectionTime:ZF}});var MB=v((sme,ce)=>{"use strict";var L7=Hu(),rL=Bu(),x7=Ec(),U7=hN(),O7=Cc(),P7=sy(),V7=RN(),G7=LN(),iL=Fe(),ug=me(),{InvalidArgumentError:lg}=iL,Gc=y_(),q7=wu(),H7=Py(),Y7=n1(),W7=qy(),J7=by(),z7=Af(),{getGlobalDispatcher:sL,setGlobalDispatcher:j7}=Bf(),K7=Jy(),$7=Zh(),Z7=Xh();Object.assign(rL.prototype,Gc);ce.exports.Dispatcher=rL;ce.exports.Client=L7;ce.exports.Pool=x7;ce.exports.BalancedPool=U7;ce.exports.Agent=O7;ce.exports.ProxyAgent=P7;ce.exports.EnvHttpProxyAgent=V7;ce.exports.RetryAgent=G7;ce.exports.RetryHandler=z7;ce.exports.DecoratorHandler=K7;ce.exports.RedirectHandler=$7;ce.exports.createRedirectInterceptor=Z7;ce.exports.interceptors={redirect:l1(),retry:A1(),dump:h1()};ce.exports.buildConnector=q7;ce.exports.errors=iL;ce.exports.util={parseHeaders:ug.parseHeaders,headerNameToString:ug.headerNameToString};function IA(n){return(e,t,r)=>{if(typeof t=="function"&&(r=t,t=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new lg("invalid url");if(t!=null&&typeof t!="object")throw new lg("invalid opts");if(t&&t.path!=null){if(typeof t.path!="string")throw new lg("invalid opts.path");let o=t.path;t.path.startsWith("/")||(o=`/${o}`),e=new URL(ug.parseOrigin(e).origin+o)}else t||(t=typeof e=="object"?e:{}),e=ug.parseURL(e);let{agent:i,dispatcher:s=sL()}=t;if(i)throw new lg("unsupported opts.agent. Did you mean opts.client?");return n.call(s,W(_({},t),{origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:t.method||(t.body?"PUT":"GET")}),r)}}ce.exports.setGlobalDispatcher=j7;ce.exports.getGlobalDispatcher=sL;var X7=oA().fetch;ce.exports.fetch=function(e,t=void 0){return m(this,null,function*(){try{return yield X7(e,t)}catch(r){throw r&&typeof r=="object"&&Error.captureStackTrace(r),r}})};ce.exports.Headers=zo().Headers;ce.exports.Response=rA().Response;ce.exports.Request=Rc().Request;ce.exports.FormData=ku().FormData;ce.exports.File=globalThis.File??N("buffer").File;ce.exports.FileReader=DM().FileReader;var{setGlobalOrigin:e$,getGlobalOrigin:t$}=cI();ce.exports.setGlobalOrigin=e$;ce.exports.getGlobalOrigin=t$;var{CacheStorage:n$}=xM(),{kConstruct:r$}=qf();ce.exports.caches=new n$(r$);var{deleteCookie:i$,getCookies:s$,getSetCookies:o$,setCookie:a$}=jM();ce.exports.deleteCookie=i$;ce.exports.getCookies=s$;ce.exports.getSetCookies=o$;ce.exports.setCookie=a$;var{parseMIMEType:c$,serializeAMimeType:l$}=Bn();ce.exports.parseMIMEType=c$;ce.exports.serializeAMimeType=l$;var{CloseEvent:u$,ErrorEvent:A$,MessageEvent:d$}=Lc();ce.exports.WebSocket=qF().WebSocket;ce.exports.CloseEvent=u$;ce.exports.ErrorEvent=A$;ce.exports.MessageEvent=d$;ce.exports.request=IA(Gc.request);ce.exports.stream=IA(Gc.stream);ce.exports.pipeline=IA(Gc.pipeline);ce.exports.connect=IA(Gc.connect);ce.exports.upgrade=IA(Gc.upgrade);ce.exports.MockClient=H7;ce.exports.MockPool=W7;ce.exports.MockAgent=Y7;ce.exports.mockErrors=J7;var{EventSource:h$}=nL();ce.exports.EventSource=h$});var _e=v(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=or.DEFAULT_MAX_SEND_MESSAGE_LENGTH=or.Propagate=or.LogVerbosity=or.Status=void 0;var GL=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n}(GL||(or.Status=GL={})),qL=function(n){return n[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.ERROR=2]="ERROR",n[n.NONE=3]="NONE",n}(qL||(or.LogVerbosity=qL={})),HL=function(n){return n[n.DEADLINE=1]="DEADLINE",n[n.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",n[n.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",n[n.CANCELLATION=8]="CANCELLATION",n[n.DEFAULTS=65535]="DEFAULTS",n}(HL||(or.Propagate=HL={}));or.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;or.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var a0=v((dEe,jZ)=>{jZ.exports={name:"@grpc/grpc-js",version:"1.9.15",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var dt=v(hn=>{"use strict";var c0,l0,u0,A0;Object.defineProperty(hn,"__esModule",{value:!0});hn.isTracerEnabled=hn.trace=hn.log=hn.setLoggerVerbosity=hn.setLogger=hn.getLogger=void 0;var Ps=_e(),KZ=N("process"),$Z=a0().version,ZZ={error:(n,...e)=>{console.error("E "+n,...e)},info:(n,...e)=>{console.error("I "+n,...e)},debug:(n,...e)=>{console.error("D "+n,...e)}},oa=ZZ,Jc=Ps.LogVerbosity.ERROR,XZ=(l0=(c0=process.env.GRPC_NODE_VERBOSITY)!==null&&c0!==void 0?c0:process.env.GRPC_VERBOSITY)!==null&&l0!==void 0?l0:"";switch(XZ.toUpperCase()){case"DEBUG":Jc=Ps.LogVerbosity.DEBUG;break;case"INFO":Jc=Ps.LogVerbosity.INFO;break;case"ERROR":Jc=Ps.LogVerbosity.ERROR;break;case"NONE":Jc=Ps.LogVerbosity.NONE;break;default:}var eX=()=>oa;hn.getLogger=eX;var tX=n=>{oa=n};hn.setLogger=tX;var nX=n=>{Jc=n};hn.setLoggerVerbosity=nX;var rX=(n,...e)=>{let t;if(n>=Jc){switch(n){case Ps.LogVerbosity.DEBUG:t=oa.debug;break;case Ps.LogVerbosity.INFO:t=oa.info;break;case Ps.LogVerbosity.ERROR:t=oa.error;break}t||(t=oa.error),t&&t.bind(oa)(...e)}};hn.log=rX;var iX=(A0=(u0=process.env.GRPC_NODE_TRACE)!==null&&u0!==void 0?u0:process.env.GRPC_TRACE)!==null&&A0!==void 0?A0:"",d0=new Set,YL=new Set;for(let n of iX.split(","))n.startsWith("-")?YL.add(n.substring(1)):d0.add(n);var sX=d0.has("all");function oX(n,e,t){WL(e)&&(0,hn.log)(n,new Date().toISOString()+" | v"+$Z+" "+KZ.pid+" | "+e+" | "+t)}hn.trace=oX;function WL(n){return!YL.has(n)&&(sX||d0.has(n))}hn.isTracerEnabled=WL});var vg=v(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.getErrorCode=zc.getErrorMessage=void 0;function aX(n){return n instanceof Error?n.message:String(n)}zc.getErrorMessage=aX;function cX(n){return typeof n=="object"&&n!==null&&"code"in n&&typeof n.code=="number"?n.code:null}zc.getErrorCode=cX});var Dn=v(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.Metadata=void 0;var lX=dt(),uX=_e(),AX=vg(),dX=/^[0-9a-z_.-]+$/,hX=/^[ -~]*$/;function fX(n){return dX.test(n)}function gX(n){return hX.test(n)}function zL(n){return n.endsWith("-bin")}function pX(n){return!n.startsWith("grpc-")}function Sg(n){return n.toLowerCase()}function JL(n,e){if(!fX(n))throw new Error('Metadata key "'+n+'" contains illegal characters');if(e!=null)if(zL(n)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!gX(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var h0=class n{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){e=Sg(e),JL(e,t),this.internalRepr.set(e,[t])}add(e,t){e=Sg(e),JL(e,t);let r=this.internalRepr.get(e);r===void 0?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=Sg(e),this.internalRepr.delete(e)}get(e){return e=Sg(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let i=r[0];e[t]=Buffer.isBuffer(i)?Buffer.from(i):i}return e}clone(){let e=new n(this.options),t=e.internalRepr;for(let[r,i]of this.internalRepr){let s=i.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);t.set(r,s)}return e}merge(e){for(let[t,r]of e.internalRepr){let i=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,i)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(mX);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new n;for(let r of Object.keys(e)){if(r.charAt(0)===":")continue;let i=e[r];try{zL(r)?Array.isArray(i)?i.forEach(s=>{t.add(r,Buffer.from(s,"base64"))}):i!==void 0&&(pX(r)?i.split(",").forEach(s=>{t.add(r,Buffer.from(s.trim(),"base64"))}):t.add(r,Buffer.from(i,"base64"))):Array.isArray(i)?i.forEach(s=>{t.add(r,s)}):i!==void 0&&t.add(r,i)}catch(s){let o=`Failed to add metadata entry ${r}: ${i}. ${(0,AX.getErrorMessage)(s)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,lX.log)(uX.LogVerbosity.ERROR,o)}}return t}};bg.Metadata=h0;var mX=n=>Buffer.isBuffer(n)?n.toString("base64"):n});var E0=v(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.CallCredentials=void 0;var m0=Dn();function EX(n){return"getRequestHeaders"in n&&typeof n.getRequestHeaders=="function"}var jc=class n{static createFromMetadataGenerator(e){return new g0(e)}static createFromGoogleCredential(e){return n.createFromMetadataGenerator((t,r)=>{let i;EX(e)?i=e.getRequestHeaders(t.service_url):i=new Promise((s,o)=>{e.getRequestMetadata(t.service_url,(a,c)=>{if(a){o(a);return}if(!c){o(new Error("Headers not set by metadata plugin"));return}s(c)})}),i.then(s=>{let o=new m0.Metadata;for(let a of Object.keys(s))o.add(a,s[a]);r(null,o)},s=>{r(s)})})}static createEmpty(){return new p0}};Dg.CallCredentials=jc;var f0=class n extends jc{constructor(e){super(),this.creds=e}generateMetadata(e){return m(this,null,function*(){let t=new m0.Metadata,r=yield Promise.all(this.creds.map(i=>i.generateMetadata(e)));for(let i of r)t.merge(i);return t})}compose(e){return new n(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof n?this.creds.every((t,r)=>t._equals(e.creds[r])):!1}},g0=class n extends jc{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(i,s)=>{s!==void 0?t(s):r(i)})})}compose(e){return new f0([this,e])}_equals(e){return this===e?!0:e instanceof n?this.metadataGenerator===e.metadataGenerator:!1}},p0=class n extends jc{generateMetadata(e){return Promise.resolve(new m0.Metadata)}compose(e){return e}_equals(e){return e instanceof n}}});var I0=v(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.getDefaultRootsData=Kc.CIPHER_SUITES=void 0;var CX=N("fs");Kc.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var jL=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,C0=null;function IX(){return jL?(C0===null&&(C0=CX.readFileSync(jL)),C0):null}Kc.getDefaultRootsData=IX});var kg=v(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.ChannelCredentials=void 0;var yX=N("tls"),BX=E0(),KL=I0();function y0(n,e){if(n&&!(n instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var $c=class{constructor(e){this.callCredentials=e||BX.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var s;if(y0(e,"Root certificate"),y0(t,"Private key"),y0(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");let o=(0,yX.createSecureContext)({ca:(s=e??(0,KL.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,key:t??void 0,cert:r??void 0,ciphers:KL.CIPHER_SUITES});return new Tg(o,i??{})}static createFromSecureContext(e,t){return new Tg(e,t??{})}static createInsecure(){return new B0}};Rg.ChannelCredentials=$c;var B0=class n extends $c{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof n}},Tg=class n extends $c{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},t?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){let t=this.callCredentials.compose(e);return new Q0(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},Q0=class n extends $c{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new n(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var Gs=v(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.validateLoadBalancingConfig=Xt.getFirstUsableConfig=Xt.isLoadBalancerNameRegistered=Xt.createLoadBalancer=Xt.registerDefaultLoadBalancerType=Xt.registerLoadBalancerType=Xt.createChildChannelControlHelper=void 0;function QX(n,e){var t,r,i,s,o,a,c,l,u,A;return{createSubchannel:(r=(t=e.createSubchannel)===null||t===void 0?void 0:t.bind(e))!==null&&r!==void 0?r:n.createSubchannel.bind(n),updateState:(s=(i=e.updateState)===null||i===void 0?void 0:i.bind(e))!==null&&s!==void 0?s:n.updateState.bind(n),requestReresolution:(a=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&a!==void 0?a:n.requestReresolution.bind(n),addChannelzChild:(l=(c=e.addChannelzChild)===null||c===void 0?void 0:c.bind(e))!==null&&l!==void 0?l:n.addChannelzChild.bind(n),removeChannelzChild:(A=(u=e.removeChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&A!==void 0?A:n.removeChannelzChild.bind(n)}}Xt.createChildChannelControlHelper=QX;var Vs={},w0=null;function wX(n,e,t){Vs[n]={LoadBalancer:e,LoadBalancingConfig:t}}Xt.registerLoadBalancerType=wX;function vX(n){w0=n}Xt.registerDefaultLoadBalancerType=vX;function SX(n,e){let t=n.getLoadBalancerName();return t in Vs?new Vs[t].LoadBalancer(e):null}Xt.createLoadBalancer=SX;function bX(n){return n in Vs}Xt.isLoadBalancerNameRegistered=bX;function DX(n,e=!1){for(let t of n)if(t.getLoadBalancerName()in Vs)return t;return e&&w0?new Vs[w0].LoadBalancingConfig:null}Xt.getFirstUsableConfig=DX;function TX(n){if(!(n!==null&&typeof n=="object"))throw new Error("Load balancing config must be an object");let e=Object.keys(n);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let t=e[0];if(t in Vs)return Vs[t].LoadBalancingConfig.createFromJson(n[t]);throw new Error(`Unrecognized load balancing config name ${t}`)}Xt.validateLoadBalancingConfig=TX});var v0=v(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.extractAndSelectServiceConfig=qs.validateServiceConfig=qs.validateRetryThrottling=void 0;var RX=N("os"),Ng=_e(),kX=Gs(),_g=/^\d+(\.\d{1,9})?s$/,NX="node";function _X(n){if("service"in n&&n.service!==""){if(typeof n.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof n.service}`);if("method"in n&&n.method!==""){if(typeof n.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof n.service}`);return{service:n.service,method:n.method}}else return{service:n.service}}else{if("method"in n&&n.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function MX(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in n)||typeof n.initialBackoff!="string"||!_g.test(n.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in n)||typeof n.maxBackoff!="string"||!_g.test(n.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in n)||typeof n.backoffMultiplier!="number"||n.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in n&&Array.isArray(n.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(n.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of n.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(Ng.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(Ng.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:n.maxAttempts,initialBackoff:n.initialBackoff,maxBackoff:n.maxBackoff,backoffMultiplier:n.backoffMultiplier,retryableStatusCodes:n.retryableStatusCodes}}function FX(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in n&&(typeof n.hedgingDelay!="string"||!_g.test(n.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in n&&Array.isArray(n.nonFatalStatusCodes))for(let t of n.nonFatalStatusCodes)if(typeof t=="number"){if(!Object.values(Ng.Status).includes(t))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(Ng.Status).includes(t.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:n.maxAttempts};return n.hedgingDelay&&(e.hedgingDelay=n.hedgingDelay),n.nonFatalStatusCodes&&(e.nonFatalStatusCodes=n.nonFatalStatusCodes),e}function LX(n){var e;let t={name:[]};if(!("name"in n)||!Array.isArray(n.name))throw new Error("Invalid method config: invalid name array");for(let r of n.name)t.name.push(_X(r));if("waitForReady"in n){if(typeof n.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=n.waitForReady}if("timeout"in n)if(typeof n.timeout=="object"){if(!("seconds"in n.timeout)||typeof n.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in n.timeout)||typeof n.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");t.timeout=n.timeout}else if(typeof n.timeout=="string"&&_g.test(n.timeout)){let r=n.timeout.substring(0,n.timeout.length-1).split(".");t.timeout={seconds:r[0]|0,nanos:((e=r[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in n){if(typeof n.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=n.maxRequestBytes}if("maxResponseBytes"in n){if(typeof n.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=n.maxResponseBytes}if("retryPolicy"in n){if("hedgingPolicy"in n)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");t.retryPolicy=MX(n.retryPolicy)}else"hedgingPolicy"in n&&(t.hedgingPolicy=FX(n.hedgingPolicy));return t}function $L(n){if(!("maxTokens"in n)||typeof n.maxTokens!="number"||n.maxTokens<=0||n.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in n)||typeof n.tokenRatio!="number"||n.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+n.maxTokens.toFixed(3),tokenRatio:+n.tokenRatio.toFixed(3)}}qs.validateRetryThrottling=$L;function ZL(n){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in n)if(typeof n.loadBalancingPolicy=="string")e.loadBalancingPolicy=n.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in n)if(Array.isArray(n.loadBalancingConfig))for(let r of n.loadBalancingConfig)e.loadBalancingConfig.push((0,kX.validateLoadBalancingConfig)(r));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in n&&Array.isArray(n.methodConfig))for(let r of n.methodConfig)e.methodConfig.push(LX(r));"retryThrottling"in n&&(e.retryThrottling=$L(n.retryThrottling));let t=[];for(let r of e.methodConfig)for(let i of r.name){for(let s of t)if(i.service===s.service&&i.method===s.method)throw new Error(`Invalid service config: duplicate name ${i.service}/${i.method}`);t.push(i)}return e}qs.validateServiceConfig=ZL;function xX(n){if(!("serviceConfig"in n))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:ZL(n.serviceConfig)};if("clientLanguage"in n)if(Array.isArray(n.clientLanguage)){e.clientLanguage=[];for(let r of n.clientLanguage)if(typeof r=="string")e.clientLanguage.push(r);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in n)if(Array.isArray(n.clientHostname)){e.clientHostname=[];for(let r of n.clientHostname)if(typeof r=="string")e.clientHostname.push(r);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in n)if(typeof n.percentage=="number"&&0<=n.percentage&&n.percentage<=100)e.percentage=n.percentage;else throw new Error("Invalid service config choice: invalid percentage");let t=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let r in n)if(!t.includes(r))throw new Error(`Invalid service config choice: unexpected field ${r}`);return e}function UX(n,e){if(!Array.isArray(n))throw new Error("Invalid service config list");for(let t of n){let r=xX(t);if(!(typeof r.percentage=="number"&&e>r.percentage)){if(Array.isArray(r.clientHostname)){let i=!1;for(let s of r.clientHostname)s===RX.hostname()&&(i=!0);if(!i)continue}if(Array.isArray(r.clientLanguage)){let i=!1;for(let s of r.clientLanguage)s===NX&&(i=!0);if(!i)continue}return r.serviceConfig}}throw new Error("No matching service config found")}function OX(n,e){for(let t of n)if(t.length>0&&t[0].startsWith("grpc_config=")){let r=t.join("").substring(12),i=JSON.parse(r);return UX(i,e)}return null}qs.extractAndSelectServiceConfig=OX});var ar=v(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.ConnectivityState=void 0;var XL=function(n){return n[n.IDLE=0]="IDLE",n[n.CONNECTING=1]="CONNECTING",n[n.READY=2]="READY",n[n.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",n[n.SHUTDOWN=4]="SHUTDOWN",n}(XL||(Mg.ConnectivityState=XL={}))});var qn=v(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.uriToString=Hs.splitHostPort=Hs.parseUri=void 0;var PX=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function VX(n){let e=PX.exec(n);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}Hs.parseUri=VX;var ex=/^\d+$/;function GX(n){if(n.startsWith("[")){let e=n.indexOf("]");if(e===-1)return null;let t=n.substring(1,e);if(t.indexOf(":")===-1)return null;if(n.length>e+1)if(n[e+1]===":"){let r=n.substring(e+2);return ex.test(r)?{host:t,port:+r}:null}else return null;else return{host:t}}else{let e=n.split(":");return e.length===2?ex.test(e[1])?{host:e[0],port:+e[1]}:null:{host:n}}}Hs.splitHostPort=GX;function qX(n){let e="";return n.scheme!==void 0&&(e+=n.scheme+":"),n.authority!==void 0&&(e+="//"+n.authority+"/"),e+=n.path,e}Hs.uriToString=qX});var li=v(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.mapUriDefaultScheme=cr.getDefaultAuthority=cr.createResolver=cr.registerDefaultScheme=cr.registerResolver=void 0;var b0=qn(),Zc={},S0=null;function HX(n,e){Zc[n]=e}cr.registerResolver=HX;function YX(n){S0=n}cr.registerDefaultScheme=YX;function WX(n,e,t){if(n.scheme!==void 0&&n.scheme in Zc)return new Zc[n.scheme](n,e,t);throw new Error(`No resolver could be created for target ${(0,b0.uriToString)(n)}`)}cr.createResolver=WX;function JX(n){if(n.scheme!==void 0&&n.scheme in Zc)return Zc[n.scheme].getDefaultAuthority(n);throw new Error(`Invalid target ${(0,b0.uriToString)(n)}`)}cr.getDefaultAuthority=JX;function zX(n){return n.scheme===void 0||!(n.scheme in Zc)?S0!==null?{scheme:S0,authority:void 0,path:(0,b0.uriToString)(n)}:null:n}cr.mapUriDefaultScheme=zX});var Ws=v(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.QueuePicker=Ys.UnavailablePicker=Ys.PickResultType=void 0;var jX=Dn(),KX=_e(),Fg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.QUEUE=1]="QUEUE",n[n.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",n[n.DROP=3]="DROP",n}(Fg||(Ys.PickResultType=Fg={})),D0=class{constructor(e){this.status=Object.assign({code:KX.Status.UNAVAILABLE,details:"No connection established",metadata:new jX.Metadata},e)}pick(e){return{pickResultType:Fg.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};Ys.UnavailablePicker=D0;var T0=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:Fg.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};Ys.QueuePicker=T0});var bA=v(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.BackoffTimeout=void 0;var $X=1e3,ZX=1.6,XX=12e4,eee=.2;function tee(n,e){return Math.random()*(e-n)+n}var R0=class{constructor(e,t){this.callback=e,this.initialDelay=$X,this.multiplier=ZX,this.maxDelay=XX,this.jitter=eee,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(r=(t=this.timerId).unref)===null||r===void 0||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+tee(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,(t=(e=this.timerId).ref)===null||t===void 0||t.call(e)}unref(){var e,t;this.hasRef=!1,(t=(e=this.timerId).unref)===null||t===void 0||t.call(e)}getEndTime(){return this.endTime}};Lg.BackoffTimeout=R0});var Ug=v(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.ChildLoadBalancerHandler=void 0;var nee=Gs(),ree=ar(),iee="child_load_balancer_helper",k0=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(t){this.parent=t,this.child=null}createSubchannel(t,r){return this.parent.channelControlHelper.createSubchannel(t,r)}updateState(t,r){var i;if(this.calledByPendingChild()){if(t===ree.ConnectivityState.CONNECTING)return;(i=this.parent.currentChild)===null||i===void 0||i.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(t,r)}requestReresolution(){var t;let r=(t=this.parent.pendingChild)!==null&&t!==void 0?t:this.parent.currentChild;this.child===r&&this.parent.channelControlHelper.requestReresolution()}setChild(t){this.child=t}addChannelzChild(t){this.parent.channelControlHelper.addChannelzChild(t)}removeChannelzChild(t){this.parent.channelControlHelper.removeChannelzChild(t)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let s=new this.ChildPolicyHelper(this),o=(0,nee.createLoadBalancer)(t,s);s.setChild(o),this.currentChild===null?(this.currentChild=o,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=o,i=this.pendingChild)}else this.pendingChild===null?i=this.currentChild:i=this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return iee}};xg.ChildLoadBalancerHandler=k0});var nx=v(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.ResolvingLoadBalancer=void 0;var see=Gs(),oee=v0(),Tn=ar(),aee=li(),Xc=Ws(),cee=bA(),N0=_e(),lee=Dn(),uee=dt(),Aee=_e(),dee=qn(),hee=Ug(),fee="resolving_load_balancer";function tx(n){uee.trace(Aee.LogVerbosity.DEBUG,fee,n)}var gee=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function pee(n,e,t,r){for(let i of t.name)switch(r){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===n&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===n&&i.method===e)return!0}return!1}function mee(n,e,t,r){for(let i of t)if(pee(n,e,i,r))return i;return null}function Eee(n){return function(t,r){var i,s;let o=t.split("/").filter(l=>l.length>0),a=(i=o[0])!==null&&i!==void 0?i:"",c=(s=o[1])!==null&&s!==void 0?s:"";if(n&&n.methodConfig)for(let l of gee){let u=mee(a,c,n.methodConfig,l);if(u)return{methodConfig:u,pickInformation:{},status:N0.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:N0.Status.OK,dynamicFilterFactories:[]}}}var _0=class{constructor(e,t,r,i,s){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=i,this.onFailedResolution=s,this.latestChildState=Tn.ConnectivityState.IDLE,this.latestChildPicker=new Xc.QueuePicker(this),this.currentState=Tn.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,oee.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(Tn.ConnectivityState.IDLE,new Xc.QueuePicker(this)),this.childLoadBalancer=new hee.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(tx("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,c)=>{this.latestChildState=a,this.latestChildPicker=c,this.updateState(a,c)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,aee.createResolver)(e,{onSuccessfulResolution:(a,c,l,u,A)=>{var d;this.backoffTimeout.stop(),this.backoffTimeout.reset();let f=null;c===null?l===null?(this.previousServiceConfig=null,f=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(l):f=this.previousServiceConfig:(f=c,this.previousServiceConfig=c);let Q=(d=f?.loadBalancingConfig)!==null&&d!==void 0?d:[],C=(0,see.getFirstUsableConfig)(Q,!0);if(C===null){this.handleResolutionFailure({code:N0.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new lee.Metadata});return}this.childLoadBalancer.updateAddressList(a,C,A);let I=f??this.defaultServiceConfig;this.onSuccessfulResolution(I,u??Eee(I))},onError:a=>{this.handleResolutionFailure(a)}},r);let o={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new cee.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},o),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===Tn.ConnectivityState.IDLE&&this.updateState(Tn.ConnectivityState.CONNECTING,new Xc.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){tx((0,dee.uriToString)(this.target)+" "+Tn.ConnectivityState[this.currentState]+" -> "+Tn.ConnectivityState[e]),e===Tn.ConnectivityState.IDLE&&(t=new Xc.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===Tn.ConnectivityState.IDLE&&(this.updateState(Tn.ConnectivityState.TRANSIENT_FAILURE,new Xc.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===Tn.ConnectivityState.IDLE||this.currentState===Tn.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=Tn.ConnectivityState.IDLE,this.latestChildPicker=new Xc.QueuePicker(this),this.currentState=Tn.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};Og.ResolvingLoadBalancer=_0});var rx=v(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.channelOptionsEqual=el.recognizedOptions=void 0;el.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0};function Cee(n,e){let t=Object.keys(n).sort(),r=Object.keys(e).sort();if(t.length!==r.length)return!1;for(let i=0;i<t.length;i+=1)if(t[i]!==r[i]||n[t[i]]!==e[r[i]])return!1;return!0}el.channelOptionsEqual=Cee});var Ai=v(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.stringToSubchannelAddress=ui.subchannelAddressToString=ui.subchannelAddressEqual=ui.isTcpSubchannelAddress=void 0;var Iee=N("net");function DA(n){return"port"in n}ui.isTcpSubchannelAddress=DA;function yee(n,e){return!n&&!e?!0:!n||!e?!1:DA(n)?DA(e)&&n.host===e.host&&n.port===e.port:!DA(e)&&n.path===e.path}ui.subchannelAddressEqual=yee;function Bee(n){return DA(n)?n.host+":"+n.port:n.path}ui.subchannelAddressToString=Bee;var Qee=443;function wee(n,e){return(0,Iee.isIP)(n)?{host:n,port:e??Qee}:{path:n}}ui.stringToSubchannelAddress=wee});var Pg=v(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.addAdminServicesToServer=tl.registerAdminService=void 0;var ix=[];function vee(n,e){ix.push({getServiceDefinition:n,getHandlers:e})}tl.registerAdminService=vee;function See(n){for(let{getServiceDefinition:e,getHandlers:t}of ix)n.addService(e(),t())}tl.addAdminServicesToServer=See});var sx=v(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.ClientDuplexStreamImpl=lr.ClientWritableStreamImpl=lr.ClientReadableStreamImpl=lr.ClientUnaryCallImpl=lr.callErrorFromStatus=void 0;var bee=N("events"),U0=N("stream"),TA=_e();function Dee(n,e){let t=`${n.code} ${TA.Status[n.code]}: ${n.details}`,i=`${new Error(t).stack}
for call at
${e}`;return Object.assign(new Error(t),n,{stack:i})}lr.callErrorFromStatus=Dee;var M0=class extends bee.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(TA.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}};lr.ClientUnaryCallImpl=M0;var F0=class extends U0.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(TA.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}};lr.ClientReadableStreamImpl=F0;var L0=class extends U0.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(TA.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};lr.ClientWritableStreamImpl=L0;var x0=class extends U0.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(TA.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};lr.ClientDuplexStreamImpl=x0});var ox=v(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.InterceptingListenerImpl=nl.isInterceptingListener=void 0;function Tee(n){return n.onReceiveMetadata!==void 0&&n.onReceiveMetadata.length===1}nl.isInterceptingListener=Tee;var O0=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}};nl.InterceptingListenerImpl=O0});var W0=v(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.getInterceptingCall=ur.InterceptingCall=ur.RequesterBuilder=ur.ListenerBuilder=ur.InterceptorConfigurationError=void 0;var Ree=Dn(),ax=ox(),cx=_e(),lx=vg(),kA=class n extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,n)}};ur.InterceptorConfigurationError=kA;var V0=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};ur.ListenerBuilder=V0;var G0=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};ur.RequesterBuilder=G0;var P0={onReceiveMetadata:(n,e)=>{e(n)},onReceiveMessage:(n,e)=>{e(n)},onReceiveStatus:(n,e)=>{e(n)}},RA={start:(n,e,t)=>{t(n,e)},sendMessage:(n,e)=>{e(n)},halfClose:n=>{n()},cancel:n=>{n()}},q0=class{constructor(e,t){var r,i,s,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:(r=t.start)!==null&&r!==void 0?r:RA.start,sendMessage:(i=t.sendMessage)!==null&&i!==void 0?i:RA.sendMessage,halfClose:(s=t.halfClose)!==null&&s!==void 0?s:RA.halfClose,cancel:(o=t.cancel)!==null&&o!==void 0?o:RA.cancel}:this.requester=RA}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,i,s,o,a,c;let l={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:u=>{},onReceiveMessage:(o=(s=t?.onReceiveMessage)===null||s===void 0?void 0:s.bind(t))!==null&&o!==void 0?o:u=>{},onReceiveStatus:(c=(a=t?.onReceiveStatus)===null||a===void 0?void 0:a.bind(t))!==null&&c!==void 0?c:u=>{}};this.processingMetadata=!0,this.requester.start(e,l,(u,A)=>{var d,f,Q;this.processingMetadata=!1;let C;if((0,ax.isInterceptingListener)(A))C=A;else{let I={onReceiveMetadata:(d=A.onReceiveMetadata)!==null&&d!==void 0?d:P0.onReceiveMetadata,onReceiveMessage:(f=A.onReceiveMessage)!==null&&f!==void 0?f:P0.onReceiveMessage,onReceiveStatus:(Q=A.onReceiveStatus)!==null&&Q!==void 0?Q:P0.onReceiveStatus};C=new ax.InterceptingListenerImpl(I,l)}this.nextCall.start(u,C),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};ur.InterceptingCall=q0;function kee(n,e,t){var r,i;let s=(r=t.deadline)!==null&&r!==void 0?r:1/0,o=t.host,a=(i=t.parent)!==null&&i!==void 0?i:null,c=t.propagate_flags,l=t.credentials,u=n.createCall(e,s,o,a,c);return l&&u.setCredentials(l),u}var Vg=class{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(i){this.call.cancelWithStatus(cx.Status.INTERNAL,`Request message serialization failure: ${(0,lx.getErrorMessage)(i)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:i=>{var s;(s=t?.onReceiveMetadata)===null||s===void 0||s.call(t,i)},onReceiveMessage:i=>{var s;let o;try{o=this.methodDefinition.responseDeserialize(i)}catch(a){r={code:cx.Status.INTERNAL,details:`Response message parsing error: ${(0,lx.getErrorMessage)(a)}`,metadata:new Ree.Metadata},this.call.cancelWithStatus(r.code,r.details);return}(s=t?.onReceiveMessage)===null||s===void 0||s.call(t,o)},onReceiveStatus:i=>{var s,o;r?(s=t?.onReceiveStatus)===null||s===void 0||s.call(t,r):(o=t?.onReceiveStatus)===null||o===void 0||o.call(t,i)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},H0=class extends Vg{constructor(e,t){super(e,t)}start(e,t){var r,i;let s=!1,o={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:a=>{},onReceiveMessage:a=>{var c;s=!0,(c=t?.onReceiveMessage)===null||c===void 0||c.call(t,a)},onReceiveStatus:a=>{var c,l;s||(c=t?.onReceiveMessage)===null||c===void 0||c.call(t,null),(l=t?.onReceiveStatus)===null||l===void 0||l.call(t,a)}};super.start(e,o),this.call.startRead()}},Y0=class extends Vg{};function Nee(n,e,t){let r=kee(n,t.path,e);return t.responseStream?new Y0(r,t):new H0(r,t)}function _ee(n,e,t,r){if(n.clientInterceptors.length>0&&n.clientInterceptorProviders.length>0)throw new kA("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(n.callInterceptors.length>0&&n.callInterceptorProviders.length>0)throw new kA("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];n.callInterceptors.length>0||n.callInterceptorProviders.length>0?i=[].concat(n.callInterceptors,n.callInterceptorProviders.map(a=>a(e))).filter(a=>a):i=[].concat(n.clientInterceptors,n.clientInterceptorProviders.map(a=>a(e))).filter(a=>a);let s=Object.assign({},t,{method_definition:e});return i.reduceRight((a,c)=>l=>c(l,a),a=>Nee(r,a,e))(s)}ur.getInterceptingCall=_ee});var j0=v(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.Client=void 0;var di=sx(),Mee=K0(),Fee=ar(),Js=_e(),rl=Dn(),Gg=W0(),Nr=Symbol(),il=Symbol(),sl=Symbol(),ji=Symbol();function J0(n){return typeof n=="function"}function ol(n){return n.stack.split(`
`).slice(1).join(`
`)}var z0=class{constructor(e,t,r={}){var i,s;if(r=Object.assign({},r),this[il]=(i=r.interceptors)!==null&&i!==void 0?i:[],delete r.interceptors,this[sl]=(s=r.interceptor_providers)!==null&&s!==void 0?s:[],delete r.interceptor_providers,this[il].length>0&&this[sl].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[ji]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[Nr]=r.channelOverride;else if(r.channelFactoryOverride){let o=r.channelFactoryOverride;delete r.channelFactoryOverride,this[Nr]=o(e,t,r)}else this[Nr]=new Mee.ChannelImplementation(e,t,r)}close(){this[Nr].close()}getChannel(){return this[Nr]}waitForReady(e,t){let r=i=>{if(i){t(new Error("Failed to connect before the deadline"));return}let s;try{s=this[Nr].getConnectivityState(!0)}catch{t(new Error("The channel has been closed"));return}if(s===Fee.ConnectivityState.READY)t();else try{this[Nr].watchConnectivityState(s,e,r)}catch{t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(J0(e))return{metadata:new rl.Metadata,options:{},callback:e};if(J0(t))return e instanceof rl.Metadata?{metadata:e,options:{},callback:t}:{metadata:new rl.Metadata,options:e,callback:t};if(!(e instanceof rl.Metadata&&t instanceof Object&&J0(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,s,o,a){var c,l;let u=this.checkOptionalUnaryResponseArguments(s,o,a),A={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},d={argument:i,metadata:u.metadata,call:new di.ClientUnaryCallImpl,channel:this[Nr],methodDefinition:A,callOptions:u.options,callback:u.callback};this[ji]&&(d=this[ji](d));let f=d.call,Q={clientInterceptors:this[il],clientInterceptorProviders:this[sl],callInterceptors:(c=d.callOptions.interceptors)!==null&&c!==void 0?c:[],callInterceptorProviders:(l=d.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},C=(0,Gg.getInterceptingCall)(Q,d.methodDefinition,d.callOptions,d.channel);f.call=C;let I=null,S=!1,b=new Error;return C.start(d.metadata,{onReceiveMetadata:M=>{f.emit("metadata",M)},onReceiveMessage(M){I!==null&&C.cancelWithStatus(Js.Status.INTERNAL,"Too many responses received"),I=M},onReceiveStatus(M){if(!S){if(S=!0,M.code===Js.Status.OK)if(I===null){let k=ol(b);d.callback((0,di.callErrorFromStatus)({code:Js.Status.INTERNAL,details:"No message received",metadata:M.metadata},k))}else d.callback(null,I);else{let k=ol(b);d.callback((0,di.callErrorFromStatus)(M,k))}b=null,f.emit("status",M)}}}),C.sendMessage(i),C.halfClose(),f}makeClientStreamRequest(e,t,r,i,s,o){var a,c;let l=this.checkOptionalUnaryResponseArguments(i,s,o),u={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},A={metadata:l.metadata,call:new di.ClientWritableStreamImpl(t),channel:this[Nr],methodDefinition:u,callOptions:l.options,callback:l.callback};this[ji]&&(A=this[ji](A));let d=A.call,f={clientInterceptors:this[il],clientInterceptorProviders:this[sl],callInterceptors:(a=A.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(c=A.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},Q=(0,Gg.getInterceptingCall)(f,A.methodDefinition,A.callOptions,A.channel);d.call=Q;let C=null,I=!1,S=new Error;return Q.start(A.metadata,{onReceiveMetadata:b=>{d.emit("metadata",b)},onReceiveMessage(b){C!==null&&Q.cancelWithStatus(Js.Status.INTERNAL,"Too many responses received"),C=b},onReceiveStatus(b){if(!I){if(I=!0,b.code===Js.Status.OK)if(C===null){let M=ol(S);A.callback((0,di.callErrorFromStatus)({code:Js.Status.INTERNAL,details:"No message received",metadata:b.metadata},M))}else A.callback(null,C);else{let M=ol(S);A.callback((0,di.callErrorFromStatus)(b,M))}S=null,d.emit("status",b)}}}),d}checkMetadataAndOptions(e,t){let r,i;return e instanceof rl.Metadata?(r=e,t?i=t:i={}):(e?i=e:i={},r=new rl.Metadata),{metadata:r,options:i}}makeServerStreamRequest(e,t,r,i,s,o){var a,c;let l=this.checkMetadataAndOptions(s,o),u={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},A={argument:i,metadata:l.metadata,call:new di.ClientReadableStreamImpl(r),channel:this[Nr],methodDefinition:u,callOptions:l.options};this[ji]&&(A=this[ji](A));let d=A.call,f={clientInterceptors:this[il],clientInterceptorProviders:this[sl],callInterceptors:(a=A.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(c=A.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},Q=(0,Gg.getInterceptingCall)(f,A.methodDefinition,A.callOptions,A.channel);d.call=Q;let C=!1,I=new Error;return Q.start(A.metadata,{onReceiveMetadata(S){d.emit("metadata",S)},onReceiveMessage(S){d.push(S)},onReceiveStatus(S){if(!C){if(C=!0,d.push(null),S.code!==Js.Status.OK){let b=ol(I);d.emit("error",(0,di.callErrorFromStatus)(S,b))}I=null,d.emit("status",S)}}}),Q.sendMessage(i),Q.halfClose(),d}makeBidiStreamRequest(e,t,r,i,s){var o,a;let c=this.checkMetadataAndOptions(i,s),l={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},u={metadata:c.metadata,call:new di.ClientDuplexStreamImpl(t,r),channel:this[Nr],methodDefinition:l,callOptions:c.options};this[ji]&&(u=this[ji](u));let A=u.call,d={clientInterceptors:this[il],clientInterceptorProviders:this[sl],callInterceptors:(o=u.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(a=u.callOptions.interceptor_providers)!==null&&a!==void 0?a:[]},f=(0,Gg.getInterceptingCall)(d,u.methodDefinition,u.callOptions,u.channel);A.call=f;let Q=!1,C=new Error;return f.start(u.metadata,{onReceiveMetadata(I){A.emit("metadata",I)},onReceiveMessage(I){A.push(I)},onReceiveStatus(I){if(!Q){if(Q=!0,A.push(null),I.code!==Js.Status.OK){let S=ol(C);A.emit("error",(0,di.callErrorFromStatus)(I,S))}C=null,A.emit("status",I)}}}),A}};qg.Client=z0});var Z0=v(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.loadPackageDefinition=al.makeClientConstructor=void 0;var NA=j0(),Lee={unary:NA.Client.prototype.makeUnaryRequest,server_stream:NA.Client.prototype.makeServerStreamRequest,client_stream:NA.Client.prototype.makeClientStreamRequest,bidi:NA.Client.prototype.makeBidiStreamRequest};function $0(n){return["__proto__","prototype","constructor"].includes(n)}function ux(n,e,t){t||(t={});class r extends NA.Client{}return Object.keys(n).forEach(i=>{if($0(i))return;let s=n[i],o;if(typeof i=="string"&&i.charAt(0)==="$")throw new Error("Method names cannot start with $");s.requestStream?s.responseStream?o="bidi":o="client_stream":s.responseStream?o="server_stream":o="unary";let a=s.requestSerialize,c=s.responseDeserialize,l=xee(Lee[o],s.path,a,c);r.prototype[i]=l,Object.assign(r.prototype[i],s),s.originalName&&!$0(s.originalName)&&(r.prototype[s.originalName]=r.prototype[i])}),r.service=n,r.serviceName=e,r}al.makeClientConstructor=ux;function xee(n,e,t,r){return function(...i){return n.call(this,e,t,r,...i)}}function Uee(n){return"format"in n}function Oee(n){let e={};for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let r=n[t],i=t.split(".");if(i.some(a=>$0(a)))continue;let s=i[i.length-1],o=e;for(let a of i.slice(0,-1))o[a]||(o[a]={}),o=o[a];Uee(r)?o[s]=r:o[s]=ux(r,s,{})}return e}al.loadPackageDefinition=Oee});var Fx=v((UEe,Mx)=>{"use strict";var Pee=1/0,Vee="[object Symbol]",Gee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yg="\\ud800-\\udfff",Ex="\\u0300-\\u036f\\ufe20-\\ufe23",Cx="\\u20d0-\\u20f0",Ix="\\u2700-\\u27bf",yx="a-z\\xdf-\\xf6\\xf8-\\xff",Hee="\\xac\\xb1\\xd7\\xf7",Yee="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wee="\\u2000-\\u206f",Jee=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bx="A-Z\\xc0-\\xd6\\xd8-\\xde",Qx="\\ufe0e\\ufe0f",wx=Hee+Yee+Wee+Jee,eQ="['\u2019]",zee="["+Yg+"]",Ax="["+wx+"]",Hg="["+Ex+Cx+"]",vx="\\d+",jee="["+Ix+"]",Sx="["+yx+"]",bx="[^"+Yg+wx+vx+Ix+yx+Bx+"]",X0="\\ud83c[\\udffb-\\udfff]",Kee="(?:"+Hg+"|"+X0+")",Dx="[^"+Yg+"]",tQ="(?:\\ud83c[\\udde6-\\uddff]){2}",nQ="[\\ud800-\\udbff][\\udc00-\\udfff]",cl="["+Bx+"]",Tx="\\u200d",dx="(?:"+Sx+"|"+bx+")",$ee="(?:"+cl+"|"+bx+")",hx="(?:"+eQ+"(?:d|ll|m|re|s|t|ve))?",fx="(?:"+eQ+"(?:D|LL|M|RE|S|T|VE))?",Rx=Kee+"?",kx="["+Qx+"]?",Zee="(?:"+Tx+"(?:"+[Dx,tQ,nQ].join("|")+")"+kx+Rx+")*",Nx=kx+Rx+Zee,Xee="(?:"+[jee,tQ,nQ].join("|")+")"+Nx,ete="(?:"+[Dx+Hg+"?",Hg,tQ,nQ,zee].join("|")+")",tte=RegExp(eQ,"g"),nte=RegExp(Hg,"g"),rte=RegExp(X0+"(?="+X0+")|"+ete+Nx,"g"),ite=RegExp([cl+"?"+Sx+"+"+hx+"(?="+[Ax,cl,"$"].join("|")+")",$ee+"+"+fx+"(?="+[Ax,cl+dx,"$"].join("|")+")",cl+"?"+dx+"+"+hx,cl+"+"+fx,vx,Xee].join("|"),"g"),ste=RegExp("["+Tx+Yg+Ex+Cx+Qx+"]"),ote=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ate={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},cte=typeof global=="object"&&global&&global.Object===Object&&global,lte=typeof self=="object"&&self&&self.Object===Object&&self,ute=cte||lte||Function("return this")();function Ate(n,e,t,r){var i=-1,s=n?n.length:0;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}function dte(n){return n.split("")}function hte(n){return n.match(Gee)||[]}function fte(n){return function(e){return n?.[e]}}var gte=fte(ate);function _x(n){return ste.test(n)}function pte(n){return ote.test(n)}function mte(n){return _x(n)?Ete(n):dte(n)}function Ete(n){return n.match(rte)||[]}function Cte(n){return n.match(ite)||[]}var Ite=Object.prototype,yte=Ite.toString,gx=ute.Symbol,px=gx?gx.prototype:void 0,mx=px?px.toString:void 0;function Bte(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function Qte(n){if(typeof n=="string")return n;if(Dte(n))return mx?mx.call(n):"";var e=n+"";return e=="0"&&1/n==-Pee?"-0":e}function wte(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:Bte(n,e,t)}function vte(n){return function(e){e=Wg(e);var t=_x(e)?mte(e):void 0,r=t?t[0]:e.charAt(0),i=t?wte(t,1).join(""):e.slice(1);return r[n]()+i}}function Ste(n){return function(e){return Ate(_te(kte(e).replace(tte,"")),n,"")}}function bte(n){return!!n&&typeof n=="object"}function Dte(n){return typeof n=="symbol"||bte(n)&&yte.call(n)==Vee}function Wg(n){return n==null?"":Qte(n)}var Tte=Ste(function(n,e,t){return e=e.toLowerCase(),n+(t?Rte(e):e)});function Rte(n){return Nte(Wg(n).toLowerCase())}function kte(n){return n=Wg(n),n&&n.replace(qee,gte).replace(nte,"")}var Nte=vte("toUpperCase");function _te(n,e,t){return n=Wg(n),e=t?void 0:e,e===void 0?pte(n)?Cte(n):hte(n):n.match(e)||[]}Mx.exports=Tte});var rQ=v((OEe,Lx)=>{"use strict";Lx.exports=Mte;function Mte(n,e){for(var t=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)t[r++]=arguments[i++];return new Promise(function(a,c){t[r]=function(u){if(s)if(s=!1,u)c(u);else{for(var A=new Array(arguments.length-1),d=0;d<A.length;)A[d++]=arguments[d];a.apply(null,A)}};try{n.apply(e||null,t)}catch(l){s&&(s=!1,c(l))}})}});var Px=v(Ox=>{"use strict";var Jg=Ox;Jg.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&e.charAt(t)==="=";)++r;return Math.ceil(e.length*3)/4-r};var ll=new Array(64),Ux=new Array(123);for(_r=0;_r<64;)Ux[ll[_r]=_r<26?_r+65:_r<52?_r+71:_r<62?_r-4:_r-59|43]=_r++;var _r;Jg.encode=function(e,t,r){for(var i=null,s=[],o=0,a=0,c;t<r;){var l=e[t++];switch(a){case 0:s[o++]=ll[l>>2],c=(l&3)<<4,a=1;break;case 1:s[o++]=ll[c|l>>4],c=(l&15)<<2,a=2;break;case 2:s[o++]=ll[c|l>>6],s[o++]=ll[l&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=ll[c],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var xx="invalid encoding";Jg.decode=function(e,t,r){for(var i=r,s=0,o,a=0;a<e.length;){var c=e.charCodeAt(a++);if(c===61&&s>1)break;if((c=Ux[c])===void 0)throw Error(xx);switch(s){case 0:o=c,s=1;break;case 1:t[r++]=o<<2|(c&48)>>4,o=c,s=2;break;case 2:t[r++]=(o&15)<<4|(c&60)>>2,o=c,s=3;break;case 3:t[r++]=(o&3)<<6|c,s=0;break}}if(s===1)throw Error(xx);return r-i};Jg.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Gx=v((VEe,Vx)=>{"use strict";Vx.exports=zg;function zg(){this._listeners={}}zg.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this};zg.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this};zg.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}});var jx=v((GEe,zx)=>{"use strict";zx.exports=qx(qx);function qx(n){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=t[3]===128;function i(c,l,u){e[0]=c,l[u]=t[0],l[u+1]=t[1],l[u+2]=t[2],l[u+3]=t[3]}function s(c,l,u){e[0]=c,l[u]=t[3],l[u+1]=t[2],l[u+2]=t[1],l[u+3]=t[0]}n.writeFloatLE=r?i:s,n.writeFloatBE=r?s:i;function o(c,l){return t[0]=c[l],t[1]=c[l+1],t[2]=c[l+2],t[3]=c[l+3],e[0]}function a(c,l){return t[3]=c[l],t[2]=c[l+1],t[1]=c[l+2],t[0]=c[l+3],e[0]}n.readFloatLE=r?o:a,n.readFloatBE=r?a:o}():function(){function e(r,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,s,o);else if(isNaN(i))r(2143289344,s,o);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var c=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-c)*8388608)&8388607;r((a<<31|c+127<<23|l)>>>0,s,o)}}n.writeFloatLE=e.bind(null,Hx),n.writeFloatBE=e.bind(null,Yx);function t(r,i,s){var o=r(i,s),a=(o>>31)*2+1,c=o>>>23&255,l=o&8388607;return c===255?l?NaN:a*(1/0):c===0?a*1401298464324817e-60*l:a*Math.pow(2,c-150)*(l+8388608)}n.readFloatLE=t.bind(null,Wx),n.readFloatBE=t.bind(null,Jx)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=t[7]===128;function i(c,l,u){e[0]=c,l[u]=t[0],l[u+1]=t[1],l[u+2]=t[2],l[u+3]=t[3],l[u+4]=t[4],l[u+5]=t[5],l[u+6]=t[6],l[u+7]=t[7]}function s(c,l,u){e[0]=c,l[u]=t[7],l[u+1]=t[6],l[u+2]=t[5],l[u+3]=t[4],l[u+4]=t[3],l[u+5]=t[2],l[u+6]=t[1],l[u+7]=t[0]}n.writeDoubleLE=r?i:s,n.writeDoubleBE=r?s:i;function o(c,l){return t[0]=c[l],t[1]=c[l+1],t[2]=c[l+2],t[3]=c[l+3],t[4]=c[l+4],t[5]=c[l+5],t[6]=c[l+6],t[7]=c[l+7],e[0]}function a(c,l){return t[7]=c[l],t[6]=c[l+1],t[5]=c[l+2],t[4]=c[l+3],t[3]=c[l+4],t[2]=c[l+5],t[1]=c[l+6],t[0]=c[l+7],e[0]}n.readDoubleLE=r?o:a,n.readDoubleBE=r?a:o}():function(){function e(r,i,s,o,a,c){var l=o<0?1:0;if(l&&(o=-o),o===0)r(0,a,c+i),r(1/o>0?0:2147483648,a,c+s);else if(isNaN(o))r(0,a,c+i),r(2146959360,a,c+s);else if(o>17976931348623157e292)r(0,a,c+i),r((l<<31|2146435072)>>>0,a,c+s);else{var u;if(o<22250738585072014e-324)u=o/5e-324,r(u>>>0,a,c+i),r((l<<31|u/4294967296)>>>0,a,c+s);else{var A=Math.floor(Math.log(o)/Math.LN2);A===1024&&(A=1023),u=o*Math.pow(2,-A),r(u*4503599627370496>>>0,a,c+i),r((l<<31|A+1023<<20|u*1048576&1048575)>>>0,a,c+s)}}}n.writeDoubleLE=e.bind(null,Hx,0,4),n.writeDoubleBE=e.bind(null,Yx,4,0);function t(r,i,s,o,a){var c=r(o,a+i),l=r(o,a+s),u=(l>>31)*2+1,A=l>>>20&2047,d=4294967296*(l&1048575)+c;return A===2047?d?NaN:u*(1/0):A===0?u*5e-324*d:u*Math.pow(2,A-1075)*(d+4503599627370496)}n.readDoubleLE=t.bind(null,Wx,0,4),n.readDoubleBE=t.bind(null,Jx,4,0)}(),n}function Hx(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}function Yx(n,e,t){e[t]=n>>>24,e[t+1]=n>>>16&255,e[t+2]=n>>>8&255,e[t+3]=n&255}function Wx(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0}function Jx(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}});var iQ=v((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}});var $x=v(Kx=>{"use strict";var sQ=Kx;sQ.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,t+=4):t+=3;return t};sQ.read=function(e,t,r){var i=r-t;if(i<1)return"";for(var s=null,o=[],a=0,c;t<r;)c=e[t++],c<128?o[a++]=c:c>191&&c<224?o[a++]=(c&31)<<6|e[t++]&63:c>239&&c<365?(c=((c&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(c>>10),o[a++]=56320+(c&1023)):o[a++]=(c&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};sQ.write=function(e,t,r){for(var i=r,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128);return r-i}});var Xx=v((HEe,Zx)=>{"use strict";Zx.exports=Fte;function Fte(n,e,t){var r=t||8192,i=r>>>1,s=null,o=r;return function(c){if(c<1||c>i)return n(c);o+c>r&&(s=n(r),o=0);var l=e.call(s,o,o+=c);return o&7&&(o=(o|7)+1),l}}});var t2=v((YEe,e2)=>{"use strict";e2.exports=Ut;var _A=hi();function Ut(n,e){this.lo=n>>>0,this.hi=e>>>0}var aa=Ut.zero=new Ut(0,0);aa.toNumber=function(){return 0};aa.zzEncode=aa.zzDecode=function(){return this};aa.length=function(){return 1};var Lte=Ut.zeroHash="\0\0\0\0\0\0\0\0";Ut.fromNumber=function(e){if(e===0)return aa;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new Ut(r,i)};Ut.from=function(e){if(typeof e=="number")return Ut.fromNumber(e);if(_A.isString(e))if(_A.Long)e=_A.Long.fromString(e);else return Ut.fromNumber(parseInt(e,10));return e.low||e.high?new Ut(e.low>>>0,e.high>>>0):aa};Ut.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+r*4294967296)}return this.lo+this.hi*4294967296};Ut.prototype.toLong=function(e){return _A.Long?new _A.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var zs=String.prototype.charCodeAt;Ut.fromHash=function(e){return e===Lte?aa:new Ut((zs.call(e,0)|zs.call(e,1)<<8|zs.call(e,2)<<16|zs.call(e,3)<<24)>>>0,(zs.call(e,4)|zs.call(e,5)<<8|zs.call(e,6)<<16|zs.call(e,7)<<24)>>>0)};Ut.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ut.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Ut.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Ut.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}});var hi=v(oQ=>{"use strict";var X=oQ;X.asPromise=rQ();X.base64=Px();X.EventEmitter=Gx();X.float=jx();X.inquire=iQ();X.utf8=$x();X.pool=Xx();X.LongBits=t2();X.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);X.global=X.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||oQ;X.emptyArray=Object.freeze?Object.freeze([]):[];X.emptyObject=Object.freeze?Object.freeze({}):{};X.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};X.isString=function(e){return typeof e=="string"||e instanceof String};X.isObject=function(e){return e&&typeof e=="object"};X.isset=X.isSet=function(e,t){var r=e[t];return r!=null&&e.hasOwnProperty(t)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};X.Buffer=function(){try{var n=X.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}();X._Buffer_from=null;X._Buffer_allocUnsafe=null;X.newBuffer=function(e){return typeof e=="number"?X.Buffer?X._Buffer_allocUnsafe(e):new X.Array(e):X.Buffer?X._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};X.Array=typeof Uint8Array<"u"?Uint8Array:Array;X.Long=X.global.dcodeIO&&X.global.dcodeIO.Long||X.global.Long||X.inquire("long");X.key2Re=/^true|false|0|1$/;X.key32Re=/^-?(?:0|[1-9][0-9]*)$/;X.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;X.longToHash=function(e){return e?X.LongBits.from(e).toHash():X.LongBits.zeroHash};X.longFromHash=function(e,t){var r=X.LongBits.fromHash(e);return X.Long?X.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)};function n2(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;++i)(n[r[i]]===void 0||!t)&&(n[r[i]]=e[r[i]]);return n}X.merge=n2;X.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function r2(n){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&n2(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return n},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}X.newError=r2;X.ProtocolError=r2("ProtocolError");X.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(t[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};X.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}};X.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};X._configure=function(){var n=X.Buffer;if(!n){X._Buffer_from=X._Buffer_allocUnsafe=null;return}X._Buffer_from=n.from!==Uint8Array.from&&n.from||function(t,r){return new n(t,r)},X._Buffer_allocUnsafe=n.allocUnsafe||function(t){return new n(t)}}});var Kg=v((JEe,a2)=>{"use strict";a2.exports=Te;var Ar=hi(),aQ,jg=Ar.LongBits,i2=Ar.base64,s2=Ar.utf8;function MA(n,e,t){this.fn=n,this.len=e,this.next=void 0,this.val=t}function lQ(){}function xte(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function Te(){this.len=0,this.head=new MA(lQ,0,0),this.tail=this.head,this.states=null}var o2=function(){return Ar.Buffer?function(){return(Te.create=function(){return new aQ})()}:function(){return new Te}};Te.create=o2();Te.alloc=function(e){return new Ar.Array(e)};Ar.Array!==Array&&(Te.alloc=Ar.pool(Te.alloc,Ar.Array.prototype.subarray));Te.prototype._push=function(e,t,r){return this.tail=this.tail.next=new MA(e,t,r),this.len+=t,this};function uQ(n,e,t){e[t]=n&255}function Ute(n,e,t){for(;n>127;)e[t++]=n&127|128,n>>>=7;e[t]=n}function AQ(n,e){this.len=n,this.next=void 0,this.val=e}AQ.prototype=Object.create(MA.prototype);AQ.prototype.fn=Ute;Te.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new AQ((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Te.prototype.int32=function(e){return e<0?this._push(dQ,10,jg.fromNumber(e)):this.uint32(e)};Te.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function dQ(n,e,t){for(;n.hi;)e[t++]=n.lo&127|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)e[t++]=n.lo&127|128,n.lo=n.lo>>>7;e[t++]=n.lo}Te.prototype.uint64=function(e){var t=jg.from(e);return this._push(dQ,t.length(),t)};Te.prototype.int64=Te.prototype.uint64;Te.prototype.sint64=function(e){var t=jg.from(e).zzEncode();return this._push(dQ,t.length(),t)};Te.prototype.bool=function(e){return this._push(uQ,1,e?1:0)};function cQ(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}Te.prototype.fixed32=function(e){return this._push(cQ,4,e>>>0)};Te.prototype.sfixed32=Te.prototype.fixed32;Te.prototype.fixed64=function(e){var t=jg.from(e);return this._push(cQ,4,t.lo)._push(cQ,4,t.hi)};Te.prototype.sfixed64=Te.prototype.fixed64;Te.prototype.float=function(e){return this._push(Ar.float.writeFloatLE,4,e)};Te.prototype.double=function(e){return this._push(Ar.float.writeDoubleLE,8,e)};var Ote=Ar.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};Te.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(uQ,1,0);if(Ar.isString(e)){var r=Te.alloc(t=i2.length(e));i2.decode(e,r,0),e=r}return this.uint32(t)._push(Ote,t,e)};Te.prototype.string=function(e){var t=s2.length(e);return t?this.uint32(t)._push(s2.write,t,e):this._push(uQ,1,0)};Te.prototype.fork=function(){return this.states=new xte(this),this.head=this.tail=new MA(lQ,0,0),this.len=0,this};Te.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new MA(lQ,0,0),this.len=0),this};Te.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this};Te.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t};Te._configure=function(n){aQ=n,Te.create=o2(),aQ._configure()}});var u2=v((zEe,l2)=>{"use strict";l2.exports=fi;var c2=Kg();(fi.prototype=Object.create(c2.prototype)).constructor=fi;var js=hi();function fi(){c2.call(this)}fi._configure=function(){fi.alloc=js._Buffer_allocUnsafe,fi.writeBytesBuffer=js.Buffer&&js.Buffer.prototype instanceof Uint8Array&&js.Buffer.prototype.set.name==="set"?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}};fi.prototype.bytes=function(e){js.isString(e)&&(e=js._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(fi.writeBytesBuffer,t,e),this};function Pte(n,e,t){n.length<40?js.utf8.write(n,e,t):e.utf8Write?e.utf8Write(n,t):e.write(n,t)}fi.prototype.string=function(e){var t=js.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Pte,t,e),this};fi._configure()});var Zg=v((jEe,g2)=>{"use strict";g2.exports=Ct;var Mr=hi(),fQ,h2=Mr.LongBits,Vte=Mr.utf8;function Fr(n,e){return RangeError("index out of range: "+n.pos+" + "+(e||1)+" > "+n.len)}function Ct(n){this.buf=n,this.pos=0,this.len=n.length}var A2=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ct(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ct(e);throw Error("illegal buffer")},f2=function(){return Mr.Buffer?function(t){return(Ct.create=function(i){return Mr.Buffer.isBuffer(i)?new fQ(i):A2(i)})(t)}:A2};Ct.create=f2();Ct.prototype._slice=Mr.Array.prototype.subarray||Mr.Array.prototype.slice;Ct.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Fr(this,10);return e}}();Ct.prototype.int32=function(){return this.uint32()|0};Ct.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function hQ(){var n=new h2(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Fr(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,n}if(this.len-this.pos>4){for(;e<5;++e)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;e<5;++e){if(this.pos>=this.len)throw Fr(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}Ct.prototype.bool=function(){return this.uint32()!==0};function $g(n,e){return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0}Ct.prototype.fixed32=function(){if(this.pos+4>this.len)throw Fr(this,4);return $g(this.buf,this.pos+=4)};Ct.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Fr(this,4);return $g(this.buf,this.pos+=4)|0};function d2(){if(this.pos+8>this.len)throw Fr(this,8);return new h2($g(this.buf,this.pos+=4),$g(this.buf,this.pos+=4))}Ct.prototype.float=function(){if(this.pos+4>this.len)throw Fr(this,4);var e=Mr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ct.prototype.double=function(){if(this.pos+8>this.len)throw Fr(this,4);var e=Mr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ct.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw Fr(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=Mr.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)};Ct.prototype.string=function(){var e=this.bytes();return Vte.read(e,0,e.length)};Ct.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Fr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Fr(this);while(this.buf[this.pos++]&128);return this};Ct.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this};Ct._configure=function(n){fQ=n,Ct.create=f2(),fQ._configure();var e=Mr.Long?"toLong":"toNumber";Mr.merge(Ct.prototype,{int64:function(){return hQ.call(this)[e](!1)},uint64:function(){return hQ.call(this)[e](!0)},sint64:function(){return hQ.call(this).zzDecode()[e](!1)},fixed64:function(){return d2.call(this)[e](!0)},sfixed64:function(){return d2.call(this)[e](!1)}})}});var C2=v((KEe,E2)=>{"use strict";E2.exports=ca;var m2=Zg();(ca.prototype=Object.create(m2.prototype)).constructor=ca;var p2=hi();function ca(n){m2.call(this,n)}ca._configure=function(){p2.Buffer&&(ca.prototype._slice=p2.Buffer.prototype.slice)};ca.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ca._configure()});var y2=v(($Ee,I2)=>{"use strict";I2.exports=FA;var gQ=hi();(FA.prototype=Object.create(gQ.EventEmitter.prototype)).constructor=FA;function FA(n,e,t){if(typeof n!="function")throw TypeError("rpcImpl must be a function");gQ.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!e,this.responseDelimited=!!t}FA.prototype.rpcCall=function n(e,t,r,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return gQ.asPromise(n,o,e,t,r,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,l){if(c)return o.emit("error",c,e),s(c);if(l===null){o.end(!0);return}if(!(l instanceof r))try{l=r[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(u){return o.emit("error",u,e),s(u)}return o.emit("data",l,e),s(null,l)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};FA.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var pQ=v(B2=>{"use strict";var Gte=B2;Gte.Service=y2()});var mQ=v((XEe,Q2)=>{"use strict";Q2.exports={}});var S2=v(v2=>{"use strict";var Rn=v2;Rn.build="minimal";Rn.Writer=Kg();Rn.BufferWriter=u2();Rn.Reader=Zg();Rn.BufferReader=C2();Rn.util=hi();Rn.rpc=pQ();Rn.roots=mQ();Rn.configure=w2;function w2(){Rn.util._configure(),Rn.Writer._configure(Rn.BufferWriter),Rn.Reader._configure(Rn.BufferReader)}w2()});var D2=v((tCe,b2)=>{"use strict";b2.exports=EQ;function EQ(n,e){typeof n=="string"&&(e=n,n=void 0);var t=[];function r(s){if(typeof s!="string"){var o=i();if(EQ.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var a=Object.keys(s),c=new Array(a.length+1),l=new Array(a.length),u=0;u<a.length;)c[u]=a[u],l[u]=s[a[u++]];return c[u]=o,Function.apply(null,c).apply(null,l)}return Function(o)()}for(var A=new Array(arguments.length-1),d=0;d<A.length;)A[d]=arguments[++d];if(d=0,s=s.replace(/%([%dfijs])/g,function(Q,C){var I=A[d++];switch(C){case"d":case"f":return String(Number(I));case"i":return String(Math.floor(I));case"j":return JSON.stringify(I);case"s":return String(I)}return"%"}),d!==A.length)throw Error("parameter count mismatch");return t.push(s),r}function i(s){return"function "+(s||e||"")+"("+(n&&n.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return r.toString=i,r}EQ.verbose=!1});var R2=v((nCe,T2)=>{"use strict";T2.exports=LA;var qte=rQ(),Hte=iQ(),CQ=Hte("fs");function LA(n,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&CQ&&CQ.readFile?CQ.readFile(n,function(i,s){return i&&typeof XMLHttpRequest<"u"?LA.xhr(n,e,t):i?t(i):t(null,e.binary?s:s.toString("utf8"))}):LA.xhr(n,e,t):qte(LA,this,n,e)}LA.xhr=function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return r(Error("status "+i.status));if(t.binary){var o=i.response;if(!o){o=[];for(var a=0;a<i.responseText.length;++a)o.push(i.responseText.charCodeAt(a)&255)}return r(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var _2=v(N2=>{"use strict";var yQ=N2,k2=yQ.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},IQ=yQ.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),r=k2(e),i="";r&&(i=t.shift()+"/");for(var s=0;s<t.length;)t[s]===".."?s>0&&t[s-1]!==".."?t.splice(--s,2):r?t.splice(s,1):++s:t[s]==="."?t.splice(s,1):++s;return i+t.join("/")};yQ.resolve=function(e,t,r){return r||(t=IQ(t)),k2(t)?t:(r||(e=IQ(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?IQ(e+"/"+t):t)}});var la=v(M2=>{"use strict";var xA=M2,Yte=Ot(),Wte=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function UA(n,e){var t=0,r={};for(e|=0;t<n.length;)r[Wte[t+e]]=n[t++];return r}xA.basic=UA([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);xA.defaults=UA([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",Yte.emptyArray,null]);xA.long=UA([0,0,0,1,1],7);xA.mapKey=UA([0,0,0,5,5,0,0,0,1,1,0,2],2);xA.packed=UA([1,5,0,0,0,5,5,0,0,0,1,1,0])});var Ks=v((sCe,x2)=>{"use strict";x2.exports=dr;var Xg=ua();((dr.prototype=Object.create(Xg.prototype)).constructor=dr).className="Field";var F2=Lr(),L2=la(),vt=Ot(),BQ,Jte=/^required|optional|repeated$/;dr.fromJSON=function(e,t){return new dr(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)};function dr(n,e,t,r,i,s,o){if(vt.isObject(r)?(o=i,s=r,r=i=void 0):vt.isObject(i)&&(o=s,s=i,i=void 0),Xg.call(this,n,s),!vt.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!vt.isString(t))throw TypeError("type must be a string");if(r!==void 0&&!Jte.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!vt.isString(i))throw TypeError("extend must be a string");r==="proto3_optional"&&(r="optional"),this.rule=r&&r!=="optional"?r:void 0,this.type=t,this.id=e,this.extend=i||void 0,this.required=r==="required",this.optional=!this.required,this.repeated=r==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=vt.Long?L2.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=o}Object.defineProperty(dr.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});dr.prototype.setOption=function(e,t,r){return e==="packed"&&(this._packed=null),Xg.prototype.setOption.call(this,e,t,r)};dr.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return vt.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};dr.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=L2.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof BQ?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof F2&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof F2))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=vt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;vt.base64.test(this.typeDefault)?vt.base64.decode(this.typeDefault,e=vt.newBuffer(vt.base64.length(this.typeDefault)),0):vt.utf8.write(this.typeDefault,e=vt.newBuffer(vt.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=vt.emptyObject:this.repeated?this.defaultValue=vt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof BQ&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Xg.prototype.resolve.call(this)};dr.d=function(e,t,r,i){return typeof t=="function"?t=vt.decorateType(t).name:t&&typeof t=="object"&&(t=vt.decorateEnum(t).name),function(o,a){vt.decorateType(o.constructor).add(new dr(a,e,t,r,{default:i}))}};dr._configure=function(e){BQ=e}});var ul=v((oCe,P2)=>{"use strict";P2.exports=hr;var tp=ua();((hr.prototype=Object.create(tp.prototype)).constructor=hr).className="OneOf";var U2=Ks(),ep=Ot();function hr(n,e,t,r){if(Array.isArray(e)||(t=e,e=void 0),tp.call(this,n,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}hr.fromJSON=function(e,t){return new hr(e,t.oneof,t.options,t.comment)};hr.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return ep.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function O2(n){if(n.parent)for(var e=0;e<n.fieldsArray.length;++e)n.fieldsArray[e].parent||n.parent.add(n.fieldsArray[e])}hr.prototype.add=function(e){if(!(e instanceof U2))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,O2(this),this};hr.prototype.remove=function(e){if(!(e instanceof U2))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};hr.prototype.onAdd=function(e){tp.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}O2(this)};hr.prototype.onRemove=function(e){for(var t=0,r;t<this.fieldsArray.length;++t)(r=this.fieldsArray[t]).parent&&r.parent.remove(r);tp.prototype.onRemove.call(this,e)};hr.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(i,s){ep.decorateType(i.constructor).add(new hr(s,e)),Object.defineProperty(i,s,{get:ep.oneOfGetter(e),set:ep.oneOfSetter(e)})}}});var hl=v((aCe,H2)=>{"use strict";H2.exports=Re;var QQ=ua();((Re.prototype=Object.create(QQ.prototype)).constructor=Re).className="Namespace";var V2=Ks(),np=Ot(),zte=ul(),Al,OA,dl;Re.fromJSON=function(e,t){return new Re(e,t.options).addJSON(t.nested)};function G2(n,e){if(n&&n.length){for(var t={},r=0;r<n.length;++r)t[n[r].name]=n[r].toJSON(e);return t}}Re.arrayToJSON=G2;Re.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if(typeof e[r]!="string"&&e[r][0]<=t&&e[r][1]>t)return!0}return!1};Re.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1};function Re(n,e){QQ.call(this,n,e),this.nested=void 0,this._nestedArray=null}function q2(n){return n._nestedArray=null,n}Object.defineProperty(Re.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=np.toArray(this.nested))}});Re.prototype.toJSON=function(e){return np.toObject(["options",this.options,"nested",G2(this.nestedArray,e)])};Re.prototype.addJSON=function(e){var t=this;if(e)for(var r=Object.keys(e),i=0,s;i<r.length;++i)s=e[r[i]],t.add((s.fields!==void 0?Al.fromJSON:s.values!==void 0?dl.fromJSON:s.methods!==void 0?OA.fromJSON:s.id!==void 0?V2.fromJSON:Re.fromJSON)(r[i],s));return this};Re.prototype.get=function(e){return this.nested&&this.nested[e]||null};Re.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof dl)return this.nested[e].values;throw Error("no such enum: "+e)};Re.prototype.add=function(e){if(!(e instanceof V2&&e.extend!==void 0||e instanceof Al||e instanceof zte||e instanceof dl||e instanceof OA||e instanceof Re))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof Re&&e instanceof Re&&!(t instanceof Al||t instanceof OA)){for(var r=t.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),q2(this)};Re.prototype.remove=function(e){if(!(e instanceof QQ))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),q2(this)};Re.prototype.define=function(e,t){if(np.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(r=r.nested[i],!(r instanceof Re))throw Error("path conflicts with non-namespace objects")}else r.add(r=new Re(i))}return t&&r.addJSON(t),r};Re.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof Re?e[t++].resolveAll():e[t++].resolve();return this.resolve()};Re.prototype.lookup=function(e,t,r){if(typeof t=="boolean"?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),np.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),t);var i=this.get(e[0]);if(i){if(e.length===1){if(!t||t.indexOf(i.constructor)>-1)return i}else if(i instanceof Re&&(i=i.lookup(e.slice(1),t,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof Re&&(i=this._nestedArray[s].lookup(e,t,!0)))return i;return this.parent===null||r?null:this.parent.lookup(e,t)};Re.prototype.lookupType=function(e){var t=this.lookup(e,[Al]);if(!t)throw Error("no such type: "+e);return t};Re.prototype.lookupEnum=function(e){var t=this.lookup(e,[dl]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};Re.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[Al,dl]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};Re.prototype.lookupService=function(e){var t=this.lookup(e,[OA]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};Re._configure=function(n,e,t){Al=n,OA=e,dl=t}});var rp=v((cCe,Y2)=>{"use strict";Y2.exports=Ki;var wQ=Ks();((Ki.prototype=Object.create(wQ.prototype)).constructor=Ki).className="MapField";var jte=la(),PA=Ot();function Ki(n,e,t,r,i,s){if(wQ.call(this,n,e,r,void 0,void 0,i,s),!PA.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}Ki.fromJSON=function(e,t){return new Ki(e,t.id,t.keyType,t.type,t.options,t.comment)};Ki.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return PA.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Ki.prototype.resolve=function(){if(this.resolved)return this;if(jte.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return wQ.prototype.resolve.call(this)};Ki.d=function(e,t,r){return typeof r=="function"?r=PA.decorateType(r).name:r&&typeof r=="object"&&(r=PA.decorateEnum(r).name),function(s,o){PA.decorateType(s.constructor).add(new Ki(o,e,t,r))}}});var ip=v((lCe,W2)=>{"use strict";W2.exports=Aa;var vQ=ua();((Aa.prototype=Object.create(vQ.prototype)).constructor=Aa).className="Method";var fl=Ot();function Aa(n,e,t,r,i,s,o,a,c){if(fl.isObject(i)?(o=i,i=s=void 0):fl.isObject(s)&&(o=s,s=void 0),!(e===void 0||fl.isString(e)))throw TypeError("type must be a string");if(!fl.isString(t))throw TypeError("requestType must be a string");if(!fl.isString(r))throw TypeError("responseType must be a string");vQ.call(this,n,o),this.type=e||"rpc",this.requestType=t,this.requestStream=i?!0:void 0,this.responseType=r,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=c}Aa.fromJSON=function(e,t){return new Aa(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};Aa.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return fl.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};Aa.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),vQ.prototype.resolve.call(this))}});var sp=v((uCe,z2)=>{"use strict";z2.exports=fr;var $s=hl();((fr.prototype=Object.create($s.prototype)).constructor=fr).className="Service";var SQ=ip(),VA=Ot(),Kte=pQ();function fr(n,e){$s.call(this,n,e),this.methods={},this._methodsArray=null}fr.fromJSON=function(e,t){var r=new fr(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),s=0;s<i.length;++s)r.add(SQ.fromJSON(i[s],t.methods[i[s]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r};fr.prototype.toJSON=function(e){var t=$s.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return VA.toObject(["options",t&&t.options||void 0,"methods",$s.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};Object.defineProperty(fr.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=VA.toArray(this.methods))}});function J2(n){return n._methodsArray=null,n}fr.prototype.get=function(e){return this.methods[e]||$s.prototype.get.call(this,e)};fr.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return $s.prototype.resolve.call(this)};fr.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof SQ?(this.methods[e.name]=e,e.parent=this,J2(this)):$s.prototype.add.call(this,e)};fr.prototype.remove=function(e){if(e instanceof SQ){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,J2(this)}return $s.prototype.remove.call(this,e)};fr.prototype.create=function(e,t,r){for(var i=new Kte.Service(e,t,r),s=0,o;s<this.methodsArray.length;++s){var a=VA.lcFirst((o=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=VA.codegen(["r","c"],VA.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var op=v((ACe,j2)=>{"use strict";j2.exports=gi;var $te=hi();function gi(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)this[e[t]]=n[e[t]]}gi.create=function(e){return this.$type.create(e)};gi.encode=function(e,t){return this.$type.encode(e,t)};gi.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};gi.decode=function(e){return this.$type.decode(e)};gi.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};gi.verify=function(e){return this.$type.verify(e)};gi.fromObject=function(e){return this.$type.fromObject(e)};gi.toObject=function(e,t){return this.$type.toObject(e,t)};gi.prototype.toJSON=function(){return this.$type.toObject(this,$te.toJSONOptions)}});var bQ=v((dCe,$2)=>{"use strict";$2.exports=ene;var Zte=Lr(),$i=la(),K2=Ot();function Xte(n){return"missing required '"+n.name+"'"}function ene(n){var e=K2.codegen(["r","l"],n.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(n.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");n.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var t=0;t<n.fieldsArray.length;++t){var r=n._fieldsArray[t].resolve(),i=r.resolvedType instanceof Zte?"int32":r.type,s="m"+K2.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),$i.defaults[r.keyType]!==void 0?e("k=%j",$i.defaults[r.keyType]):e("k=null"),$i.defaults[i]!==void 0?e("value=%j",$i.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),$i.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),$i.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',s):e("%s[k]=value",s)):r.repeated?(e("if(!(%s&&%s.length))",s,s)("%s=[]",s),$i.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),$i.basic[i]===void 0?e(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,t):e("%s.push(r.%s())",s,i)):$i.basic[i]===void 0?e(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,t):e("%s=r.%s()",s,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<n._fieldsArray.length;++t){var o=n._fieldsArray[t];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",Xte(o))}return e("return m")}});var RQ=v((hCe,Z2)=>{"use strict";Z2.exports=rne;var tne=Lr(),DQ=Ot();function gr(n,e){return n.name+": "+e+(n.repeated&&e!=="array"?"[]":n.map&&e!=="object"?"{k:"+n.keyType+"}":"")+" expected"}function TQ(n,e,t,r){if(e.resolvedType)if(e.resolvedType instanceof tne){n("switch(%s){",r)("default:")("return%j",gr(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),s=0;s<i.length;++s)n("case %i:",e.resolvedType.values[i[s]]);n("break")("}")}else n("{")("var e=types[%i].verify(%s);",t,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.isInteger(%s))",r)("return%j",gr(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",gr(e,"integer|Long"));break;case"float":case"double":n('if(typeof %s!=="number")',r)("return%j",gr(e,"number"));break;case"bool":n('if(typeof %s!=="boolean")',r)("return%j",gr(e,"boolean"));break;case"string":n("if(!util.isString(%s))",r)("return%j",gr(e,"string"));break;case"bytes":n('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",gr(e,"buffer"));break}return n}function nne(n,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.key32Re.test(%s))",t)("return%j",gr(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.key64Re.test(%s))",t)("return%j",gr(e,"integer|Long key"));break;case"bool":n("if(!util.key2Re.test(%s))",t)("return%j",gr(e,"boolean key"));break}return n}function rne(n){var e=DQ.codegen(["m"],n.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=n.oneofsArray,r={};t.length&&e("var p={}");for(var i=0;i<n.fieldsArray.length;++i){var s=n._fieldsArray[i].resolve(),o="m"+DQ.safeProp(s.name);if(s.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,s.name),s.map)e("if(!util.isObject(%s))",o)("return%j",gr(s,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),nne(e,s,"k[i]"),TQ(e,s,i,o+"[k[i]]")("}");else if(s.repeated)e("if(!Array.isArray(%s))",o)("return%j",gr(s,"array"))("for(var i=0;i<%s.length;++i){",o),TQ(e,s,i,o+"[i]")("}");else{if(s.partOf){var a=DQ.safeProp(s.partOf.name);r[s.partOf.name]===1&&e("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),r[s.partOf.name]=1,e("p%s=1",a)}TQ(e,s,i,o)}s.optional&&e("}")}return e("return null")}});var _Q=v(eU=>{"use strict";var X2=eU,GA=Lr(),pi=Ot();function kQ(n,e,t,r){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof GA){n("switch(d%s){",r);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)s[o[a]]===e.typeDefault&&!i&&(n("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),e.repeated||n("break"),i=!0),n("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",r,s[o[a]])("break");n("}")}else n('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,t,r);else{var c=!1;switch(e.type){case"double":case"float":n("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":n("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":n("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":n('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":n("m%s=String(d%s)",r,r);break;case"bool":n("m%s=Boolean(d%s)",r,r);break}}return n}X2.fromObject=function(e){var t=e.fieldsArray,r=pi.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var s=t[i].resolve(),o=pi.safeProp(s.name);s.map?(r("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),kQ(r,s,i,o+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),kQ(r,s,i,o+"[i]")("}")("}")):(s.resolvedType instanceof GA||r("if(d%s!=null){",o),kQ(r,s,i,o),s.resolvedType instanceof GA||r("}"))}return r("return m")};function NQ(n,e,t,r){if(e.resolvedType)e.resolvedType instanceof GA?n("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,t,r,r,t,r,r):n("d%s=types[%i].toObject(m%s,o)",r,t,r);else{var i=!1;switch(e.type){case"double":case"float":n("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":n("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:n("d%s=m%s",r,r);break}}return n}X2.toObject=function(e){var t=e.fieldsArray.slice().sort(pi.compareFieldsById);if(!t.length)return pi.codegen()("return {}");for(var r=pi.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],o=[],a=0;a<t.length;++a)t[a].partOf||(t[a].resolve().repeated?i:t[a].map?s:o).push(t[a]);if(i.length){for(r("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)r("d%s=[]",pi.safeProp(i[a].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),a=0;a<s.length;++a)r("d%s={}",pi.safeProp(s[a].name));r("}")}if(o.length){for(r("if(o.defaults){"),a=0;a<o.length;++a){var c=o[a],l=pi.safeProp(c.name);if(c.resolvedType instanceof GA)r("d%s=o.enums===String?%j:%j",l,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var u="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",l,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else r("d%s=%j",l,c.typeDefault)}r("}")}var A=!1;for(a=0;a<t.length;++a){var c=t[a],d=e._fieldsArray.indexOf(c),l=pi.safeProp(c.name);c.map?(A||(A=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),NQ(r,c,d,l+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),NQ(r,c,d,l+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",l,c.name),NQ(r,c,d,l),c.partOf&&r("if(o.oneofs)")("d%s=%j",pi.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}});var MQ=v(tU=>{"use strict";var ine=tU,sne=op();ine[".google.protobuf.Any"]={fromObject:function(n){if(n&&n["@type"]){var e=n["@type"].substring(n["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var r=n["@type"].charAt(0)==="."?n["@type"].slice(1):n["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:t.encode(t.fromObject(n)).finish()})}}return this.fromObject(n)},toObject:function(n,e){var t="type.googleapis.com/",r="",i="";if(e&&e.json&&n.type_url&&n.value){i=n.type_url.substring(n.type_url.lastIndexOf("/")+1),r=n.type_url.substring(0,n.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(n=s.decode(n.value))}if(!(n instanceof this.ctor)&&n instanceof sne){var o=n.$type.toObject(n,e),a=n.$type.fullName[0]==="."?n.$type.fullName.slice(1):n.$type.fullName;return r===""&&(r=t),i=r+a,o["@type"]=i,o}return this.toObject(n,e)}}});var lp=v((pCe,rU)=>{"use strict";rU.exports=qe;var xr=hl();((qe.prototype=Object.create(xr.prototype)).constructor=qe).className="Type";var one=Lr(),xQ=ul(),ap=Ks(),ane=rp(),cne=sp(),FQ=op(),LQ=Zg(),lne=Kg(),en=Ot(),une=UQ(),Ane=bQ(),dne=RQ(),nU=_Q(),hne=MQ();function qe(n,e){xr.call(this,n,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(qe.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var n=Object.keys(this.fields),e=0;e<n.length;++e){var t=this.fields[n[e]],r=t.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=en.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=en.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=qe.generateConstructor(this)())},set:function(n){var e=n.prototype;e instanceof FQ||((n.prototype=new FQ).constructor=n,en.merge(n.prototype,e)),n.$type=n.prototype.$type=this,en.merge(n,FQ,!0),this._ctor=n;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var r={};for(t=0;t<this.oneofsArray.length;++t)r[this._oneofsArray[t].resolve().name]={get:en.oneOfGetter(this._oneofsArray[t].oneof),set:en.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(n.prototype,r)}}});qe.generateConstructor=function(e){for(var t=en.codegen(["p"],e.name),r=0,i;r<e.fieldsArray.length;++r)(i=e._fieldsArray[r]).map?t("this%s={}",en.safeProp(i.name)):i.repeated&&t("this%s=[]",en.safeProp(i.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function cp(n){return n._fieldsById=n._fieldsArray=n._oneofsArray=null,delete n.encode,delete n.decode,delete n.verify,n}qe.fromJSON=function(e,t){var r=new qe(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var i=Object.keys(t.fields),s=0;s<i.length;++s)r.add((typeof t.fields[i[s]].keyType<"u"?ane.fromJSON:ap.fromJSON)(i[s],t.fields[i[s]]));if(t.oneofs)for(i=Object.keys(t.oneofs),s=0;s<i.length;++s)r.add(xQ.fromJSON(i[s],t.oneofs[i[s]]));if(t.nested)for(i=Object.keys(t.nested),s=0;s<i.length;++s){var o=t.nested[i[s]];r.add((o.id!==void 0?ap.fromJSON:o.fields!==void 0?qe.fromJSON:o.values!==void 0?one.fromJSON:o.methods!==void 0?cne.fromJSON:xr.fromJSON)(i[s],o))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r};qe.prototype.toJSON=function(e){var t=xr.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return en.toObject(["options",t&&t.options||void 0,"oneofs",xr.arrayToJSON(this.oneofsArray,e),"fields",xr.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};qe.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return xr.prototype.resolveAll.call(this)};qe.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};qe.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof ap&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),cp(this)}return e instanceof xQ?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),cp(this)):xr.prototype.add.call(this,e)};qe.prototype.remove=function(e){if(e instanceof ap&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),cp(this)}if(e instanceof xQ){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),cp(this)}return xr.prototype.remove.call(this,e)};qe.prototype.isReservedId=function(e){return xr.isReservedId(this.reserved,e)};qe.prototype.isReservedName=function(e){return xr.isReservedName(this.reserved,e)};qe.prototype.create=function(e){return new this.ctor(e)};qe.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=une(this)({Writer:lne,types:t,util:en}),this.decode=Ane(this)({Reader:LQ,types:t,util:en}),this.verify=dne(this)({types:t,util:en}),this.fromObject=nU.fromObject(this)({types:t,util:en}),this.toObject=nU.toObject(this)({types:t,util:en});var i=hne[e];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};qe.prototype.encode=function(e,t){return this.setup().encode(e,t)};qe.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};qe.prototype.decode=function(e,t){return this.setup().decode(e,t)};qe.prototype.decodeDelimited=function(e){return e instanceof LQ||(e=LQ.create(e)),this.decode(e,e.uint32())};qe.prototype.verify=function(e){return this.setup().verify(e)};qe.prototype.fromObject=function(e){return this.setup().fromObject(e)};qe.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};qe.d=function(e){return function(r){en.decorateType(r,e)}}});var dp=v((mCe,cU)=>{"use strict";cU.exports=Hn;var Ap=hl();((Hn.prototype=Object.create(Ap.prototype)).constructor=Hn).className="Root";var PQ=Ks(),sU=Lr(),fne=ul(),Zs=Ot(),oU,OQ,qA;function Hn(n){Ap.call(this,"",n),this.deferred=[],this.files=[]}Hn.fromJSON=function(e,t){return t||(t=new Hn),e.options&&t.setOptions(e.options),t.addJSON(e.nested)};Hn.prototype.resolvePath=Zs.path.resolve;Hn.prototype.fetch=Zs.fetch;function aU(){}Hn.prototype.load=function n(e,t,r){typeof t=="function"&&(r=t,t=void 0);var i=this;if(!r)return Zs.asPromise(n,i,e,t);var s=r===aU;function o(f,Q){if(r){if(s)throw f;var C=r;r=null,C(f,Q)}}function a(f){var Q=f.lastIndexOf("google/protobuf/");if(Q>-1){var C=f.substring(Q);if(C in qA)return C}return null}function c(f,Q){try{if(Zs.isString(Q)&&Q.charAt(0)==="{"&&(Q=JSON.parse(Q)),!Zs.isString(Q))i.setOptions(Q.options).addJSON(Q.nested);else{OQ.filename=f;var C=OQ(Q,i,t),I,S=0;if(C.imports)for(;S<C.imports.length;++S)(I=a(C.imports[S])||i.resolvePath(f,C.imports[S]))&&l(I);if(C.weakImports)for(S=0;S<C.weakImports.length;++S)(I=a(C.weakImports[S])||i.resolvePath(f,C.weakImports[S]))&&l(I,!0)}}catch(b){o(b)}!s&&!u&&o(null,i)}function l(f,Q){if(f=a(f)||f,!(i.files.indexOf(f)>-1)){if(i.files.push(f),f in qA){s?c(f,qA[f]):(++u,setTimeout(function(){--u,c(f,qA[f])}));return}if(s){var C;try{C=Zs.fs.readFileSync(f).toString("utf8")}catch(I){Q||o(I);return}c(f,C)}else++u,i.fetch(f,function(I,S){if(--u,!!r){if(I){Q?u||o(null,i):o(I);return}c(f,S)}})}}var u=0;Zs.isString(e)&&(e=[e]);for(var A=0,d;A<e.length;++A)(d=i.resolvePath("",e[A]))&&l(d);if(s)return i;u||o(null,i)};Hn.prototype.loadSync=function(e,t){if(!Zs.isNode)throw Error("not supported");return this.load(e,t,aU)};Hn.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return Ap.prototype.resolveAll.call(this)};var up=/^[A-Z]/;function iU(n,e){var t=e.parent.lookup(e.extend);if(t){var r=new PQ(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(r.name)||(r.declaringField=e,e.extensionField=r,t.add(r)),!0}return!1}Hn.prototype._handleAdd=function(e){if(e instanceof PQ)e.extend!==void 0&&!e.extensionField&&(iU(this,e)||this.deferred.push(e));else if(e instanceof sU)up.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof fne)){if(e instanceof oU)for(var t=0;t<this.deferred.length;)iU(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);up.test(e.name)&&(e.parent[e.name]=e)}};Hn.prototype._handleRemove=function(e){if(e instanceof PQ){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof sU)up.test(e.name)&&delete e.parent[e.name];else if(e instanceof Ap){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);up.test(e.name)&&delete e.parent[e.name]}};Hn._configure=function(n,e,t){oU=n,OQ=e,qA=t}});var Ot=v((ECe,uU)=>{"use strict";var It=uU.exports=hi(),lU=mQ(),VQ,GQ;It.codegen=D2();It.fetch=R2();It.path=_2();It.fs=It.inquire("fs");It.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]};It.toObject=function(e){for(var t={},r=0;r<e.length;){var i=e[r++],s=e[r++];s!==void 0&&(t[i]=s)}return t};var gne=/\\/g,pne=/"/g;It.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};It.safeProp=function(e){return!/^[$\w_]+$/.test(e)||It.isReserved(e)?'["'+e.replace(gne,"\\\\").replace(pne,'\\"')+'"]':"."+e};It.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var mne=/_([a-z])/g;It.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(mne,function(t,r){return r.toUpperCase()})};It.compareFieldsById=function(e,t){return e.id-t.id};It.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(It.decorateRoot.remove(e.$type),e.$type.name=t,It.decorateRoot.add(e.$type)),e.$type;VQ||(VQ=lp());var r=new VQ(t||e.name);return It.decorateRoot.add(r),r.ctor=e,Object.defineProperty(e,"$type",{value:r,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:r,enumerable:!1}),r};var Ene=0;It.decorateEnum=function(e){if(e.$type)return e.$type;GQ||(GQ=Lr());var t=new GQ("Enum"+Ene++,e);return It.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};It.setProperty=function(e,t,r){function i(s,o,a){var c=o.shift();if(c==="__proto__"||c==="prototype")return s;if(o.length>0)s[c]=i(s[c]||{},o,a);else{var l=s[c];l&&(a=[].concat(l).concat(a)),s[c]=a}return s}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),i(e,t,r)};Object.defineProperty(It,"decorateRoot",{get:function(){return lU.decorated||(lU.decorated=new(dp()))}})});var ua=v((CCe,AU)=>{"use strict";AU.exports=Yn;Yn.className="ReflectionObject";var hp=Ot(),fp;function Yn(n,e){if(!hp.isString(n))throw TypeError("name must be a string");if(e&&!hp.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=n,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Yn.prototype,{root:{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n}},fullName:{get:function(){for(var n=[this.name],e=this.parent;e;)n.unshift(e.name),e=e.parent;return n.join(".")}}});Yn.prototype.toJSON=function(){throw Error()};Yn.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof fp&&t._handleAdd(this)};Yn.prototype.onRemove=function(e){var t=e.root;t instanceof fp&&t._handleRemove(this),this.parent=null,this.resolved=!1};Yn.prototype.resolve=function(){return this.resolved?this:(this.root instanceof fp&&(this.resolved=!0),this)};Yn.prototype.getOption=function(e){if(this.options)return this.options[e]};Yn.prototype.setOption=function(e,t,r){return(!r||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=t),this};Yn.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var s=i.find(function(c){return Object.prototype.hasOwnProperty.call(c,e)});if(s){var o=s[e];hp.setProperty(o,r,t)}else s={},s[e]=hp.setProperty({},r,t),i.push(s)}else{var a={};a[e]=t,i.push(a)}return this};Yn.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this};Yn.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};Yn._configure=function(n){fp=n}});var Lr=v((ICe,fU)=>{"use strict";fU.exports=mi;var dU=ua();((mi.prototype=Object.create(dU.prototype)).constructor=mi).className="Enum";var hU=hl(),gp=Ot();function mi(n,e,t,r,i,s){if(dU.call(this,n,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.valuesOptions=s,this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)typeof e[o[a]]=="number"&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}mi.fromJSON=function(e,t){var r=new mi(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r};mi.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return gp.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};mi.prototype.add=function(e,t,r,i){if(!gp.isString(e))throw TypeError("name must be a string");if(!gp.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this};mi.prototype.remove=function(e){if(!gp.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};mi.prototype.isReservedId=function(e){return hU.isReservedId(this.reserved,e)};mi.prototype.isReservedName=function(e){return hU.isReservedName(this.reserved,e)}});var UQ=v((yCe,pU)=>{"use strict";pU.exports=Ine;var Cne=Lr(),qQ=la(),HQ=Ot();function gU(n,e,t,r){return e.resolvedType.group?n("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):n("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,r,(e.id<<3|2)>>>0)}function Ine(n){for(var e=HQ.codegen(["m","w"],n.name+"$encode")("if(!w)")("w=Writer.create()"),t,r,i=n.fieldsArray.slice().sort(HQ.compareFieldsById),t=0;t<i.length;++t){var s=i[t].resolve(),o=n._fieldsArray.indexOf(s),a=s.resolvedType instanceof Cne?"int32":s.type,c=qQ.basic[a];r="m"+HQ.safeProp(s.name),s.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|qQ.mapKey[s.keyType],s.keyType),c===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|c,a,r),e("}")("}")):s.repeated?(e("if(%s!=null&&%s.length){",r,r),s.packed&&qQ.packed[a]!==void 0?e("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",a,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),c===void 0?gU(e,s,o,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(s.id<<3|c)>>>0,a,r)),e("}")):(s.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,s.name),c===void 0?gU(e,s,o,r):e("w.uint32(%i).%s(%s)",(s.id<<3|c)>>>0,a,r))}return e("return w")}});var EU=v((BCe,mU)=>{"use strict";var ve=mU.exports=S2();ve.build="light";function yne(n,e,t){return typeof e=="function"?(t=e,e=new ve.Root):e||(e=new ve.Root),e.load(n,t)}ve.load=yne;function Bne(n,e){return e||(e=new ve.Root),e.loadSync(n)}ve.loadSync=Bne;ve.encoder=UQ();ve.decoder=bQ();ve.verifier=RQ();ve.converter=_Q();ve.ReflectionObject=ua();ve.Namespace=hl();ve.Root=dp();ve.Enum=Lr();ve.Type=lp();ve.Field=Ks();ve.OneOf=ul();ve.MapField=rp();ve.Service=sp();ve.Method=ip();ve.Message=op();ve.wrappers=MQ();ve.types=la();ve.util=Ot();ve.ReflectionObject._configure(ve.Root);ve.Namespace._configure(ve.Type,ve.Service,ve.Enum);ve.Root._configure(ve.Type);ve.Field._configure(ve.Type)});var WQ=v((QCe,yU)=>{"use strict";yU.exports=IU;var YQ=/[\s{}=;:[\],'"()<>]/g,Qne=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,wne=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,vne=/^ *[*/]+ */,Sne=/^\s*\*?\/*/,bne=/\n/g,Dne=/\s/,Tne=/\\(.?)/g,Rne={0:"\0",r:"\r",n:`
`,t:"	"};function CU(n){return n.replace(Tne,function(e,t){switch(t){case"\\":case"":return t;default:return Rne[t]||""}})}IU.unescape=CU;function IU(n,e){n=n.toString();var t=0,r=n.length,i=1,s=0,o={},a=[],c=null;function l(k){return Error("illegal "+k+" (line "+i+")")}function u(){var k=c==="'"?wne:Qne;k.lastIndex=t-1;var O=k.exec(n);if(!O)throw l("string");return t=k.lastIndex,I(c),c=null,CU(O[1])}function A(k){return n.charAt(k)}function d(k,O,q){var B={type:n.charAt(k++),lineEmpty:!1,leading:q},E;e?E=2:E=3;var y=k-E,w;do if(--y<0||(w=n.charAt(y))===`
`){B.lineEmpty=!0;break}while(w===" "||w==="	");for(var g=n.substring(k,O).split(bne),T=0;T<g.length;++T)g[T]=g[T].replace(e?Sne:vne,"").trim();B.text=g.join(`
`).trim(),o[i]=B,s=i}function f(k){var O=Q(k),q=n.substring(k,O),B=/^\s*\/\//.test(q);return B}function Q(k){for(var O=k;O<r&&A(O)!==`
`;)O++;return O}function C(){if(a.length>0)return a.shift();if(c)return u();var k,O,q,B,E,y=t===0;do{if(t===r)return null;for(k=!1;Dne.test(q=A(t));)if(q===`
`&&(y=!0,++i),++t===r)return null;if(A(t)==="/"){if(++t===r)throw l("comment");if(A(t)==="/")if(e){if(B=t,E=!1,f(t-1)){E=!0;do if(t=Q(t),t===r||(t++,!y))break;while(f(t))}else t=Math.min(r,Q(t)+1);E&&(d(B,t,y),y=!0),i++,k=!0}else{for(E=A(B=t+1)==="/";A(++t)!==`
`;)if(t===r)return null;++t,E&&(d(B,t-1,y),y=!0),++i,k=!0}else if((q=A(t))==="*"){B=t+1,E=e||A(B)==="*";do{if(q===`
`&&++i,++t===r)throw l("comment");O=q,q=A(t)}while(O!=="*"||q!=="/");++t,E&&(d(B,t-2,y),y=!0),k=!0}else return"/"}}while(k);var w=t;YQ.lastIndex=0;var g=YQ.test(A(w++));if(!g)for(;w<r&&!YQ.test(A(w));)++w;var T=n.substring(t,t=w);return(T==='"'||T==="'")&&(c=T),T}function I(k){a.push(k)}function S(){if(!a.length){var k=C();if(k===null)return null;I(k)}return a[0]}function b(k,O){var q=S(),B=q===k;if(B)return C(),!0;if(!O)throw l("token '"+q+"', '"+k+"' expected");return!1}function M(k){var O=null,q;return k===void 0?(q=o[i-1],delete o[i-1],q&&(e||q.type==="*"||q.lineEmpty)&&(O=q.leading?q.text:null)):(s<k&&S(),q=o[k],delete o[k],q&&!q.lineEmpty&&(e||q.type==="/")&&(O=q.leading?null:q.text)),O}return Object.defineProperty({next:C,peek:S,push:I,skip:b,cmnt:M},"line",{get:function(){return i}})}});var bU=v((wCe,SU)=>{"use strict";SU.exports=Zi;Zi.filename=null;Zi.defaults={keepCase:!1};var kne=WQ(),BU=dp(),QU=lp(),wU=Ks(),Nne=rp(),vU=ul(),_ne=Lr(),Mne=sp(),Fne=ip(),JQ=la(),zQ=Ot(),Lne=/^[1-9][0-9]*$/,xne=/^-?[1-9][0-9]*$/,Une=/^0[x][0-9a-fA-F]+$/,One=/^-?0[x][0-9a-fA-F]+$/,Pne=/^0[0-7]+$/,Vne=/^-?0[0-7]+$/,Gne=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Ei=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Ci=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,qne=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function Zi(n,e,t){e instanceof BU||(t=e,e=new BU),t||(t=Zi.defaults);var r=t.preferTrailingComment||!1,i=kne(n,t.alternateCommentMode||!1),s=i.next,o=i.push,a=i.peek,c=i.skip,l=i.cmnt,u=!0,A,d,f,Q,C=!1,I=e,S=t.keepCase?function(x){return x}:zQ.camelCase;function b(x,U,Y){var te=Zi.filename;return Y||(Zi.filename=null),Error("illegal "+(U||"token")+" '"+x+"' ("+(te?te+", ":"")+"line "+i.line+")")}function M(){var x=[],U;do{if((U=s())!=='"'&&U!=="'")throw b(U);x.push(s()),c(U),U=a()}while(U==='"'||U==="'");return x.join("")}function k(x){var U=s();switch(U){case"'":case'"':return o(U),M();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return q(U,!0)}catch{if(x&&Ci.test(U))return U;throw b(U,"value")}}function O(x,U){var Y,te;do U&&((Y=a())==='"'||Y==="'")?x.push(M()):x.push([te=B(s()),c("to",!0)?B(s()):te]);while(c(",",!0));var Z={options:void 0};Z.setOption=function(ge,tt){this.options===void 0&&(this.options={}),this.options[ge]=tt},T(Z,function(tt){if(tt==="option")Ge(Z,tt),c(";");else throw b(tt)},function(){qt(Z)})}function q(x,U){var Y=1;switch(x.charAt(0)==="-"&&(Y=-1,x=x.substring(1)),x){case"inf":case"INF":case"Inf":return Y*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(Lne.test(x))return Y*parseInt(x,10);if(Une.test(x))return Y*parseInt(x,16);if(Pne.test(x))return Y*parseInt(x,8);if(Gne.test(x))return Y*parseFloat(x);throw b(x,"number",U)}function B(x,U){switch(x){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!U&&x.charAt(0)==="-")throw b(x,"id");if(xne.test(x))return parseInt(x,10);if(One.test(x))return parseInt(x,16);if(Vne.test(x))return parseInt(x,8);throw b(x,"id")}function E(){if(A!==void 0)throw b("package");if(A=s(),!Ci.test(A))throw b(A,"name");I=I.define(A),c(";")}function y(){var x=a(),U;switch(x){case"weak":U=f||(f=[]),s();break;case"public":s();default:U=d||(d=[]);break}x=M(),c(";"),U.push(x)}function w(){if(c("="),Q=M(),C=Q==="proto3",!C&&Q!=="proto2")throw b(Q,"syntax");e.setOption("syntax",Q),c(";")}function g(x,U){switch(U){case"option":return Ge(x,U),c(";"),!0;case"message":return h(x,U),!0;case"enum":return Pe(x,U),!0;case"service":return Bt(x,U),!0;case"extend":return Na(x,U),!0}return!1}function T(x,U,Y){var te=i.line;if(x&&(typeof x.comment!="string"&&(x.comment=l()),x.filename=Zi.filename),c("{",!0)){for(var Z;(Z=s())!=="}";)U(Z);c(";",!0)}else Y&&Y(),c(";"),x&&(typeof x.comment!="string"||r)&&(x.comment=l(te)||x.comment)}function h(x,U){if(!Ei.test(U=s()))throw b(U,"type name");var Y=new QU(U);T(Y,function(Z){if(!g(Y,Z))switch(Z){case"map":Se(Y,Z);break;case"required":case"repeated":p(Y,Z);break;case"optional":C?p(Y,"proto3_optional"):p(Y,"optional");break;case"oneof":je(Y,Z);break;case"extensions":O(Y.extensions||(Y.extensions=[]));break;case"reserved":O(Y.reserved||(Y.reserved=[]),!0);break;default:if(!C||!Ci.test(Z))throw b(Z);o(Z),p(Y,"optional");break}}),x.add(Y)}function p(x,U,Y){var te=s();if(te==="group"){H(x,U);return}for(;te.endsWith(".")||a().startsWith(".");)te+=s();if(!Ci.test(te))throw b(te,"type");var Z=s();if(!Ei.test(Z))throw b(Z,"name");Z=S(Z),c("=");var ge=new wU(Z,B(s()),te,U,Y);if(T(ge,function(Nn){if(Nn==="option")Ge(ge,Nn),c(";");else throw b(Nn)},function(){qt(ge)}),U==="proto3_optional"){var tt=new vU("_"+Z);ge.setOption("proto3_optional",!0),tt.add(ge),x.add(tt)}else x.add(ge);!C&&ge.repeated&&(JQ.packed[te]!==void 0||JQ.basic[te]===void 0)&&ge.setOption("packed",!1,!0)}function H(x,U){var Y=s();if(!Ei.test(Y))throw b(Y,"name");var te=zQ.lcFirst(Y);Y===te&&(Y=zQ.ucFirst(Y)),c("=");var Z=B(s()),ge=new QU(Y);ge.group=!0;var tt=new wU(te,Z,Y,U);tt.filename=Zi.filename,T(ge,function(Nn){switch(Nn){case"option":Ge(ge,Nn),c(";");break;case"required":case"repeated":p(ge,Nn);break;case"optional":C?p(ge,"proto3_optional"):p(ge,"optional");break;case"message":h(ge,Nn);break;case"enum":Pe(ge,Nn);break;default:throw b(Nn)}}),x.add(ge).add(tt)}function Se(x){c("<");var U=s();if(JQ.mapKey[U]===void 0)throw b(U,"type");c(",");var Y=s();if(!Ci.test(Y))throw b(Y,"type");c(">");var te=s();if(!Ei.test(te))throw b(te,"name");c("=");var Z=new Nne(S(te),B(s()),U,Y);T(Z,function(tt){if(tt==="option")Ge(Z,tt),c(";");else throw b(tt)},function(){qt(Z)}),x.add(Z)}function je(x,U){if(!Ei.test(U=s()))throw b(U,"name");var Y=new vU(S(U));T(Y,function(Z){Z==="option"?(Ge(Y,Z),c(";")):(o(Z),p(Y,"optional"))}),x.add(Y)}function Pe(x,U){if(!Ei.test(U=s()))throw b(U,"name");var Y=new _ne(U);T(Y,function(Z){switch(Z){case"option":Ge(Y,Z),c(";");break;case"reserved":O(Y.reserved||(Y.reserved=[]),!0);break;default:gt(Y,Z)}}),x.add(Y)}function gt(x,U){if(!Ei.test(U))throw b(U,"name");c("=");var Y=B(s(),!0),te={options:void 0};te.setOption=function(Z,ge){this.options===void 0&&(this.options={}),this.options[Z]=ge},T(te,function(ge){if(ge==="option")Ge(te,ge),c(";");else throw b(ge)},function(){qt(te)}),x.add(U,Y,te.comment,te.options)}function Ge(x,U){var Y=c("(",!0);if(!Ci.test(U=s()))throw b(U,"name");var te=U,Z=te,ge;Y&&(c(")"),te="("+te+")",Z=te,U=a(),qne.test(U)&&(ge=U.slice(1),te+=U,s())),c("=");var tt=on(x,te);st(x,Z,tt,ge)}function on(x,U){if(c("{",!0)){for(var Y={};!c("}",!0);){if(!Ei.test(Jt=s()))throw b(Jt,"name");if(Jt===null)throw b(Jt,"end of input");var te,Z=Jt;if(c(":",!0),a()==="{")te=on(x,U+"."+Jt);else if(a()==="["){te=[];var ge;if(c("[",!0)){do ge=k(!0),te.push(ge);while(c(",",!0));c("]"),typeof ge<"u"&&yt(x,U+"."+Jt,ge)}}else te=k(!0),yt(x,U+"."+Jt,te);var tt=Y[Z];tt&&(te=[].concat(tt).concat(te)),Y[Z]=te,c(",",!0),c(";",!0)}return Y}var ls=k(!0);return yt(x,U,ls),ls}function yt(x,U,Y){x.setOption&&x.setOption(U,Y)}function st(x,U,Y,te){x.setParsedOption&&x.setParsedOption(U,Y,te)}function qt(x){if(c("[",!0)){do Ge(x,"option");while(c(",",!0));c("]")}return x}function Bt(x,U){if(!Ei.test(U=s()))throw b(U,"service name");var Y=new Mne(U);T(Y,function(Z){if(!g(Y,Z))if(Z==="rpc")an(Y,Z);else throw b(Z)}),x.add(Y)}function an(x,U){var Y=l(),te=U;if(!Ei.test(U=s()))throw b(U,"name");var Z=U,ge,tt,ls,Nn;if(c("("),c("stream",!0)&&(tt=!0),!Ci.test(U=s())||(ge=U,c(")"),c("returns"),c("("),c("stream",!0)&&(Nn=!0),!Ci.test(U=s())))throw b(U);ls=U,c(")");var Md=new Fne(Z,te,ge,ls,tt,Nn);Md.comment=Y,T(Md,function(SE){if(SE==="option")Ge(Md,SE),c(";");else throw b(SE)}),x.add(Md)}function Na(x,U){if(!Ci.test(U=s()))throw b(U,"reference");var Y=U;T(null,function(Z){switch(Z){case"required":case"repeated":p(x,Z,Y);break;case"optional":C?p(x,"proto3_optional",Y):p(x,"optional",Y);break;default:if(!C||!Ci.test(Z))throw b(Z);o(Z),p(x,"optional",Y);break}})}for(var Jt;(Jt=s())!==null;)switch(Jt){case"package":if(!u)throw b(Jt);E();break;case"import":if(!u)throw b(Jt);y();break;case"syntax":if(!u)throw b(Jt);w();break;case"option":Ge(I,Jt),c(";");break;default:if(g(I,Jt)){u=!1;continue}throw b(Jt)}return Zi.filename=null,{package:A,imports:d,weakImports:f,syntax:Q,root:e}}});var RU=v((vCe,TU)=>{"use strict";TU.exports=Ur;var Hne=/\/|\./;function Ur(n,e){Hne.test(n)||(n="google/protobuf/"+n+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),Ur[n]=e}Ur("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var DU;Ur("duration",{Duration:DU={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});Ur("timestamp",{Timestamp:DU});Ur("empty",{Empty:{fields:{}}});Ur("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});Ur("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});Ur("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});Ur.get=function(e){return Ur[e]||null}});var NU=v((SCe,kU)=>{"use strict";var Xs=kU.exports=EU();Xs.build="full";Xs.tokenize=WQ();Xs.parse=bU();Xs.common=RU();Xs.Root._configure(Xs.Type,Xs.parse,Xs.common)});var pp=v((bCe,_U)=>{"use strict";_U.exports=NU()});var jQ=v((DCe,Yne)=>{Yne.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var UU=v((Ee,xU)=>{"use strict";var fn=pp();xU.exports=Ee=fn.descriptor=fn.Root.fromJSON(jQ()).lookup(".google.protobuf");var MU=fn.Namespace,HA=fn.Root,Xi=fn.Enum,eo=fn.Type,to=fn.Field,Wne=fn.MapField,mp=fn.OneOf,YA=fn.Service,Ep=fn.Method;HA.fromDescriptor=function(e){typeof e.length=="number"&&(e=Ee.FileDescriptorSet.decode(e));var t=new HA;if(e.file)for(var r,i,s=0,o;s<e.file.length;++s){if(i=t,(r=e.file[s]).package&&r.package.length&&(i=t.define(r.package)),r.name&&r.name.length&&t.files.push(i.filename=r.name),r.messageType)for(o=0;o<r.messageType.length;++o)i.add(eo.fromDescriptor(r.messageType[o],r.syntax));if(r.enumType)for(o=0;o<r.enumType.length;++o)i.add(Xi.fromDescriptor(r.enumType[o]));if(r.extension)for(o=0;o<r.extension.length;++o)i.add(to.fromDescriptor(r.extension[o]));if(r.service)for(o=0;o<r.service.length;++o)i.add(YA.fromDescriptor(r.service[o]));var a=gl(r.options,Ee.FileOptions);if(a){var c=Object.keys(a);for(o=0;o<c.length;++o)i.setOption(c[o],a[c[o]])}}return t};HA.prototype.toDescriptor=function(e){var t=Ee.FileDescriptorSet.create();return FU(this,t.file,e),t};function FU(n,e,t){var r=Ee.FileDescriptorProto.create({name:n.filename||(n.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});t&&(r.syntax=t),n instanceof HA||(r.package=n.fullName.substring(1));for(var i=0,s;i<n.nestedArray.length;++i)(s=n._nestedArray[i])instanceof eo?r.messageType.push(s.toDescriptor(t)):s instanceof Xi?r.enumType.push(s.toDescriptor()):s instanceof to?r.extension.push(s.toDescriptor(t)):s instanceof YA?r.service.push(s.toDescriptor()):s instanceof MU&&FU(s,e,t);r.options=pl(n.options,Ee.FileOptions),r.messageType.length+r.enumType.length+r.extension.length+r.service.length&&e.push(r)}var Jne=0;eo.fromDescriptor=function(e,t){typeof e.length=="number"&&(e=Ee.DescriptorProto.decode(e));var r=new eo(e.name.length?e.name:"Type"+Jne++,gl(e.options,Ee.MessageOptions)),i;if(e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)r.add(mp.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var s=to.fromDescriptor(e.field[i],t);r.add(s),e.field[i].hasOwnProperty("oneofIndex")&&r.oneofsArray[e.field[i].oneofIndex].add(s)}if(e.extension)for(i=0;i<e.extension.length;++i)r.add(to.fromDescriptor(e.extension[i],t));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)r.add(eo.fromDescriptor(e.nestedType[i],t)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&r.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)r.add(Xi.fromDescriptor(e.enumType[i]));if(e.extensionRange&&e.extensionRange.length)for(r.extensions=[],i=0;i<e.extensionRange.length;++i)r.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(r.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)r.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)r.reserved.push(e.reservedName[i])}return r};eo.prototype.toDescriptor=function(e){var t=Ee.DescriptorProto.create({name:this.name}),r;for(r=0;r<this.fieldsArray.length;++r){var i;if(t.field.push(i=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof Wne){var s=KQ(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),o=KQ(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),a=o===11||o===14?this._fieldsArray[r].resolvedType&&LU(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;t.nestedType.push(Ee.DescriptorProto.create({name:i.typeName,field:[Ee.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),Ee.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:a})],options:Ee.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)t.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof to?t.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof eo?t.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof Xi&&t.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)t.extensionRange.push(Ee.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)typeof this.reserved[r]=="string"?t.reservedName.push(this.reserved[r]):t.reservedRange.push(Ee.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return t.options=pl(this.options,Ee.MessageOptions),t};var zne=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;to.fromDescriptor=function(e,t){if(typeof e.length=="number"&&(e=Ee.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var r;e.typeName&&e.typeName.length?r=e.typeName:r=Xne(e.type);var i;switch(e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var s=e.extendee;e.extendee!==void 0&&(s=s.length?s:void 0);var o=new to(e.name.length?e.name:"field"+e.number,e.number,r,i,s);if(o.options=gl(e.options,Ee.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:var c=zne.exec(a);c&&(a=parseInt(a));break}o.setOption("default",a)}return ere(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o};to.prototype.toDescriptor=function(e){var t=Ee.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=fn.util.ucFirst(this.name),t.label=3;else{switch(t.type=KQ(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:t.typeName=this.resolvedType?LU(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":t.label=3;break;case"required":t.label=2;break;default:t.label=1;break}}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=pl(this.options,Ee.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((t.options||(t.options=Ee.FieldOptions.create())).packed=!1):this.packed&&((t.options||(t.options=Ee.FieldOptions.create())).packed=!0),t};var jne=0;Xi.fromDescriptor=function(e){typeof e.length=="number"&&(e=Ee.EnumDescriptorProto.decode(e));var t={};if(e.value)for(var r=0;r<e.value.length;++r){var i=e.value[r].name,s=e.value[r].number||0;t[i&&i.length?i:"NAME"+s]=s}return new Xi(e.name&&e.name.length?e.name:"Enum"+jne++,t,gl(e.options,Ee.EnumOptions))};Xi.prototype.toDescriptor=function(){for(var e=[],t=0,r=Object.keys(this.values);t<r.length;++t)e.push(Ee.EnumValueDescriptorProto.create({name:r[t],number:this.values[r[t]]}));return Ee.EnumDescriptorProto.create({name:this.name,value:e,options:pl(this.options,Ee.EnumOptions)})};var Kne=0;mp.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Ee.OneofDescriptorProto.decode(e)),new mp(e.name&&e.name.length?e.name:"oneof"+Kne++)};mp.prototype.toDescriptor=function(){return Ee.OneofDescriptorProto.create({name:this.name})};var $ne=0;YA.fromDescriptor=function(e){typeof e.length=="number"&&(e=Ee.ServiceDescriptorProto.decode(e));var t=new YA(e.name&&e.name.length?e.name:"Service"+$ne++,gl(e.options,Ee.ServiceOptions));if(e.method)for(var r=0;r<e.method.length;++r)t.add(Ep.fromDescriptor(e.method[r]));return t};YA.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return Ee.ServiceDescriptorProto.create({name:this.name,method:e,options:pl(this.options,Ee.ServiceOptions)})};var Zne=0;Ep.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Ee.MethodDescriptorProto.decode(e)),new Ep(e.name&&e.name.length?e.name:"Method"+Zne++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,gl(e.options,Ee.MethodOptions))};Ep.prototype.toDescriptor=function(){return Ee.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:pl(this.options,Ee.MethodOptions)})};function Xne(n){switch(n){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+n)}function ere(n){switch(n){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function KQ(n,e){switch(n){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof Xi)return 14;if(e instanceof eo)return e.group?10:11;throw Error("illegal type: "+n)}function gl(n,e){if(n){for(var t=[],r=0,i,s,o;r<e.fieldsArray.length;++r)(s=(i=e._fieldsArray[r]).name)!=="uninterpretedOption"&&n.hasOwnProperty(s)&&(o=n[s],i.resolvedType instanceof Xi&&typeof o=="number"&&i.resolvedType.valuesById[o]!==void 0&&(o=i.resolvedType.valuesById[o]),t.push(tre(s),o));return t.length?fn.util.toObject(t):void 0}}function pl(n,e){if(n){for(var t=[],r=0,i=Object.keys(n),s,o;r<i.length;++r)if(o=n[s=i[r]],s!=="default"){var a=e.fields[s];!a&&!(a=e.fields[s=fn.util.camelCase(s)])||t.push(s,o)}return t.length?e.fromObject(fn.util.toObject(t)):void 0}}function LU(n,e){var t=n.fullName.split("."),r=e.fullName.split("."),i=0,s=0,o=r.length-1;if(!(n instanceof HA)&&e instanceof MU)for(;i<t.length&&s<o&&t[i]===r[s];){var a=e.lookup(t[i++],!0);if(a!==null&&a!==e)break;++s}else for(;i<t.length&&s<o&&t[i]===r[s];++i,++s);return r.slice(s).join(".")}function tre(n){return n.substring(0,1)+n.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}});var OU=v((TCe,nre)=>{nre.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var PU=v((RCe,rre)=>{rre.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var VU=v((kCe,ire)=>{ire.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var YU=v(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.addCommonProtos=no.loadProtosWithOptionsSync=no.loadProtosWithOptions=void 0;var GU=N("fs"),qU=N("path"),ml=pp();function HU(n,e){let t=n.resolvePath;n.resolvePath=(r,i)=>{if(qU.isAbsolute(i))return i;for(let s of e){let o=qU.join(s,i);try{return GU.accessSync(o,GU.constants.R_OK),o}catch{continue}}return process.emitWarning(`${i} not found in any of the include paths ${e}`),t(r,i)}}function sre(n,e){return m(this,null,function*(){let t=new ml.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));HU(t,e.includeDirs)}let r=yield t.load(n,e);return r.resolveAll(),r})}no.loadProtosWithOptions=sre;function ore(n,e){let t=new ml.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");HU(t,e.includeDirs)}let r=t.loadSync(n,e);return r.resolveAll(),r}no.loadProtosWithOptionsSync=ore;function are(){let n=OU(),e=jQ(),t=PU(),r=VU();ml.common("api",n.nested.google.nested.protobuf.nested),ml.common("descriptor",e.nested.google.nested.protobuf.nested),ml.common("source_context",t.nested.google.nested.protobuf.nested),ml.common("type",r.nested.google.nested.protobuf.nested)}no.addCommonProtos=are});var zU=v((JU,$Q)=>{"use strict";var WU=function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(h,p,H){this.low=h|0,this.high=p|0,this.unsigned=!!H}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function r(h){return(h&&h.__isLong__)===!0}function i(h){var p=Math.clz32(h&-h);return h?31-p:p}t.isLong=r;var s={},o={};function a(h,p){var H,Se,je;return p?(h>>>=0,(je=0<=h&&h<256)&&(Se=o[h],Se)?Se:(H=l(h,0,!0),je&&(o[h]=H),H)):(h|=0,(je=-128<=h&&h<128)&&(Se=s[h],Se)?Se:(H=l(h,h<0?-1:0,!1),je&&(s[h]=H),H))}t.fromInt=a;function c(h,p){if(isNaN(h))return p?k:M;if(p){if(h<0)return k;if(h>=I)return y}else{if(h<=-S)return w;if(h+1>=S)return E}return h<0?c(-h,p).neg():l(h%C|0,h/C|0,p)}t.fromNumber=c;function l(h,p,H){return new t(h,p,H)}t.fromBits=l;var u=Math.pow;function A(h,p,H){if(h.length===0)throw Error("empty string");if(typeof p=="number"?(H=p,p=!1):p=!!p,h==="NaN"||h==="Infinity"||h==="+Infinity"||h==="-Infinity")return p?k:M;if(H=H||10,H<2||36<H)throw RangeError("radix");var Se;if((Se=h.indexOf("-"))>0)throw Error("interior hyphen");if(Se===0)return A(h.substring(1),p,H).neg();for(var je=c(u(H,8)),Pe=M,gt=0;gt<h.length;gt+=8){var Ge=Math.min(8,h.length-gt),on=parseInt(h.substring(gt,gt+Ge),H);if(Ge<8){var yt=c(u(H,Ge));Pe=Pe.mul(yt).add(c(on))}else Pe=Pe.mul(je),Pe=Pe.add(c(on))}return Pe.unsigned=p,Pe}t.fromString=A;function d(h,p){return typeof h=="number"?c(h,p):typeof h=="string"?A(h,p):l(h.low,h.high,typeof p=="boolean"?p:h.unsigned)}t.fromValue=d;var f=65536,Q=1<<24,C=f*f,I=C*C,S=I/2,b=a(Q),M=a(0);t.ZERO=M;var k=a(0,!0);t.UZERO=k;var O=a(1);t.ONE=O;var q=a(1,!0);t.UONE=q;var B=a(-1);t.NEG_ONE=B;var E=l(-1,2147483647,!1);t.MAX_VALUE=E;var y=l(-1,-1,!0);t.MAX_UNSIGNED_VALUE=y;var w=l(0,-2147483648,!1);t.MIN_VALUE=w;var g=t.prototype;g.toInt=function(){return this.unsigned?this.low>>>0:this.low},g.toNumber=function(){return this.unsigned?(this.high>>>0)*C+(this.low>>>0):this.high*C+(this.low>>>0)},g.toString=function(p){if(p=p||10,p<2||36<p)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(w)){var H=c(p),Se=this.div(H),je=Se.mul(H).sub(this);return Se.toString(p)+je.toInt().toString(p)}else return"-"+this.neg().toString(p);for(var Pe=c(u(p,6),this.unsigned),gt=this,Ge="";;){var on=gt.div(Pe),yt=gt.sub(on.mul(Pe)).toInt()>>>0,st=yt.toString(p);if(gt=on,gt.isZero())return st+Ge;for(;st.length<6;)st="0"+st;Ge=""+st+Ge}},g.getHighBits=function(){return this.high},g.getHighBitsUnsigned=function(){return this.high>>>0},g.getLowBits=function(){return this.low},g.getLowBitsUnsigned=function(){return this.low>>>0},g.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var p=this.high!=0?this.high:this.low,H=31;H>0&&!(p&1<<H);H--);return this.high!=0?H+33:H+1},g.isZero=function(){return this.high===0&&this.low===0},g.eqz=g.isZero,g.isNegative=function(){return!this.unsigned&&this.high<0},g.isPositive=function(){return this.unsigned||this.high>=0},g.isOdd=function(){return(this.low&1)===1},g.isEven=function(){return(this.low&1)===0},g.equals=function(p){return r(p)||(p=d(p)),this.unsigned!==p.unsigned&&this.high>>>31===1&&p.high>>>31===1?!1:this.high===p.high&&this.low===p.low},g.eq=g.equals,g.notEquals=function(p){return!this.eq(p)},g.neq=g.notEquals,g.ne=g.notEquals,g.lessThan=function(p){return this.comp(p)<0},g.lt=g.lessThan,g.lessThanOrEqual=function(p){return this.comp(p)<=0},g.lte=g.lessThanOrEqual,g.le=g.lessThanOrEqual,g.greaterThan=function(p){return this.comp(p)>0},g.gt=g.greaterThan,g.greaterThanOrEqual=function(p){return this.comp(p)>=0},g.gte=g.greaterThanOrEqual,g.ge=g.greaterThanOrEqual,g.compare=function(p){if(r(p)||(p=d(p)),this.eq(p))return 0;var H=this.isNegative(),Se=p.isNegative();return H&&!Se?-1:!H&&Se?1:this.unsigned?p.high>>>0>this.high>>>0||p.high===this.high&&p.low>>>0>this.low>>>0?-1:1:this.sub(p).isNegative()?-1:1},g.comp=g.compare,g.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(O)},g.neg=g.negate,g.add=function(p){r(p)||(p=d(p));var H=this.high>>>16,Se=this.high&65535,je=this.low>>>16,Pe=this.low&65535,gt=p.high>>>16,Ge=p.high&65535,on=p.low>>>16,yt=p.low&65535,st=0,qt=0,Bt=0,an=0;return an+=Pe+yt,Bt+=an>>>16,an&=65535,Bt+=je+on,qt+=Bt>>>16,Bt&=65535,qt+=Se+Ge,st+=qt>>>16,qt&=65535,st+=H+gt,st&=65535,l(Bt<<16|an,st<<16|qt,this.unsigned)},g.subtract=function(p){return r(p)||(p=d(p)),this.add(p.neg())},g.sub=g.subtract,g.multiply=function(p){if(this.isZero())return this;if(r(p)||(p=d(p)),e){var H=e.mul(this.low,this.high,p.low,p.high);return l(H,e.get_high(),this.unsigned)}if(p.isZero())return this.unsigned?k:M;if(this.eq(w))return p.isOdd()?w:M;if(p.eq(w))return this.isOdd()?w:M;if(this.isNegative())return p.isNegative()?this.neg().mul(p.neg()):this.neg().mul(p).neg();if(p.isNegative())return this.mul(p.neg()).neg();if(this.lt(b)&&p.lt(b))return c(this.toNumber()*p.toNumber(),this.unsigned);var Se=this.high>>>16,je=this.high&65535,Pe=this.low>>>16,gt=this.low&65535,Ge=p.high>>>16,on=p.high&65535,yt=p.low>>>16,st=p.low&65535,qt=0,Bt=0,an=0,Na=0;return Na+=gt*st,an+=Na>>>16,Na&=65535,an+=Pe*st,Bt+=an>>>16,an&=65535,an+=gt*yt,Bt+=an>>>16,an&=65535,Bt+=je*st,qt+=Bt>>>16,Bt&=65535,Bt+=Pe*yt,qt+=Bt>>>16,Bt&=65535,Bt+=gt*on,qt+=Bt>>>16,Bt&=65535,qt+=Se*st+je*yt+Pe*on+gt*Ge,qt&=65535,l(an<<16|Na,qt<<16|Bt,this.unsigned)},g.mul=g.multiply,g.divide=function(p){if(r(p)||(p=d(p)),p.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&p.low===-1&&p.high===-1)return this;var H=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,p.low,p.high);return l(H,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?k:M;var Se,je,Pe;if(this.unsigned){if(p.unsigned||(p=p.toUnsigned()),p.gt(this))return k;if(p.gt(this.shru(1)))return q;Pe=k}else{if(this.eq(w)){if(p.eq(O)||p.eq(B))return w;if(p.eq(w))return O;var gt=this.shr(1);return Se=gt.div(p).shl(1),Se.eq(M)?p.isNegative()?O:B:(je=this.sub(p.mul(Se)),Pe=Se.add(je.div(p)),Pe)}else if(p.eq(w))return this.unsigned?k:M;if(this.isNegative())return p.isNegative()?this.neg().div(p.neg()):this.neg().div(p).neg();if(p.isNegative())return this.div(p.neg()).neg();Pe=M}for(je=this;je.gte(p);){Se=Math.max(1,Math.floor(je.toNumber()/p.toNumber()));for(var Ge=Math.ceil(Math.log(Se)/Math.LN2),on=Ge<=48?1:u(2,Ge-48),yt=c(Se),st=yt.mul(p);st.isNegative()||st.gt(je);)Se-=on,yt=c(Se,this.unsigned),st=yt.mul(p);yt.isZero()&&(yt=O),Pe=Pe.add(yt),je=je.sub(st)}return Pe},g.div=g.divide,g.modulo=function(p){if(r(p)||(p=d(p)),e){var H=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,p.low,p.high);return l(H,e.get_high(),this.unsigned)}return this.sub(this.div(p).mul(p))},g.mod=g.modulo,g.rem=g.modulo,g.not=function(){return l(~this.low,~this.high,this.unsigned)},g.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},g.clz=g.countLeadingZeros,g.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},g.ctz=g.countTrailingZeros,g.and=function(p){return r(p)||(p=d(p)),l(this.low&p.low,this.high&p.high,this.unsigned)},g.or=function(p){return r(p)||(p=d(p)),l(this.low|p.low,this.high|p.high,this.unsigned)},g.xor=function(p){return r(p)||(p=d(p)),l(this.low^p.low,this.high^p.high,this.unsigned)},g.shiftLeft=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?l(this.low<<p,this.high<<p|this.low>>>32-p,this.unsigned):l(0,this.low<<p-32,this.unsigned)},g.shl=g.shiftLeft,g.shiftRight=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?l(this.low>>>p|this.high<<32-p,this.high>>p,this.unsigned):l(this.high>>p-32,this.high>=0?0:-1,this.unsigned)},g.shr=g.shiftRight,g.shiftRightUnsigned=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?l(this.low>>>p|this.high<<32-p,this.high>>>p,this.unsigned):p===32?l(this.high,0,this.unsigned):l(this.high>>>p-32,0,this.unsigned)},g.shru=g.shiftRightUnsigned,g.shr_u=g.shiftRightUnsigned,g.rotateLeft=function(p){var H;return r(p)&&(p=p.toInt()),(p&=63)===0?this:p===32?l(this.high,this.low,this.unsigned):p<32?(H=32-p,l(this.low<<p|this.high>>>H,this.high<<p|this.low>>>H,this.unsigned)):(p-=32,H=32-p,l(this.high<<p|this.low>>>H,this.low<<p|this.high>>>H,this.unsigned))},g.rotl=g.rotateLeft,g.rotateRight=function(p){var H;return r(p)&&(p=p.toInt()),(p&=63)===0?this:p===32?l(this.high,this.low,this.unsigned):p<32?(H=32-p,l(this.high<<H|this.low>>>p,this.low<<H|this.high>>>p,this.unsigned)):(p-=32,H=32-p,l(this.low<<H|this.high>>>p,this.high<<H|this.low>>>p,this.unsigned))},g.rotr=g.rotateRight,g.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},g.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},g.toBytes=function(p){return p?this.toBytesLE():this.toBytesBE()},g.toBytesLE=function(){var p=this.high,H=this.low;return[H&255,H>>>8&255,H>>>16&255,H>>>24,p&255,p>>>8&255,p>>>16&255,p>>>24]},g.toBytesBE=function(){var p=this.high,H=this.low;return[p>>>24,p>>>16&255,p>>>8&255,p&255,H>>>24,H>>>16&255,H>>>8&255,H&255]},t.fromBytes=function(p,H,Se){return Se?t.fromBytesLE(p,H):t.fromBytesBE(p,H)},t.fromBytesLE=function(p,H){return new t(p[0]|p[1]<<8|p[2]<<16|p[3]<<24,p[4]|p[5]<<8|p[6]<<16|p[7]<<24,H)},t.fromBytesBE=function(p,H){return new t(p[4]<<24|p[5]<<16|p[6]<<8|p[7],p[0]<<24|p[1]<<16|p[2]<<8|p[3],H)};var T=t;return n.default=T,"default"in n?n.default:n}({});typeof define=="function"&&define.amd?define([],function(){return WU}):typeof $Q=="object"&&typeof JU=="object"&&($Q.exports=WU)});var tw=v(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.loadFileDescriptorSetFromObject=Ft.loadFileDescriptorSetFromBuffer=Ft.fromJSON=Ft.loadSync=Ft.load=Ft.IdempotencyLevel=Ft.isAnyExtension=Ft.Long=void 0;var cre=Fx(),Ii=pp(),XQ=UU(),ew=YU(),lre=zU();Ft.Long=lre;function ure(n){return"@type"in n&&typeof n["@type"]=="string"}Ft.isAnyExtension=ure;var $U;(function(n){n.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",n.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",n.IDEMPOTENT="IDEMPOTENT"})($U=Ft.IdempotencyLevel||(Ft.IdempotencyLevel={}));var ZU={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function Are(n,e){return n===""?e:n+"."+e}function dre(n){return n instanceof Ii.Service||n instanceof Ii.Type||n instanceof Ii.Enum}function hre(n){return n instanceof Ii.Namespace||n instanceof Ii.Root}function XU(n,e){let t=Are(e,n.name);return dre(n)?[[t,n]]:hre(n)&&typeof n.nested<"u"?Object.keys(n.nested).map(r=>XU(n.nested[r],t)).reduce((r,i)=>r.concat(i),[]):[]}function jU(n,e){return function(r){return n.toObject(n.decode(r),e)}}function KU(n){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${n.name} structure, got array instead`);let r=n.fromObject(t);return n.encode(r).finish()}}function fre(n){return(n||[]).reduce((e,t)=>{for(let[r,i]of Object.entries(t))switch(r){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[r]=i}return e},{deprecated:!1,idempotency_level:$U.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function gre(n,e,t,r){let i=n.resolvedRequestType,s=n.resolvedResponseType;return{path:"/"+e+"/"+n.name,requestStream:!!n.requestStream,responseStream:!!n.responseStream,requestSerialize:KU(i),requestDeserialize:jU(i,t),responseSerialize:KU(s),responseDeserialize:jU(s,t),originalName:cre(n.name),requestType:ZQ(i,r),responseType:ZQ(s,r),options:fre(n.parsedOptions)}}function pre(n,e,t,r){let i={};for(let s of n.methodsArray)i[s.name]=gre(s,e,t,r);return i}function ZQ(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:t.$type.toObject(t,ZU),fileDescriptorProtos:e}}function mre(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:t.$type.toObject(t,ZU),fileDescriptorProtos:e}}function Ere(n,e,t,r){if(n instanceof Ii.Service)return pre(n,e,t,r);if(n instanceof Ii.Type)return ZQ(n,r);if(n instanceof Ii.Enum)return mre(n,r);throw new Error("Type mismatch in reflection object handling")}function Cp(n,e){let t={};n.resolveAll();let i=n.toDescriptor("proto3").file.map(s=>Buffer.from(XQ.FileDescriptorProto.encode(s).finish()));for(let[s,o]of XU(n,""))t[s]=Ere(o,s,e,i);return t}function eO(n,e){e=e||{};let t=Ii.Root.fromDescriptor(n);return t.resolveAll(),Cp(t,e)}function Cre(n,e){return(0,ew.loadProtosWithOptions)(n,e).then(t=>Cp(t,e))}Ft.load=Cre;function Ire(n,e){let t=(0,ew.loadProtosWithOptionsSync)(n,e);return Cp(t,e)}Ft.loadSync=Ire;function yre(n,e){e=e||{};let t=Ii.Root.fromJSON(n);return t.resolveAll(),Cp(t,e)}Ft.fromJSON=yre;function Bre(n,e){let t=XQ.FileDescriptorSet.decode(n);return eO(t,e)}Ft.loadFileDescriptorSetFromBuffer=Bre;function Qre(n,e){let t=XQ.FileDescriptorSet.fromObject(n);return eO(t,e)}Ft.loadFileDescriptorSetFromObject=Qre;(0,ew.addCommonProtos)()});var da=v(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.setup=Xe.getChannelzServiceDefinition=Xe.getChannelzHandlers=Xe.unregisterChannelzRef=Xe.registerChannelzSocket=Xe.registerChannelzServer=Xe.registerChannelzSubchannel=Xe.registerChannelzChannel=Xe.ChannelzCallTracker=Xe.ChannelzChildrenTracker=Xe.ChannelzTrace=void 0;var tO=N("net"),WA=ar(),zA=_e(),wre=Ai(),vre=Pg(),Sre=Z0();function nw(n){return{channel_id:n.id,name:n.name}}function ow(n){return{subchannel_id:n.id,name:n.name}}function bre(n){return{server_id:n.id}}function yp(n){return{socket_id:n.id,name:n.name}}var nO=32,rw=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let i=new Date;this.events.push({description:t,severity:e,timestamp:i,childChannel:r?.kind==="channel"?r:void 0,childSubchannel:r?.kind==="subchannel"?r:void 0}),this.events.length>=nO*2&&(this.events=this.events.slice(nO)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:es(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:es(e.timestamp),channel_ref:e.childChannel?nw(e.childChannel):null,subchannel_ref:e.childSubchannel?ow(e.childSubchannel):null}))}}};Xe.ChannelzTrace=rw;var iw=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,i;switch(e.kind){case"channel":{let s=(t=this.channelChildren.get(e.id))!==null&&t!==void 0?t:{ref:e,count:0};s.count+=1,this.channelChildren.set(e.id,s);break}case"subchannel":{let s=(r=this.subchannelChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};s.count+=1,this.subchannelChildren.set(e.id,s);break}case"socket":{let s=(i=this.socketChildren.get(e.id))!==null&&i!==void 0?i:{ref:e,count:0};s.count+=1,this.socketChildren.set(e.id,s);break}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t));break}}}getChildLists(){let e=[];for(let{ref:i}of this.channelChildren.values())e.push(i);let t=[];for(let{ref:i}of this.subchannelChildren.values())t.push(i);let r=[];for(let{ref:i}of this.socketChildren.values())r.push(i);return{channels:e,subchannels:t,sockets:r}}};Xe.ChannelzChildrenTracker=iw;var sw=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};Xe.ChannelzCallTracker=sw;var Dre=1;function Bp(){return Dre++}var JA=[],aw=[],ro=[],cw=[];function Tre(n,e,t){let r=Bp(),i={id:r,name:n,kind:"channel"};return t&&(JA[r]={ref:i,getInfo:e}),i}Xe.registerChannelzChannel=Tre;function Rre(n,e,t){let r=Bp(),i={id:r,name:n,kind:"subchannel"};return t&&(aw[r]={ref:i,getInfo:e}),i}Xe.registerChannelzSubchannel=Rre;function kre(n,e){let t=Bp(),r={id:t,kind:"server"};return e&&(ro[t]={ref:r,getInfo:n}),r}Xe.registerChannelzServer=kre;function Nre(n,e,t){let r=Bp(),i={id:r,name:n,kind:"socket"};return t&&(cw[r]={ref:i,getInfo:e}),i}Xe.registerChannelzSocket=Nre;function _re(n){switch(n.kind){case"channel":delete JA[n.id];return;case"subchannel":delete aw[n.id];return;case"server":delete ro[n.id];return;case"socket":delete cw[n.id];return}}Xe.unregisterChannelzRef=_re;function Mre(n){let e=Number.parseInt(n,16);return[e/256|0,e%256]}function rO(n){if(n==="")return[];let e=n.split(":").map(r=>Mre(r));return[].concat(...e)}function Fre(n){if((0,tO.isIPv4)(n))return Buffer.from(Uint8Array.from(n.split(".").map(e=>Number.parseInt(e))));if((0,tO.isIPv6)(n)){let e,t,r=n.indexOf("::");r===-1?(e=n,t=""):(e=n.substring(0,r),t=n.substring(r+2));let i=Buffer.from(rO(e)),s=Buffer.from(rO(t)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}else return null}function sO(n){switch(n){case WA.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case WA.ConnectivityState.IDLE:return{state:"IDLE"};case WA.ConnectivityState.READY:return{state:"READY"};case WA.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case WA.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function es(n){if(!n)return null;let e=n.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function oO(n){let e=n.getInfo();return{ref:nw(n.ref),data:{target:e.target,state:sO(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:es(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:e.children.channels.map(t=>nw(t)),subchannel_ref:e.children.subchannels.map(t=>ow(t))}}function Lre(n,e){let t=Number.parseInt(n.request.channel_id),r=JA[t];if(r===void 0){e({code:zA.Status.NOT_FOUND,details:"No channel data found for id "+t});return}e(null,{channel:oO(r)})}function xre(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_channel_id);for(;i<JA.length;i++){let s=JA[i];if(s!==void 0&&(r.push(oO(s)),r.length>=t))break}e(null,{channel:r,end:i>=ro.length})}function aO(n){let e=n.getInfo();return{ref:bre(n.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:es(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:e.listenerChildren.sockets.map(t=>yp(t))}}function Ure(n,e){let t=Number.parseInt(n.request.server_id),r=ro[t];if(r===void 0){e({code:zA.Status.NOT_FOUND,details:"No server data found for id "+t});return}e(null,{server:aO(r)})}function Ore(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_server_id);for(;i<ro.length;i++){let s=ro[i];if(s!==void 0&&(r.push(aO(s)),r.length>=t))break}e(null,{server:r,end:i>=ro.length})}function Pre(n,e){let t=Number.parseInt(n.request.subchannel_id),r=aw[t];if(r===void 0){e({code:zA.Status.NOT_FOUND,details:"No subchannel data found for id "+t});return}let i=r.getInfo(),s={ref:ow(r.ref),data:{target:i.target,state:sO(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:es(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(o=>yp(o))};e(null,{subchannel:s})}function iO(n){var e;return(0,wre.isTcpSubchannelAddress)(n)?{address:"tcpip_address",tcpip_address:{ip_address:(e=Fre(n.host))!==null&&e!==void 0?e:void 0,port:n.port}}:{address:"uds_address",uds_address:{filename:n.path}}}function Vre(n,e){var t,r,i,s,o;let a=Number.parseInt(n.request.socket_id),c=cw[a];if(c===void 0){e({code:zA.Status.NOT_FOUND,details:"No socket data found for id "+a});return}let l=c.getInfo(),u=l.security?{model:"tls",tls:{cipher_suite:l.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(t=l.security.cipherSuiteStandardName)!==null&&t!==void 0?t:void 0,other_name:(r=l.security.cipherSuiteOtherName)!==null&&r!==void 0?r:void 0,local_certificate:(i=l.security.localCertificate)!==null&&i!==void 0?i:void 0,remote_certificate:(s=l.security.remoteCertificate)!==null&&s!==void 0?s:void 0}}:null,A={ref:yp(c.ref),local:l.localAddress?iO(l.localAddress):null,remote:l.remoteAddress?iO(l.remoteAddress):null,remote_name:(o=l.remoteName)!==null&&o!==void 0?o:void 0,security:u,data:{keep_alives_sent:l.keepAlivesSent,streams_started:l.streamsStarted,streams_succeeded:l.streamsSucceeded,streams_failed:l.streamsFailed,last_local_stream_created_timestamp:es(l.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:es(l.lastRemoteStreamCreatedTimestamp),messages_received:l.messagesReceived,messages_sent:l.messagesSent,last_message_received_timestamp:es(l.lastMessageReceivedTimestamp),last_message_sent_timestamp:es(l.lastMessageSentTimestamp),local_flow_control_window:l.localFlowControlWindow?{value:l.localFlowControlWindow}:null,remote_flow_control_window:l.remoteFlowControlWindow?{value:l.remoteFlowControlWindow}:null}};e(null,{socket:A})}function Gre(n,e){let t=Number.parseInt(n.request.server_id),r=ro[t];if(r===void 0){e({code:zA.Status.NOT_FOUND,details:"No server data found for id "+t});return}let i=Number.parseInt(n.request.start_socket_id),s=Number.parseInt(n.request.max_results),a=r.getInfo().sessionChildren.sockets.sort((u,A)=>u.id-A.id),c=[],l=0;for(;l<a.length&&!(a[l].id>=i&&(c.push(yp(a[l])),c.length>=s));l++);e(null,{socket_ref:c,end:l>=a.length})}function cO(){return{GetChannel:Lre,GetTopChannels:xre,GetServer:Ure,GetServers:Ore,GetSubchannel:Pre,GetSocket:Vre,GetServerSockets:Gre}}Xe.getChannelzHandlers=cO;var Ip=null;function lO(){if(Ip)return Ip;let n=tw().loadSync,e=n("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return Ip=(0,Sre.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,Ip}Xe.getChannelzServiceDefinition=lO;function qre(){(0,vre.registerAdminService)(lO,cO)}Xe.setup=qre});var uO=v(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.Subchannel=void 0;var He=ar(),Hre=bA(),lw=dt(),Qp=_e(),Yre=qn(),Wre=Ai(),El=da(),Jre="subchannel",zre=~(1<<31),uw=class{constructor(e,t,r,i,s){var o;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=i,this.connector=s,this.connectivityState=He.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new El.ChannelzCallTracker,this.childrenTracker=new El.ChannelzChildrenTracker,this.streamTracker=new El.ChannelzCallTracker;let a={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Hre.BackoffTimeout(()=>{this.handleBackoffTimer()},a),this.backoffTimeout.unref(),this.subchannelAddressString=(0,Wre.subchannelAddressToString)(t),this.keepaliveTime=(o=r["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new El.ChannelzTrace,this.channelzRef=(0,El.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){lw.trace(Qp.LogVerbosity.DEBUG,Jre,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){lw.trace(Qp.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([He.ConnectivityState.TRANSIENT_FAILURE],He.ConnectivityState.CONNECTING):this.transitionToState([He.ConnectivityState.TRANSIENT_FAILURE],He.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,zre);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(t=>{this.transitionToState([He.ConnectivityState.CONNECTING],He.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(r=>{this.transitionToState([He.ConnectivityState.READY],He.ConnectivityState.IDLE),r&&this.keepaliveTime>0&&(this.keepaliveTime*=2,lw.log(Qp.LogVerbosity.ERROR,`Connection to ${(0,Yre.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([He.ConnectivityState.CONNECTING],He.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(e,t,r){var i,s;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(He.ConnectivityState[this.connectivityState]+" -> "+He.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+He.ConnectivityState[t]);let o=this.connectivityState;switch(this.connectivityState=t,t){case He.ConnectivityState.READY:this.stopBackoff();break;case He.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case He.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(i=this.transport)===null||i===void 0||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case He.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let a of this.stateListeners)a(this,o,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,El.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([He.ConnectivityState.CONNECTING,He.ConnectivityState.READY],He.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,t,r,i){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let s;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),s={onCallEnd:o=>{o.code===Qp.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):s={},this.transport.createCall(e,t,r,i,s)}startConnecting(){process.nextTick(()=>{this.transitionToState([He.ConnectivityState.IDLE],He.ConnectivityState.CONNECTING)||this.connectivityState===He.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([He.ConnectivityState.TRANSIENT_FAILURE],He.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};wp.Subchannel=uw});var fw=v(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.setup=oo.DEFAULT_PORT=void 0;var AO=li(),hO=N("dns"),fO=N("util"),jre=v0(),Aw=_e(),dw=Dn(),Kre=dt(),$re=_e(),io=qn(),dO=N("net"),Zre=bA(),Xre="dns_resolver";function so(n){Kre.trace($re.LogVerbosity.DEBUG,Xre,n)}oo.DEFAULT_PORT=443;var eie=3e4,tie=fO.promisify(hO.resolveTxt),nie=fO.promisify(hO.lookup);function rie(...n){let e=[];for(let t=0;t<Math.max.apply(null,n.map(r=>r.length));t++)for(let r of n)t<r.length&&e.push(r[t]);return e}var hw=class{constructor(e,t,r){var i,s,o;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,so("Resolver constructed for target "+(0,io.uriToString)(e));let a=(0,io.splitHostPort)(e.path);a===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,dO.isIPv4)(a.host)||(0,dO.isIPv6)(a.host)?(this.ipResult=[{host:a.host,port:(i=a.port)!==null&&i!==void 0?i:oo.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=a.host,this.port=(s=a.port)!==null&&s!==void 0?s:oo.DEFAULT_PORT),this.percentage=Math.random()*100,r["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:Aw.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,io.uriToString)(this.target)}`,metadata:new dw.Metadata};let c={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new Zre.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=r["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:eie,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(so("Returning IP address for target "+(0,io.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)so("Failed to parse DNS address "+(0,io.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:Aw.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,io.uriToString)(this.target)}`,metadata:new dw.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;so("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=nie(e,{all:!0}),this.pendingLookupPromise.then(t=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let r=t.filter(o=>o.family===4),i=t.filter(o=>o.family===6);this.latestLookupResult=rie(i,r).map(o=>({host:o.address,port:+this.port}));let s="["+this.latestLookupResult.map(o=>o.host+":"+o.port).join(",")+"]";if(so("Resolved addresses for target "+(0,io.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{this.pendingLookupPromise!==null&&(so("Resolution error for target "+(0,io.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=tie(e),this.pendingTxtPromise.then(t=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,jre.extractAndSelectServiceConfig)(t,this.percentage)}catch(r){this.latestServiceConfigError={code:Aw.Status.UNAVAILABLE,details:`Parsing service config failed with error ${r.message}`,metadata:new dw.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)===null||t===void 0?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?so('resolution update delayed by "min time between resolutions" rate limit'):so("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function iie(){(0,AO.registerResolver)("dns",hw),(0,AO.registerDefaultScheme)("dns")}oo.setup=iie});var gw=v(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.getProxiedConnection=yl.mapProxyName=void 0;var jA=dt(),Cl=_e(),sie=li(),oie=N("http"),aie=N("tls"),cie=dt(),gO=Ai(),Il=qn(),lie=N("url"),uie=fw(),Aie="proxy";function ao(n){cie.trace(Cl.LogVerbosity.DEBUG,Aie,n)}function die(){let n="",e="";if(process.env.grpc_proxy)e="grpc_proxy",n=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",n=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",n=process.env.http_proxy;else return{};let t;try{t=new lie.URL(n)}catch{return(0,jA.log)(Cl.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(t.protocol!=="http:")return(0,jA.log)(Cl.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let r=null;t.username&&(t.password?((0,jA.log)(Cl.LogVerbosity.INFO,"userinfo found in proxy URI"),r=`${t.username}:${t.password}`):r=t.username);let i=t.hostname,s=t.port;s===""&&(s="80");let o={address:`${i}:${s}`};return r&&(o.creds=r),ao("Proxy server "+o.address+" set by environment variable "+e),o}function hie(){let n=process.env.no_grpc_proxy,e="no_grpc_proxy";return n||(n=process.env.no_proxy,e="no_proxy"),n?(ao("No proxy server list set by environment variable "+e),n.split(",")):[]}function fie(n,e){var t;let r={target:n,extraOptions:{}};if(((t=e["grpc.enable_http_proxy"])!==null&&t!==void 0?t:1)===0||n.scheme==="unix")return r;let i=die();if(!i.address)return r;let s=(0,Il.splitHostPort)(n.path);if(!s)return r;let o=s.host;for(let c of hie())if(c===o)return ao("Not using proxy for target in no_proxy list: "+(0,Il.uriToString)(n)),r;let a={"grpc.http_connect_target":(0,Il.uriToString)(n)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}yl.mapProxyName=fie;function gie(n,e,t){var r;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let i=e["grpc.http_connect_target"],s=(0,Il.parseUri)(i);if(s===null)return Promise.resolve({});let o=(0,Il.splitHostPort)(s.path);if(o===null)return Promise.resolve({});let a=`${o.host}:${(r=o.port)!==null&&r!==void 0?r:uie.DEFAULT_PORT}`,c={method:"CONNECT",path:a},l={Host:a};(0,gO.isTcpSubchannelAddress)(n)?(c.host=n.host,c.port=n.port):c.socketPath=n.path,"grpc.http_connect_creds"in e&&(l["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),c.headers=l;let u=(0,gO.subchannelAddressToString)(n);return ao("Using proxy "+u+" to connect to "+c.path),new Promise((A,d)=>{let f=oie.request(c);f.once("connect",(Q,C,I)=>{var S;if(f.removeAllListeners(),C.removeAllListeners(),Q.statusCode===200)if(ao("Successfully connected to "+c.path+" through proxy "+u),"secureContext"in t){let b=(0,sie.getDefaultAuthority)(s),M=(0,Il.splitHostPort)(b),k=(S=M?.host)!==null&&S!==void 0?S:b,O=aie.connect(Object.assign({host:k,servername:k,socket:C},t),()=>{ao("Successfully established a TLS connection to "+c.path+" through proxy "+u),A({socket:O,realTarget:s})});O.on("error",q=>{ao("Failed to establish a TLS connection to "+c.path+" through proxy "+u+" with error "+q.message),d()})}else ao("Successfully established a plaintext connection to "+c.path+" through proxy "+u),A({socket:C,realTarget:s});else(0,jA.log)(Cl.LogVerbosity.ERROR,"Failed to connect to "+c.path+" through proxy "+u+" with status "+Q.statusCode),d()}),f.once("error",Q=>{f.removeAllListeners(),(0,jA.log)(Cl.LogVerbosity.ERROR,"Failed to connect to proxy "+u+" with error "+Q.message),d()}),f.end()})}yl.getProxiedConnection=gie});var mw=v(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.StreamDecoder=void 0;var ts=function(n){return n[n.NO_DATA=0]="NO_DATA",n[n.READING_SIZE=1]="READING_SIZE",n[n.READING_MESSAGE=2]="READING_MESSAGE",n}(ts||{}),pw=class{constructor(e){this.maxReadMessageLength=e,this.readState=ts.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t=0,r,i=[];for(;t<e.length;)switch(this.readState){case ts.NO_DATA:this.readCompressFlag=e.slice(t,t+1),t+=1,this.readState=ts.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case ts.READING_SIZE:if(r=Math.min(e.length-t,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+r),this.readSizeRemaining-=r,t+=r,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=ts.READING_MESSAGE;else{let s=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=ts.NO_DATA,i.push(s)}}break;case ts.READING_MESSAGE:if(r=Math.min(e.length-t,this.readMessageRemaining),this.readPartialMessage.push(e.slice(t,t+r)),this.readMessageRemaining-=r,t+=r,this.readMessageRemaining===0){let s=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(s,this.readMessageSize+5);this.readState=ts.NO_DATA,i.push(o)}break;default:throw new Error("Unexpected read state")}return i}};vp.StreamDecoder=pw});var pO=v(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.Http2SubchannelCall=void 0;var ns=N("http2"),pie=N("os"),Ue=_e(),co=Dn(),mie=mw(),Eie=dt(),Cie=_e(),Iie="subchannel_call";function yie(n){for(let[e,t]of Object.entries(pie.constants.errno))if(t===n)return e;return"Unknown system error "+n}var Ew=class{constructor(e,t,r,i,s){var o;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=s,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=Ue.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;let a=(o=i.getOptions()["grpc.max_receive_message_length"])!==null&&o!==void 0?o:Ue.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new mie.StreamDecoder(a),e.on("response",(c,l)=>{let u="";for(let A of Object.keys(c))u+="		"+A+": "+c[A]+`
`;switch(this.trace(`Received server headers:
`+u),c[":status"]){case 400:this.mappedStatusCode=Ue.Status.INTERNAL;break;case 401:this.mappedStatusCode=Ue.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=Ue.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=Ue.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=Ue.Status.UNAVAILABLE;break;default:this.mappedStatusCode=Ue.Status.UNKNOWN}if(l&ns.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(c);else{let A;try{A=co.Metadata.fromHttp2Headers(c)}catch(d){this.endCall({code:Ue.Status.UNKNOWN,details:d.message,metadata:new co.Metadata});return}this.listener.onReceiveMetadata(A)}}),e.on("trailers",c=>{this.handleTrailers(c)}),e.on("data",c=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+c.length);let l;try{l=this.decoder.write(c)}catch(u){this.cancelWithStatus(Ue.Status.RESOURCE_EXHAUSTED,u.message);return}for(let u of l)this.trace("parsed message of length "+u.length),this.callEventTracker.addMessageReceived(),this.tryPush(u)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var c;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((c=this.finalStatus)===null||c===void 0?void 0:c.code)===Ue.Status.OK)return;let l,u="";switch(e.rstCode){case ns.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;l=Ue.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`;break;case ns.constants.NGHTTP2_REFUSED_STREAM:l=Ue.Status.UNAVAILABLE,u="Stream refused by server";break;case ns.constants.NGHTTP2_CANCEL:l=Ue.Status.CANCELLED,u="Call cancelled";break;case ns.constants.NGHTTP2_ENHANCE_YOUR_CALM:l=Ue.Status.RESOURCE_EXHAUSTED,u="Bandwidth exhausted or memory limit exceeded";break;case ns.constants.NGHTTP2_INADEQUATE_SECURITY:l=Ue.Status.PERMISSION_DENIED,u="Protocol not secure enough";break;case ns.constants.NGHTTP2_INTERNAL_ERROR:l=Ue.Status.INTERNAL,this.internalError===null?u=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(l=Ue.Status.UNAVAILABLE,u=this.internalError.message):u=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:l=Ue.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:l,details:u,metadata:new co.Metadata,rstCode:e.rstCode})})}),e.on("error",c=>{c.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+c.message+" code="+c.code+" errno="+yie(c.errno)+" syscall="+c.syscall),this.internalError=c),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:Ue.Status.UNAVAILABLE,details:"Connection dropped",metadata:new co.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){Eie.trace(Cie.LogVerbosity.DEBUG,Iie,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===Ue.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Ue.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.callEventTracker.onStreamEnd(!0);let t="";for(let c of Object.keys(e))t+="		"+c+": "+e[c]+`
`;this.trace(`Received server trailers:
`+t);let r;try{r=co.Metadata.fromHttp2Headers(e)}catch{r=new co.Metadata}let i=r.getMap(),s=this.mappedStatusCode;if(s===Ue.Status.UNKNOWN&&typeof i["grpc-status"]=="string"){let c=Number(i["grpc-status"]);c in Ue.Status&&(s=c,this.trace("received status code "+c+" from server")),r.remove("grpc-status")}let o="";if(typeof i["grpc-message"]=="string"){try{o=decodeURI(i["grpc-message"])}catch{o=i["grpc-message"]}r.remove("grpc-message"),this.trace('received status details string "'+o+'" from server')}let a={code:s,details:o,metadata:r};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===Ue.Status.OK?t=ns.constants.NGHTTP2_NO_ERROR:t=ns.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new co.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Ue.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=i=>{process.nextTick(()=>{var s;let o=Ue.Status.UNAVAILABLE;i?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=Ue.Status.INTERNAL),i&&this.cancelWithStatus(o,`Write error: ${i.message}`),(s=e.callback)===null||s===void 0||s.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(i){this.endCall({code:Ue.Status.UNAVAILABLE,details:`Write failed with error ${i.message}`,metadata:new co.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};Sp.Http2SubchannelCall=Ew});var Cw=v(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.getNextCallNumber=void 0;var Bie=0;function Qie(){return Bie++}bp.getNextCallNumber=Qie});var CO=v(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.Http2SubchannelConnector=void 0;var ww=N("http2"),mO=N("tls"),Iw=da(),KA=_e(),wie=gw(),Ql=dt(),EO=li(),Dp=Ai(),Bl=qn(),vie=N("net"),Sie=pO(),bie=Cw(),yw="transport",Die="transport_flowctrl",Tie=a0().version,{HTTP2_HEADER_AUTHORITY:Rie,HTTP2_HEADER_CONTENT_TYPE:kie,HTTP2_HEADER_METHOD:Nie,HTTP2_HEADER_PATH:_ie,HTTP2_HEADER_TE:Mie,HTTP2_HEADER_USER_AGENT:Fie}=ww.constants,Lie=2e4,xie=Buffer.from("too_many_pings","ascii"),Bw=class{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=Lie,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new Iw.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,Dp.subchannelAddressToString)(t),r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,Iw.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${Tie}`,r["grpc.secondary_user_agent"]].filter(s=>s).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=r["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(s,o,a)=>{let c=!1;s===ww.constants.NGHTTP2_ENHANCE_YOUR_CALM&&a&&a.equals(xie)&&(c=!0),this.trace("connection closed by GOAWAY with code "+s+" and data "+a?.toString()),this.reportDisconnectToOwner(c)}),e.once("error",s=>{this.trace("connection closed with error "+s.message)}),Ql.isTracerEnabled(yw)&&(e.on("remoteSettings",s=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))}),e.on("localSettings",s=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let i=this.session.socket,s=i.remoteAddress?(0,Dp.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,Dp.stringToSubchannelAddress)(i.localAddress,i.localPort):null,a;if(this.session.encrypted){let l=i,u=l.getCipher(),A=l.getCertificate(),d=l.getPeerCertificate();a={cipherSuiteStandardName:(e=u.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:u.standardName?null:u.name,localCertificate:A&&"raw"in A?A.raw:null,remoteCertificate:d&&"raw"in d?d.raw:null}}else a=null;return{remoteAddress:s,localAddress:o,security:a,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(r=this.session.state.remoteWindowSize)!==null&&r!==void 0?r:null}}trace(e){Ql.trace(KA.LogVerbosity.DEBUG,yw,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){Ql.trace(KA.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){Ql.trace(KA.LogVerbosity.DEBUG,Die,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){Ql.trace(KA.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(t=(e=this.keepaliveTimeoutId).unref)===null||t===void 0||t.call(e));try{this.session.ping((r,i,s)=>{r&&(this.keepaliveTrace("Ping failed with error "+r.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||t===void 0?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,i,s){let o=e.toHttp2Headers();o[Rie]=t,o[Fie]=this.userAgent,o[kie]="application/grpc",o[Nie]="POST",o[_ie]=r,o[Mie]="trailers";let a;try{a=this.session.request(o)}catch(u){throw this.handleDisconnect(),u}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let c,l;return this.channelzEnabled?(this.streamTracker.addCallStarted(),c={addMessageSent:()=>{var u;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(u=s.addMessageSent)===null||u===void 0||u.call(s)},addMessageReceived:()=>{var u;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(u=s.addMessageReceived)===null||u===void 0||u.call(s)},onCallEnd:u=>{var A;(A=s.onCallEnd)===null||A===void 0||A.call(s,u),this.removeActiveCall(l)},onStreamEnd:u=>{var A;u?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(A=s.onStreamEnd)===null||A===void 0||A.call(s,u)}}):c={addMessageSent:()=>{var u;(u=s.addMessageSent)===null||u===void 0||u.call(s)},addMessageReceived:()=>{var u;(u=s.addMessageReceived)===null||u===void 0||u.call(s)},onCallEnd:u=>{var A;(A=s.onCallEnd)===null||A===void 0||A.call(s,u),this.removeActiveCall(l)},onStreamEnd:u=>{var A;(A=s.onStreamEnd)===null||A===void 0||A.call(s,u)}},l=new Sie.Http2SubchannelCall(a,c,i,this,(0,bie.getNextCallNumber)()),this.addActiveCall(l),l}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,Iw.unregisterChannelzRef)(this.channelzRef)}},Qw=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){Ql.trace(KA.LogVerbosity.DEBUG,yw,(0,Bl.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,i){return this.isShutdown?Promise.reject():new Promise((s,o)=>{var a,c,l;let u;i.realTarget?(u=(0,Bl.uriToString)(i.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,Bl.uriToString)(i.realTarget))):(u=null,this.trace("creating HTTP/2 session to "+(0,Dp.subchannelAddressToString)(e)));let A=(0,EO.getDefaultAuthority)((a=i.realTarget)!==null&&a!==void 0?a:this.channelTarget),d=t._getConnectionOptions()||{};d.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?d.maxSessionMemory=r["grpc-node.max_session_memory"]:d.maxSessionMemory=Number.MAX_SAFE_INTEGER;let f="http://";if("secureContext"in d){if(f="https://",r["grpc.ssl_target_name_override"]){let I=r["grpc.ssl_target_name_override"];d.checkServerIdentity=(S,b)=>(0,mO.checkServerIdentity)(I,b),d.servername=I}else{let I=(l=(c=(0,Bl.splitHostPort)(A))===null||c===void 0?void 0:c.host)!==null&&l!==void 0?l:"localhost";d.servername=I}i.socket&&(d.createConnection=(I,S)=>i.socket)}else d.createConnection=(I,S)=>i.socket?i.socket:vie.connect(e);d=Object.assign(Object.assign(Object.assign({},d),e),{enableTrace:r["grpc-node.tls_enable_trace"]===1});let Q=ww.connect(f+A,d);this.session=Q;let C="Failed to connect";Q.unref(),Q.once("connect",()=>{Q.removeAllListeners(),s(new Bw(Q,e,r,u)),this.session=null}),Q.once("close",()=>{this.session=null,setImmediate(()=>{o(`${C} (${new Date().toISOString()})`)})}),Q.once("error",I=>{C=I.message,this.trace("connection failed with error "+C)})})}connect(e,t,r){var i,s;if(this.isShutdown)return Promise.reject();let o=t._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let a=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(c,l)=>(0,mO.checkServerIdentity)(a,l),o.servername=a}else if("grpc.http_connect_target"in r){let a=(0,EO.getDefaultAuthority)((i=(0,Bl.parseUri)(r["grpc.http_connect_target"]))!==null&&i!==void 0?i:{path:"localhost"}),c=(0,Bl.splitHostPort)(a);o.servername=(s=c?.host)!==null&&s!==void 0?s:a}r["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,wie.getProxiedConnection)(e,r,o).then(a=>this.createSession(e,t,r,a))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};Tp.Http2SubchannelConnector=Qw});var IO=v(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.getSubchannelPool=wl.SubchannelPool=void 0;var Uie=rx(),Oie=uO(),Pie=Ai(),Vie=qn(),Gie=CO(),qie=1e4,$A=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let i=this.pool[t].filter(s=>!s.subchannel.unrefIfOneRef());i.length>0&&(e=!1),this.pool[t]=i}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},qie),(t=(e=this.cleanupTimer).unref)===null||t===void 0||t.call(e))}getOrCreateSubchannel(e,t,r,i){this.ensureCleanupTask();let s=(0,Vie.uriToString)(e);if(s in this.pool){let a=this.pool[s];for(let c of a)if((0,Pie.subchannelAddressEqual)(t,c.subchannelAddress)&&(0,Uie.channelOptionsEqual)(r,c.channelArguments)&&i._equals(c.channelCredentials))return c.subchannel}let o=new Oie.Subchannel(e,t,r,i,new Gie.Http2SubchannelConnector(e));return s in this.pool||(this.pool[s]=[]),this.pool[s].push({subchannelAddress:t,channelArguments:r,channelCredentials:i,subchannel:o}),o.ref(),o}};wl.SubchannelPool=$A;var Hie=new $A;function Yie(n){return n?Hie:new $A}wl.getSubchannelPool=Yie});var Sw=v(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.FilterStackFactory=vl.FilterStack=void 0;var Rp=class{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMessage(t);return t}receiveMessage(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};vl.FilterStack=Rp;var vw=class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new Rp(this.factories.map(e=>e.createFilter()))}};vl.FilterStackFactory=vw});var bw=v(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.CompressionAlgorithms=void 0;var yO=function(n){return n[n.identity=0]="identity",n[n.deflate=1]="deflate",n[n.gzip=2]="gzip",n}(yO||(kp.CompressionAlgorithms=yO={}))});var Tw=v(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.BaseFilter=void 0;var Dw=class{sendMetadata(e){return m(this,null,function*(){return e})}receiveMetadata(e){return e}sendMessage(e){return m(this,null,function*(){return e})}receiveMessage(e){return m(this,null,function*(){return e})}receiveTrailers(e){return e}};Np.BaseFilter=Dw});var wO=v(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.CompressionFilterFactory=bl.CompressionFilter=void 0;var _p=N("zlib"),QO=bw(),Mp=_e(),Wie=Tw(),Jie=dt(),zie=n=>typeof n=="number"&&typeof QO.CompressionAlgorithms[n]=="string",Sl=class{writeMessage(e,t){return m(this,null,function*(){let r=e;t&&(r=yield this.compressMessage(r));let i=Buffer.allocUnsafe(r.length+5);return i.writeUInt8(t?1:0,0),i.writeUInt32BE(r.length,1),r.copy(i,5),i})}readMessage(e){return m(this,null,function*(){let t=e.readUInt8(0)===1,r=e.slice(5);return t&&(r=yield this.decompressMessage(r)),r})}},ha=class extends Sl{compressMessage(e){return m(this,null,function*(){return e})}writeMessage(e,t){return m(this,null,function*(){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r})}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},Rw=class extends Sl{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{_p.deflate(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],o=_p.createInflate();o.on("data",a=>{s.push(a),i+=a.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:Mp.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(s))}),o.write(e),o.end()})}},kw=class extends Sl{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{_p.gzip(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],o=_p.createGunzip();o.on("data",a=>{s.push(a),i+=a.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:Mp.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(s))}),o.write(e),o.end()})}},Nw=class extends Sl{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function BO(n,e){switch(n){case"identity":return new ha;case"deflate":return new Rw(e);case"gzip":return new kw(e);default:return new Nw(n)}}var Fp=class extends Wie.BaseFilter{constructor(e,t){var r,i;super(),this.sharedFilterConfig=t,this.sendCompression=new ha,this.receiveCompression=new ha,this.currentCompressionAlgorithm="identity";let s=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(r=e["grpc.max_receive_message_length"])!==null&&r!==void 0?r:Mp.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,s!==void 0)if(zie(s)){let o=QO.CompressionAlgorithms[s],a=(i=t.serverSupportedEncodingHeader)===null||i===void 0?void 0:i.split(",");(!a||a.includes(o))&&(this.currentCompressionAlgorithm=o,this.sendCompression=BO(this.currentCompressionAlgorithm,-1))}else Jie.log(Mp.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}sendMetadata(e){return m(this,null,function*(){let t=yield e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t})}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let i=t[0];typeof i=="string"&&(this.receiveCompression=BO(i,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new ha,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}sendMessage(e){return m(this,null,function*(){var t;let r=yield e,i;return this.sendCompression instanceof ha?i=!1:i=(((t=r.flags)!==null&&t!==void 0?t:0)&2)===0,{message:yield this.sendCompression.writeMessage(r.message,i),flags:r.flags}})}receiveMessage(e){return m(this,null,function*(){return this.receiveCompression.readMessage(yield e)})}};bl.CompressionFilter=Fp;var _w=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new Fp(this.options,this.sharedFilterConfig)}};bl.CompressionFilterFactory=_w});var Lp=v(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.deadlineToString=yi.getRelativeTimeout=yi.getDeadlineTimeoutString=yi.minDeadline=void 0;function jie(...n){let e=1/0;for(let t of n){let r=t instanceof Date?t.getTime():t;r<e&&(e=r)}return e}yi.minDeadline=jie;var Kie=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function $ie(n){let e=new Date().getTime();n instanceof Date&&(n=n.getTime());let t=Math.max(n-e,0);for(let[r,i]of Kie){let s=t/i;if(s<1e8)return String(Math.ceil(s))+r}throw new Error("Deadline is too far in the future")}yi.getDeadlineTimeoutString=$ie;var Zie=2147483647;function Xie(n){let e=n instanceof Date?n.getTime():n,t=new Date().getTime(),r=e-t;return r<0?0:r>Zie?1/0:r}yi.getRelativeTimeout=Xie;function ese(n){if(n instanceof Date)return n.toISOString();{let e=new Date(n);return Number.isNaN(e.getTime())?""+n:e.toISOString()}}yi.deadlineToString=ese});var Up=v(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.restrictControlPlaneStatusCode=void 0;var Bi=_e(),tse=[Bi.Status.OK,Bi.Status.INVALID_ARGUMENT,Bi.Status.NOT_FOUND,Bi.Status.ALREADY_EXISTS,Bi.Status.FAILED_PRECONDITION,Bi.Status.ABORTED,Bi.Status.OUT_OF_RANGE,Bi.Status.DATA_LOSS];function nse(n,e){return tse.includes(n)?{code:Bi.Status.INTERNAL,details:`Invalid status from control plane: ${n} ${Bi.Status[n]} ${e}`}:{code:n,details:e}}xp.restrictControlPlaneStatusCode=nse});var SO=v(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.LoadBalancingCall=void 0;var vO=ar(),Op=_e(),rse=Lp(),Pp=Dn(),ZA=Ws(),ise=qn(),sse=dt(),Mw=Up(),ose=N("http2"),ase="load_balancing_call",Fw=class{constructor(e,t,r,i,s,o,a){var c,l;this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let u=this.methodName.split("/"),A="";u.length>=2&&(A=u[1]);let d=(l=(c=(0,ise.splitHostPort)(this.host))===null||c===void 0?void 0:c.host)!==null&&l!==void 0?l:"localhost";this.serviceUrl=`https://${d}/${A}`}trace(e){sse.trace(Op.LogVerbosity.DEBUG,ase,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let s=Object.assign(Object.assign({},e),{progress:t});(r=this.listener)===null||r===void 0||r.onReceiveStatus(s),(i=this.onCallEnded)===null||i===void 0||i.call(this,s.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),i=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+ZA.PickResultType[r.pickResultType]+" subchannel: "+i+" status: "+((e=r.status)===null||e===void 0?void 0:e.code)+" "+((t=r.status)===null||t===void 0?void 0:t.details)),r.pickResultType){case ZA.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(a=>{var c,l,u;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let A=this.metadata.clone();if(A.merge(a),A.get("authorization").length>1&&this.outputStatus({code:Op.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new Pp.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==vO.ConnectivityState.READY){this.trace("Picked subchannel "+i+" has state "+vO.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&A.set("grpc-timeout",(0,rse.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(A,this.host,this.methodName,{onReceiveMetadata:d=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(d)},onReceiveMessage:d=>{this.trace("Received message"),this.listener.onReceiveMessage(d)},onReceiveStatus:d=>{this.trace("Received status"),d.rstCode===ose.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(d,"REFUSED"):this.outputStatus(d,"PROCESSED")}})}catch(d){this.trace("Failed to start call on picked subchannel "+i+" with error "+d.message),this.outputStatus({code:Op.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+d.message,metadata:new Pp.Metadata},"NOT_STARTED");return}(l=(c=this.callConfig).onCommitted)===null||l===void 0||l.call(c),(u=r.onCallStarted)===null||u===void 0||u.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:c,details:l}=(0,Mw.restrictControlPlaneStatusCode)(typeof a.code=="number"?a.code:Op.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:c,details:l,metadata:new Pp.Metadata},"PROCESSED")});break;case ZA.PickResultType.DROP:let{code:s,details:o}=(0,Mw.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:s,details:o,metadata:r.status.metadata},"DROP")});break;case ZA.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:c}=(0,Mw.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:a,details:c,metadata:r.status.metadata},"PROCESSED")})}break;case ZA.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new Pp.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};Vp.LoadBalancingCall=Fw});var DO=v(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.ResolvingCall=void 0;var Dl=_e(),Gp=Lp(),bO=Dn(),cse=dt(),lse=Up(),use="resolving_call",Lw=class{constructor(e,t,r,i,s,o){this.channel=e,this.method=t,this.filterStackFactory=i,this.credentials=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&Dl.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(Dl.Status.CANCELLED,"Cancelled by parent call")}),r.flags&Dl.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,Gp.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){cse.trace(Dl.LogVerbosity.DEBUG,use,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,Gp.deadlineToString)(this.deadline));let e=(0,Gp.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(Dl.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(r=>r(t)),process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(i=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,i.message),this.pendingHalfClose&&r.halfClose()},i=>{this.cancelWithStatus(i.code,i.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==Dl.Status.OK){let{code:r,details:i}=(0,lse.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:r,details:i,metadata:new bO.Metadata});return}if(t.methodConfig.timeout){let r=new Date;r.setSeconds(r.getSeconds()+t.methodConfig.timeout.seconds),r.setMilliseconds(r.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,Gp.minDeadline)(this.deadline,r),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(r=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(r,{onReceiveMetadata:i=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(i))},onReceiveMessage:i=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(i).then(s=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(s),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},s=>{this.cancelWithStatus(s.code,s.details)})},onReceiveStatus:i=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=i:this.outputStatus(i)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},r=>{this.outputStatus(r)})}reportResolverError(e){var t;!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new bO.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};qp.ResolvingCall=Lw});var TO=v(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.RetryingCall=lo.MessageBufferTracker=lo.RetryThrottler=void 0;var Hp=_e(),Ase=Dn(),dse=dt(),hse="retrying_call",Uw=class{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};lo.RetryThrottler=Uw;var Ow=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;return this.limitPerCall-i<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(t,i+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;if(i<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${i}`);this.allocatedPerCall.set(t,i-e)}freeAll(e){var t;let r=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};lo.MessageBufferTracker=Ow;var xw="grpc-previous-rpc-attempts",Pw=class{constructor(e,t,r,i,s,o,a,c,l){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.bufferTracker=c,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let u=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(u.initialBackoff.substring(0,u.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){dse.trace(Hp.LogVerbosity.DEBUG,hse,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new Ase.Metadata});for(let{call:r}of this.underlyingCalls)r.cancelWithStatus(e,t)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let r=this.getBufferEntry(t);r.allocated&&this.bufferTracker.free(r.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&this.underlyingCalls[t].state!=="COMPLETED"&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(Hp.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,t=-1;for(let[r,i]of this.underlyingCalls.entries())i.state==="ACTIVE"&&i.nextMessageToSend>e&&(e=i.nextMessageToSend,t=r);t===-1?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(r=>r===t||r.toString().toLowerCase()===Hp.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,i),r}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(!1);return}let r=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(r.maxAttempts,5)){t(!1);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var s,o;if(this.state!=="RETRY"){t(!1);return}(!((o=(s=this.retryThrottler)===null||s===void 0?void 0:s.canRetryCall())!==null&&o!==void 0)||o)&&(t(!0),this.attempts+=1,this.startNewAttempt())},i)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var i,s,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&i!==void 0?i:[],e.code)){(s=this.retryThrottler)===null||s===void 0||s.addCallFailed();let a;if(r===null)a=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else a=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(t),this.reportStatus(e))},a)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(r,a=>{a||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e));break}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(t.length===0)return null;try{return parseInt(t[0])}catch{return-1}}handleChildStatus(e,t){var r;if(this.underlyingCalls[t].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===Hp.Status.OK){(r=this.retryThrottler)===null||r===void 0||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let s=(e=i.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(s.substring(0,s.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},o*1e3),(r=(t=this.hedgingTimer).unref)===null||r===void 0||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,i=this.initialMetadata.clone();r>0&&i.set(xw,`${r}`);let s=!1;e.start(i,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),s=!0,r>0&&o.set(xw,`${r}`),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMetadata(o)},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMessage(o)},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!s&&r>0&&o.metadata.set(xw,`${r}`),this.handleChildStatus(o,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let i=this.underlyingCalls[e],s=i.nextMessageToSend;(r=(t=this.getBufferEntry(s)).callback)===null||r===void 0||r.call(t),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if(t.state!=="COMPLETED"&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:i=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let i={message:t,flags:e.flags},s=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(r=e.callback)===null||r===void 0||r.call(e);for(let[a,c]of this.underlyingCalls.entries())c.state==="ACTIVE"&&c.nextMessageToSend===s&&c.call.sendMessageWithContext({callback:l=>{this.handleChildWriteCompleted(a)}},t)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let a=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,a.state==="ACTIVE"&&a.nextMessageToSend===s&&a.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};lo.RetryingCall=Pw});var Wp=v(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.BaseSubchannelWrapper=void 0;var Vw=class{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};Yp.BaseSubchannelWrapper=Vw});var NO=v(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.InternalChannel=void 0;var fse=kg(),gse=nx(),pse=IO(),RO=Ws(),XA=_e(),mse=Sw(),Ese=wO(),kO=li(),Gw=dt(),Cse=gw(),Jp=qn(),Qi=ar(),ed=da(),Ise=SO(),yse=Lp(),Bse=DO(),qw=Cw(),Qse=Up(),Hw=TO(),wse=Wp(),vse=2147483647,Sse=1e3,bse=30*60*1e3,zp=new Map,Dse=1<<24,Tse=1<<20,Yw=class extends wse.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(r,i,s,o)=>{t.throttleKeepalive(o)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},Ww=class{constructor(e,t,r){var i,s,o,a,c,l,u,A;if(this.credentials=t,this.options=r,this.connectivityState=Qi.ConnectivityState.IDLE,this.currentPicker=new RO.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new ed.ChannelzCallTracker,this.childrenTracker=new ed.ChannelzChildrenTracker,typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof fse.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let d=(0,Jp.parseUri)(e);if(d===null)throw new Error(`Could not parse target name "${e}"`);let f=(0,kO.mapUriDefaultScheme)(d);if(f===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},vse),(s=(i=this.callRefTimer).unref)===null||s===void 0||s.call(i),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new ed.ChannelzTrace,this.channelzRef=(0,ed.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,kO.getDefaultAuthority)(f);let Q=(0,Cse.mapProxyName)(f,r);this.target=Q.target,this.options=Object.assign({},this.options,Q.extraOptions),this.subchannelPool=(0,pse.getSubchannelPool)(((o=r["grpc.use_local_subchannel_pool"])!==null&&o!==void 0?o:0)===0),this.retryBufferTracker=new Hw.MessageBufferTracker((a=r["grpc.retry_buffer_size"])!==null&&a!==void 0?a:Dse,(c=r["grpc.per_rpc_retry_buffer_size"])!==null&&c!==void 0?c:Tse),this.keepaliveTime=(l=r["grpc.keepalive_time_ms"])!==null&&l!==void 0?l:-1,this.idleTimeoutMs=Math.max((u=r["grpc.client_idle_timeout_ms"])!==null&&u!==void 0?u:bse,Sse);let C={createSubchannel:(S,b)=>{let M=this.subchannelPool.getOrCreateSubchannel(this.target,S,Object.assign({},this.options,b),this.credentials);M.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",M.getChannelzRef());let k=new Yw(M,this);return this.wrappedSubchannels.add(k),k},updateState:(S,b)=>{this.currentPicker=b;let M=this.pickQueue.slice();this.pickQueue=[],M.length>0&&this.callRefTimerUnref();for(let k of M)k.doPick();this.updateState(S)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:S=>{this.channelzEnabled&&this.childrenTracker.refChild(S)},removeChannelzChild:S=>{this.channelzEnabled&&this.childrenTracker.unrefChild(S)}};this.resolvingLoadBalancer=new gse.ResolvingLoadBalancer(this.target,C,r,(S,b)=>{S.retryThrottling?zp.set(this.getTarget(),new Hw.RetryThrottler(S.retryThrottling.maxTokens,S.retryThrottling.tokenRatio,zp.get(this.getTarget()))):zp.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=b,this.currentResolutionError=null,process.nextTick(()=>{let M=this.configSelectionQueue;this.configSelectionQueue=[],M.length>0&&this.callRefTimerUnref();for(let k of M)k.getConfig()})},S=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+S.code+' and details "'+S.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,Qse.restrictControlPlaneStatusCode)(S.code,S.details)),{metadata:S.metadata}));let b=this.configSelectionQueue;this.configSelectionQueue=[],b.length>0&&this.callRefTimerUnref();for(let M of b)M.reportResolverError(S)}),this.filterStackFactory=new mse.FilterStackFactory([new Ese.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let I=new Error;(0,Gw.trace)(XA.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((A=I.stack)===null||A===void 0?void 0:A.substring(I.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,Gw.trace)(t??XA.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,Jp.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,i;!((t=(e=this.callRefTimer).hasRef)===null||t===void 0)&&t.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(r=this.callRefTimer).ref)===null||i===void 0||i.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(t=(e=this.callRefTimer).unref)===null||t===void 0||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(r=>r===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,Gw.trace)(XA.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,Jp.uriToString)(this.target)+" "+Qi.ConnectivityState[this.connectivityState]+" -> "+Qi.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Qi.ConnectivityState[e]),this.connectivityState=e;let t=this.connectivityStateWatchers.slice();for(let r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==Qi.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let t of this.wrappedSubchannels)t.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Qi.ConnectivityState.IDLE),this.currentPicker=new RO.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let s=new Date().valueOf()-this.lastActivityTimestamp.valueOf();s>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-s)},e),(r=(t=this.idleTimer).unref)===null||r===void 0||r.call(t)}maybeStartIdleTimer(){this.connectivityState!==Qi.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===XA.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,i,s){let o=(0,qw.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+t+'"'),new Ise.LoadBalancingCall(this,e,t,r,i,s,o)}createRetryingCall(e,t,r,i,s){let o=(0,qw.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+t+'"'),new Hw.RetryingCall(this,e,t,r,i,s,o,this.retryBufferTracker,zp.get(this.getTarget()))}createInnerCall(e,t,r,i,s){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,t,r,i,s):this.createRetryingCall(e,t,r,i,s)}createResolvingCall(e,t,r,i,s){let o=(0,qw.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,yse.deadlineToString)(t));let a={deadline:t,flags:s??XA.Propagate.DEFAULTS,host:r??this.defaultAuthority,parentCall:i},c=new Bse.ResolvingCall(this,e,a,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),c.addStatusWatcher(l=>{this.onCallEnd(l)}),c}close(){this.resolvingLoadBalancer.destroy(),this.updateState(Qi.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,ed.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,Jp.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===Qi.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let i=null;if(t!==1/0){let o=t instanceof Date?t:new Date(t),a=new Date;if(t===-1/0||o<=a){process.nextTick(r,new Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(s),r(new Error("Deadline passed without connectivity state change"))},o.getTime()-a.getTime())}let s={currentState:e,callback:r,timer:i};this.connectivityStateWatchers.push(s)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Qi.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,r,i,s)}};jp.InternalChannel=Ww});var K0=v(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.ChannelImplementation=void 0;var Rse=kg(),kse=NO(),Jw=class{constructor(e,t,r){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Rse.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new kse.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,i,s)}};Kp.ChannelImplementation=Jw});var VO=v(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.Http2ServerCallStream=pr.ServerDuplexStreamImpl=pr.ServerWritableStreamImpl=pr.ServerReadableStreamImpl=pr.ServerUnaryCallImpl=void 0;var UO=N("events"),Tl=N("http2"),Kw=N("stream"),_O=N("zlib"),ze=_e(),$w=Dn(),Nse=mw(),OO=dt(),nd=vg(),PO="server_call";function td(n){OO.trace(ze.LogVerbosity.DEBUG,PO,n)}var _se="grpc-accept-encoding",Mse="grpc-encoding",MO="grpc-message",FO="grpc-status",LO="grpc-timeout",Fse=/(\d{1,8})\s*([HMSmun])/,Lse={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},xse={[_se]:"identity,deflate,gzip",[Mse]:"identity"},xO={[Tl.constants.HTTP2_HEADER_STATUS]:Tl.constants.HTTP_STATUS_OK,[Tl.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},Use={waitForTrailers:!0},zw=class extends UO.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};pr.ServerUnaryCallImpl=zw;var $p=class extends Kw.Readable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};pr.ServerReadableStreamImpl=$p;var rd=class extends Kw.Writable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=i,this.cancelled=!1,this.trailingMetadata=new $w.Metadata,this.call.setupSurfaceCall(this),this.on("error",s=>{this.call.sendError(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let i=this.call.serializeMessage(e);if(!this.call.write(i)){this.call.once("drain",r);return}}catch(i){this.emit("error",{details:(0,nd.getErrorMessage)(i),code:ze.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:ze.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}};pr.ServerWritableStreamImpl=rd;var Rl=class extends Kw.Duplex{constructor(e,t,r,i,s){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=i,this.cancelled=!1,this.trailingMetadata=new $w.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,s),this.on("error",o=>{this.call.sendError(o),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}};pr.ServerDuplexStreamImpl=Rl;Rl.prototype._read=$p.prototype._read;Rl.prototype._write=rd.prototype._write;Rl.prototype._final=rd.prototype._final;var jw=class extends UO.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=ze.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=ze.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",i=>{}),this.stream.once("close",()=>{var i;td("Request to method "+((i=this.handler)===null||i===void 0?void 0:i.path)+" stream closed with rstCode "+this.stream.rstCode),this.statusSent||(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:ze.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){let r=e.subarray(5);if(t==="identity")return r;if(t==="deflate"||t==="gzip"){let i;return t==="deflate"?i=_O.createInflate():i=_O.createGunzip(),new Promise((s,o)=>{let a=0,c=[];i.on("data",l=>{c.push(l),a+=l.byteLength,this.maxReceiveMessageSize!==-1&&a>this.maxReceiveMessageSize&&(i.destroy(),o({code:ze.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),i.on("end",()=>{s(Buffer.concat(c))}),i.write(r),i.end()})}else return Promise.reject({code:ze.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},xO),xse),t);this.stream.respond(r,Use)}receiveMetadata(e){let t=$w.Metadata.fromHttp2Headers(e);OO.isTracerEnabled(PO)&&td("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(LO);if(r.length>0){let i=r[0].toString().match(Fse);if(i===null){let a=new Error("Invalid deadline");return a.code=ze.Status.OUT_OF_RANGE,this.sendError(a),t}let s=+i[1]*Lse[i[2]]|0,o=new Date;this.deadline=o.setMilliseconds(o.getMilliseconds()+s),this.deadlineTimer=setTimeout(Ose,s,this),t.remove(LO)}return t.remove(Tl.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(Tl.constants.HTTP2_HEADER_TE),t.remove(Tl.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:i}=this,s=0,o=this,a=[],c=this.maxReceiveMessageSize;this.stream.on("data",l),this.stream.on("end",u),this.stream.on("error",u);function l(A){if(s+=A.byteLength,c!==-1&&s>c){i.removeListener("data",l),i.removeListener("end",u),i.removeListener("error",u),r({code:ze.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s} vs. ${c})`});return}a.push(A)}function u(A){if(i.removeListener("data",l),i.removeListener("end",u),i.removeListener("error",u),A!==void 0){r({code:ze.Status.INTERNAL,details:A.message});return}if(s===0){r({code:ze.Status.INTERNAL,details:"received empty unary message"});return}o.emit("receiveMessage");let d=Buffer.concat(a,s),Q=d.readUInt8(0)===1?e:"identity",C=o.getDecompressedMessage(d,Q);if(Buffer.isBuffer(C)){t(o.deserializeMessageWithInternalError(C));return}C.then(I=>t(o.deserializeMessageWithInternalError(I)),I=>r(I.code?I:{code:ze.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}})}deserializeMessageWithInternalError(e){return m(this,null,function*(){try{return this.deserializeMessage(e)}catch(t){throw{details:(0,nd.getErrorMessage)(t),code:ze.Status.INTERNAL}}})}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,i=Buffer.allocUnsafe(r+5);return i.writeUInt8(0,0),i.writeUInt32BE(r,1),t.copy(i,5),i}deserializeMessage(e){return this.handler.deserialize(e)}sendUnaryMessage(e,t,r,i){return m(this,null,function*(){if(!this.checkCancelled()){if(r===void 0&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let s=this.serializeMessage(t);this.write(s),this.sendStatus({code:ze.Status.OK,details:"OK",metadata:r})}catch(s){this.sendError({details:(0,nd.getErrorMessage)(s),code:ze.Status.INTERNAL})}}})}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===ze.Status.OK),!this.checkCancelled())if(td("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+ze.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var i;let s=Object.assign({[FO]:e.code,[MO]:encodeURI(e.details)},(i=e.metadata)===null||i===void 0?void 0:i.toHttp2Headers());this.stream.sendTrailers(s),this.statusSent=!0}),this.stream.end());else{let i=Object.assign(Object.assign({[FO]:e.code,[MO]:encodeURI(e.details)},xO),(r=e.metadata)===null||r===void 0?void 0:r.toHttp2Headers());this.stream.respond(i,{endStream:!0}),this.statusSent=!0}}sendError(e){let t={code:ze.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&e.metadata!==void 0?e.metadata:null};"code"in e&&typeof e.code=="number"&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&typeof e.details=="string"&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(this.maxSendMessageSize!==-1&&e.length>this.maxSendMessageSize){this.sendError({code:ze.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new Nse.StreamDecoder(this.maxReceiveMessageSize),i=!1,s=!1,o=!1,a=()=>m(this,null,function*(){!o&&i&&!s&&(o=!0,yield this.pushOrBufferMessage(e,null))});this.stream.on("data",c=>m(this,null,function*(){let l;try{l=r.write(c)}catch(u){this.sendError({code:ze.Status.RESOURCE_EXHAUSTED,details:u.message});return}s=!0,this.stream.pause();for(let u of l){this.emit("receiveMessage");let d=u.readUInt8(0)===1?t:"identity",f;try{f=yield this.getDecompressedMessage(u,d)}catch(Q){this.sendError(Q);return}if(!f)return;yield this.pushOrBufferMessage(e,f)}s=!1,this.stream.resume(),yield a()})),this.stream.once("end",()=>m(this,null,function*(){i=!0,yield a()}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(t===null||r===!1){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){return m(this,null,function*(){this.isPushPending?this.bufferedMessages.push(t):yield this.pushMessage(e,t)})}pushMessage(e,t){return m(this,null,function*(){if(t===null){td("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}td("Received message of length "+t.length),this.isPushPending=!0;try{let r=yield this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let i=(0,nd.getErrorCode)(r);(i===null||i<ze.Status.OK||i>ze.Status.UNAUTHENTICATED)&&(i=ze.Status.INTERNAL),e.emit("error",{details:(0,nd.getErrorMessage)(r),code:i})}this.isPushPending=!1,this.bufferedMessages.length>0&&(yield this.pushMessage(e,this.bufferedMessages.shift()))})}getPeer(){var e;let t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return t?.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};pr.Http2ServerCallStream=jw;function Ose(n){let e=new Error("Deadline exceeded");e.code=ze.Status.DEADLINE_EXCEEDED,n.sendError(e),n.cancelled=!0,n.emit("cancelled","deadline")}});var ev=v(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.ServerCredentials=void 0;var GO=I0(),id=class{static createInsecure(){return new Zw}static createSsl(e,t,r=!1){if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if(typeof r!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let i=[],s=[];for(let o=0;o<t.length;o++){let a=t[o];if(a===null||typeof a!="object")throw new TypeError(`keyCertPair[${o}] must be an object`);if(!Buffer.isBuffer(a.private_key))throw new TypeError(`keyCertPair[${o}].private_key must be a Buffer`);if(!Buffer.isBuffer(a.cert_chain))throw new TypeError(`keyCertPair[${o}].cert_chain must be a Buffer`);i.push(a.cert_chain),s.push(a.private_key)}return new Xw({ca:e||(0,GO.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:GO.CIPHER_SUITES})}};Zp.ServerCredentials=id;var Zw=class extends id{_isSecure(){return!1}_getSettings(){return null}},Xw=class extends id{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}});var YO=v(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.Server=void 0;var uo=N("http2"),rs=_e(),fa=VO(),Pse=ev(),qO=li(),Xp=dt(),Or=Ai(),Vse=qn(),kn=da(),em=~(1<<31),Gse=~(1<<31),qse=2e4,{HTTP2_HEADER_PATH:HO}=uo.constants,Hse="server";function Yse(){}function tv(n){return{code:rs.Status.UNIMPLEMENTED,details:`The server does not implement the method ${n}`}}function Wse(n,e){let t=tv(e);switch(n){case"unary":return(r,i)=>{i(t,null)};case"clientStream":return(r,i)=>{i(t,null)};case"serverStream":return r=>{r.emit("error",t)};case"bidi":return r=>{r.emit("error",t)};default:throw new Error(`Invalid handlerType ${n}`)}}var nv=class{constructor(e){var t,r,i,s;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new kn.ChannelzTrace,this.callTracker=new kn.ChannelzCallTracker,this.listenerChildrenTracker=new kn.ChannelzChildrenTracker,this.sessionChildrenTracker=new kn.ChannelzChildrenTracker,this.options=e??{},this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,kn.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(t=this.options["grpc.max_connection_age_ms"])!==null&&t!==void 0?t:em,this.maxConnectionAgeGraceMs=(r=this.options["grpc.max_connection_age_grace_ms"])!==null&&r!==void 0?r:em,this.keepaliveTimeMs=(i=this.options["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:Gse,this.keepaliveTimeoutMs=(s=this.options["grpc.keepalive_timeout_ms"])!==null&&s!==void 0?s:qse,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,i;let s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,Or.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,c=o.localAddress?(0,Or.stringToSubchannelAddress)(o.localAddress,o.localPort):null,l;if(e.encrypted){let A=o,d=A.getCipher(),f=A.getCertificate(),Q=A.getPeerCertificate();l={cipherSuiteStandardName:(t=d.standardName)!==null&&t!==void 0?t:null,cipherSuiteOtherName:d.standardName?null:d.name,localCertificate:f&&"raw"in f?f.raw:null,remoteCertificate:Q&&"raw"in Q?Q.raw:null}}else l=null;return{remoteAddress:a,localAddress:c,security:l,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:(r=e.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(i=e.state.remoteWindowSize)!==null&&i!==void 0?i:null}}}trace(e){Xp.trace(rs.LogVerbosity.DEBUG,Hse,"("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(e===null||typeof e!="object"||t===null||typeof t!="object")throw new Error("addService() requires two objects as arguments");let r=Object.keys(e);if(r.length===0)throw new Error("Cannot add an empty service to a server");r.forEach(i=>{let s=e[i],o;s.requestStream?s.responseStream?o="bidi":o="clientStream":s.responseStream?o="serverStream":o="unary";let a=t[i],c;if(a===void 0&&typeof s.originalName=="string"&&(a=t[s.originalName]),a!==void 0?c=a.bind(t):c=Wse(o,i),this.register(s.path,c,s.responseSerialize,s.requestDeserialize,o)===!1)throw new Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(e===null||typeof e!="object")throw new Error("removeService() requires object as argument");Object.keys(e).forEach(r=>{let i=e[r];this.unregister(i.path)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(this.started===!0)throw new Error("server is already started");if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof e!="string")throw new TypeError("port must be a string");if(t===null||!(t instanceof Pse.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof r!="function")throw new TypeError("callback must be a function");let i=(0,Vse.parseUri)(e);if(i===null)throw new Error(`Could not parse port "${e}"`);let s=(0,qO.mapUriDefaultScheme)(i);if(s===null)throw new Error(`Could not get a default scheme for port "${e}"`);let o={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?o.maxSessionMemory=this.options["grpc-node.max_session_memory"]:o.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(o.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let a=(f,Q)=>{process.nextTick(()=>r(f,Q))},c=()=>{let f;if(t._isSecure()){let Q=Object.assign(o,t._getSettings());Q.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,f=uo.createSecureServer(Q),f.on("secureConnection",C=>{C.on("error",I=>{this.trace("An incoming TLS connection closed with error: "+I.message)})})}else f=uo.createServer(o);return f.setTimeout(0,Yse),this._setupHandlers(f),f},l=(f,Q,C)=>f.length===0?Promise.resolve({port:Q,count:C}):Promise.all(f.map(I=>{this.trace("Attempting to bind "+(0,Or.subchannelAddressToString)(I));let S;(0,Or.isTcpSubchannelAddress)(I)?S={host:I.host,port:Q}:S=I;let b=c();return new Promise((M,k)=>{let O=q=>{this.trace("Failed to bind "+(0,Or.subchannelAddressToString)(I)+" with error "+q.message),M(q)};b.once("error",O),b.listen(S,()=>{if(this.shutdown){b.close(),M(new Error("bindAsync failed because server is shutdown"));return}let q=b.address(),B;typeof q=="string"?B={path:q}:B={host:q.address,port:q.port};let E=(0,kn.registerChannelzSocket)((0,Or.subchannelAddressToString)(B),()=>({localAddress:B,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(E),this.http2ServerList.push({server:b,channelzRef:E}),this.trace("Successfully bound "+(0,Or.subchannelAddressToString)(B)),M("port"in B?B.port:Q),b.removeListener("error",O)})})})).then(I=>{let S=0;for(let b of I)if(typeof b=="number"&&(S+=1,b!==Q))throw new Error("Invalid state: multiple port numbers added from single address");return{port:Q,count:S+C}}),u=f=>{if(f.length===0)return Promise.resolve({port:0,count:0});let Q=f[0],C=c();return new Promise((I,S)=>{let b=M=>{this.trace("Failed to bind "+(0,Or.subchannelAddressToString)(Q)+" with error "+M.message),I(u(f.slice(1)))};C.once("error",b),C.listen(Q,()=>{if(this.shutdown){C.close(),I({port:0,count:0});return}let M=C.address(),k={host:M.address,port:M.port},O=(0,kn.registerChannelzSocket)((0,Or.subchannelAddressToString)(k),()=>({localAddress:k,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(O),this.http2ServerList.push({server:C,channelzRef:O}),this.trace("Successfully bound "+(0,Or.subchannelAddressToString)(k)),I(l(f.slice(1),M.port,1)),C.removeListener("error",b)})})},A={onSuccessfulResolution:(f,Q,C)=>{if(A.onSuccessfulResolution=()=>{},this.shutdown&&a(new Error("bindAsync failed because server is shutdown"),0),f.length===0){a(new Error(`No addresses resolved for port ${e}`),0);return}let I;(0,Or.isTcpSubchannelAddress)(f[0])?f[0].port===0?I=u(f):I=l(f,f[0].port,0):I=l(f,1,0),I.then(S=>{if(S.count===0){let b=`No address added out of total ${f.length} resolved`;Xp.log(rs.LogVerbosity.ERROR,b),a(new Error(b),0)}else S.count<f.length&&Xp.log(rs.LogVerbosity.INFO,`WARNING Only ${S.count} addresses added out of total ${f.length} resolved`),a(null,S.port)},S=>{let b=`No address added out of total ${f.length} resolved`;Xp.log(rs.LogVerbosity.ERROR,b),a(new Error(b),0)})},onError:f=>{a(new Error(f.details),0)}};(0,qO.createResolver)(s,A,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,kn.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(uo.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,kn.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,i,s){return this.handlers.has(e)?!1:(this.handlers.set(e,{func:t,serialize:r,deserialize:i,type:s,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:e})=>e.listening!==!0))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=s=>{this.channelzEnabled&&(0,kn.unregisterChannelzRef)(this.channelzRef),e(s)},r=0;function i(){r--,r===0&&t()}this.started=!1,this.shutdown=!0;for(let{server:s,channelzRef:o}of this.http2ServerList)s.listening&&(r++,s.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(o),(0,kn.unregisterChannelzRef)(o)),i()}));this.sessions.forEach((s,o)=>{o.closed||(r+=1,o.close(i))}),r===0&&t()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[uo.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof r!="string"||!r.startsWith("application/grpc")?(e.respond({[uo.constants.HTTP2_HEADER_STATUS]:uo.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return t===void 0?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let i=new fa.Http2ServerCallStream(t,null,this.options);e.code===void 0&&(e.code=rs.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed()),i.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),r?.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed();return}let i=t[HO],s=this._retrieveHandler(i);if(!s){this._respondWithError(tv(i),e,r);return}let o=new fa.Http2ServerCallStream(e,s,this.options);o.once("callEnd",a=>{a===rs.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(o.once("streamEnd",a=>{a?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),o.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),o.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(o,s,t)||(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed(),o.sendError({code:rs.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,t){if(this._verifyContentType(e,t)!==!0)return;let r=t[HO],i=this._retrieveHandler(r);if(!i){this._respondWithError(tv(r),e,null);return}let s=new fa.Http2ServerCallStream(e,i,this.options);this._runHandlerForCall(s,i,t)||s.sendError({code:rs.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,t,r){var i;let s=e.receiveMetadata(r),o=(i=s.get("grpc-encoding")[0])!==null&&i!==void 0?i:"identity";s.remove("grpc-encoding");let{type:a}=t;if(a==="unary")Jse(e,t,s,o);else if(a==="clientStream")zse(e,t,s,o);else if(a==="serverStream")jse(e,t,s,o);else if(a==="bidi")Kse(e,t,s,o);else return!1;return!0}_setupHandlers(e){if(e===null)return;let t=e.address(),r="null";t&&(typeof t=="string"?r=t:r=t.address+":"+t.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",s=>{var o,a,c,l,u;if(!this.started){s.destroy();return}let A=(0,kn.registerChannelzSocket)((o=s.socket.remoteAddress)!==null&&o!==void 0?o:"unknown",this.getChannelzSessionInfoGetter(s),this.channelzEnabled),d={ref:A,streamTracker:new kn.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(s,d);let f=s.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+f),this.sessionChildrenTracker.refChild(A));let Q=null,C=null,I=!1;if(this.maxConnectionAgeMs!==em){let b=this.maxConnectionAgeMs/10,M=Math.random()*b*2-b;Q=(c=(a=setTimeout(()=>{var k,O;I=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+f);try{s.goaway(uo.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch{s.destroy();return}s.close(),this.maxConnectionAgeGraceMs!==em&&(C=(O=(k=setTimeout(()=>{s.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||O===void 0?void 0:O.call(k))},this.maxConnectionAgeMs+M)).unref)===null||c===void 0?void 0:c.call(a)}let S=(u=(l=setInterval(()=>{var b,M;let k=(M=(b=setTimeout(()=>{I=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+f),s.close()},this.keepaliveTimeoutMs)).unref)===null||M===void 0?void 0:M.call(b);try{s.ping((O,q,B)=>{clearTimeout(k)})}catch{s.destroy()}},this.keepaliveTimeMs)).unref)===null||u===void 0?void 0:u.call(l);s.on("close",()=>{this.channelzEnabled&&(I||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+f),this.sessionChildrenTracker.unrefChild(A),(0,kn.unregisterChannelzRef)(A)),Q&&clearTimeout(Q),C&&clearTimeout(C),S&&clearTimeout(S),this.sessions.delete(s)})})}};tm.Server=nv;function Jse(n,e,t,r){return m(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new fa.ServerUnaryCallImpl(n,t,i);e.func(s,(o,a,c,l)=>{n.sendUnaryMessage(o,a,c,l)})}catch(i){n.sendError(i)}})}function zse(n,e,t,r){let i=new fa.ServerReadableStreamImpl(n,t,e.deserialize,r);function s(o,a,c,l){i.destroy(),n.sendUnaryMessage(o,a,c,l)}n.cancelled||(i.on("error",s),e.func(i,s))}function jse(n,e,t,r){return m(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new fa.ServerWritableStreamImpl(n,t,e.serialize,i);e.func(s)}catch(i){n.sendError(i)}})}function Kse(n,e,t,r){let i=new fa.ServerDuplexStreamImpl(n,t,e.serialize,e.deserialize,r);n.cancelled||e.func(i)}});var WO=v(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.StatusBuilder=void 0;var rv=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};nm.StatusBuilder=rv});var iv=v(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.isDuration=Ao.durationToMs=Ao.msToDuration=void 0;function $se(n){return{seconds:n/1e3|0,nanos:n%1e3*1e6|0}}Ao.msToDuration=$se;function Zse(n){return n.seconds*1e3+n.nanos/1e6|0}Ao.durationToMs=Zse;function Xse(n){return typeof n.seconds=="number"&&typeof n.nanos=="number"}Ao.isDuration=Xse});var dv=v(ho=>{"use strict";var sv;Object.defineProperty(ho,"__esModule",{value:!0});ho.setup=ho.OutlierDetectionLoadBalancer=ho.OutlierDetectionLoadBalancingConfig=void 0;var im=ar(),zO=_e(),ga=iv(),jO=hv(),KO=Gs(),eoe=Ug(),toe=Ws(),JO=Ai(),noe=Wp(),roe=dt(),ioe="outlier_detection";function Pt(n){roe.trace(zO.LogVerbosity.DEBUG,ioe,n)}var Av="outlier_detection",soe=((sv=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&sv!==void 0?sv:"true")==="true",ooe={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},aoe={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function kl(n,e,t,r){if(e in n&&typeof n[e]!==t){let i=r?`${r}.${e}`:e;throw new Error(`outlier detection config ${i} parse error: expected ${t}, got ${typeof n[e]}`)}}function ov(n,e,t){let r=t?`${t}.${e}`:e;if(e in n){if(!(0,ga.isDuration)(n[e]))throw new Error(`outlier detection config ${r} parse error: expected Duration, got ${typeof n[e]}`);if(!(n[e].seconds>=0&&n[e].seconds<=315576e6&&n[e].nanos>=0&&n[e].nanos<=999999999))throw new Error(`outlier detection config ${r} parse error: values out of range for non-negative Duaration`)}}function rm(n,e,t){let r=t?`${t}.${e}`:e;if(kl(n,e,"number",t),e in n&&!(n[e]>=0&&n[e]<=100))throw new Error(`outlier detection config ${r} parse error: value out of range for percentage (0-100)`)}var sd=class n{constructor(e,t,r,i,s,o,a){if(this.childPolicy=a,a.length>0&&a[0].getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=t??3e4,this.maxEjectionTimeMs=r??3e5,this.maxEjectionPercent=i??10,this.successRateEjection=s?Object.assign(Object.assign({},ooe),s):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},aoe),o):null}getLoadBalancerName(){return Av}toJsonObject(){return{interval:(0,ga.msToDuration)(this.intervalMs),base_ejection_time:(0,ga.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,ga.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new n(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(ov(e,"interval"),ov(e,"base_ejection_time"),ov(e,"max_ejection_time"),rm(e,"max_ejection_percent"),"success_rate_ejection"in e){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");kl(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),rm(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),kl(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),kl(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");rm(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),rm(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),kl(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),kl(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new n(e.interval?(0,ga.durationToMs)(e.interval):null,e.base_ejection_time?(0,ga.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,ga.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(KO.validateLoadBalancingConfig))}};ho.OutlierDetectionLoadBalancingConfig=sd;var cv=class extends noe.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((r,i,s,o)=>{if(this.childSubchannelState=s,!this.ejected)for(let a of this.stateListeners)a(this,i,s,o)})}getConnectivityState(){return this.ejected?im.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.ejected=!0;for(let e of this.stateListeners)e(this,this.childSubchannelState,im.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){this.ejected=!1;for(let e of this.stateListeners)e(this,im.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function av(){return{success:0,failure:0}}var lv=class{constructor(){this.activeBucket=av(),this.inactiveBucket=av()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=av()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},uv=class{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType===toe.PickResultType.COMPLETE){let r=t.subchannel,i=r.getMapEntry();if(i){let s=t.onCallEnded;return this.countCalls&&(s=o=>{var a;o===zO.Status.OK?i.counter.addSuccess():i.counter.addFailure(),(a=t.onCallEnded)===null||a===void 0||a.call(t,o)}),Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel(),onCallEnded:s})}else return Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel()})}else return t}},sm=class{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new eoe.ChildLoadBalancerHandler((0,jO.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let i=e.createSubchannel(t,r),s=this.addressMap.get((0,JO.subchannelAddressToString)(t)),o=new cv(i,s);return s?.currentEjectionTimestamp!==null&&o.eject(),s?.subchannelWrappers.push(o),o},updateState:(t,r)=>{t===im.ConnectivityState.READY?e.updateState(t,new uv(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())t.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;Pt("Running success rate check");let r=t.request_volume,i=0,s=[];for(let[A,d]of this.addressMap){let f=d.counter.getLastSuccesses(),Q=d.counter.getLastFailures();Pt("Stats for "+A+": successes="+f+" failures="+Q+" targetRequestVolume="+r),f+Q>=r&&(i+=1,s.push(f/(f+Q)))}if(Pt("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+s+"]"),i<t.minimum_hosts)return;let o=s.reduce((A,d)=>A+d)/s.length,a=0;for(let A of s){let d=A-o;a+=d*d}let c=a/s.length,l=Math.sqrt(c),u=o-l*(t.stdev_factor/1e3);Pt("stdev="+l+" ejectionThreshold="+u);for(let[A,d]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let f=d.counter.getLastSuccesses(),Q=d.counter.getLastFailures();if(f+Q<r)continue;let C=f/(f+Q);if(Pt("Checking candidate "+A+" successRate="+C),C<u){let I=Math.random()*100;Pt("Candidate "+A+" randomNumber="+I+" enforcement_percentage="+t.enforcement_percentage),I<t.enforcement_percentage&&(Pt("Ejecting candidate "+A),this.eject(d,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;Pt("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let i of this.addressMap.values()){let s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();s+o>=t.request_volume&&(r+=1)}if(!(r<t.minimum_hosts))for(let[i,s]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=s.counter.getLastSuccesses(),a=s.counter.getLastFailures();if(Pt("Candidate successes="+o+" failures="+a),o+a<t.request_volume)continue;if(a*100/(a+o)>t.threshold){let l=Math.random()*100;Pt("Candidate "+i+" randomNumber="+l+" enforcement_percentage="+t.enforcement_percentage),l<t.enforcement_percentage&&(Pt("Ejecting candidate "+i),this.eject(s,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let r of e.subchannelWrappers)r.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(r=(t=this.ejectionTimer).unref)===null||r===void 0||r.call(t)}runChecks(){let e=new Date;if(Pt("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[t,r]of this.addressMap.entries())if(r.currentEjectionTimestamp===null)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let i=this.latestConfig.getBaseEjectionTimeMs(),s=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(r.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(i*r.ejectionTimeMultiplier,Math.max(i,s))),o<new Date&&(Pt("Unejecting "+t),this.uneject(r))}}}updateAddressList(e,t,r){if(!(t instanceof sd))return;let i=new Set;for(let o of e)i.add((0,JO.subchannelAddressToString)(o));for(let o of i)this.addressMap.has(o)||(Pt("Adding map entry for "+o),this.addressMap.set(o,{counter:new lv,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let o of this.addressMap.keys())i.has(o)||(Pt("Removing map entry for "+o),this.addressMap.delete(o));let s=(0,KO.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,s,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){Pt("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let o=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(o)}else Pt("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{Pt("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let o of this.addressMap.values())this.uneject(o),o.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return Av}};ho.OutlierDetectionLoadBalancer=sm;function coe(){soe&&(0,jO.registerLoadBalancerType)(Av,sm,sd)}ho.setup=coe});var hv=v(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.OutlierDetectionLoadBalancingConfig=de.BaseSubchannelWrapper=de.registerAdminService=de.FilterStackFactory=de.BaseFilter=de.PickResultType=de.QueuePicker=de.UnavailablePicker=de.ChildLoadBalancerHandler=de.subchannelAddressToString=de.validateLoadBalancingConfig=de.getFirstUsableConfig=de.registerLoadBalancerType=de.createChildChannelControlHelper=de.BackoffTimeout=de.durationToMs=de.uriToString=de.createResolver=de.registerResolver=de.log=de.trace=void 0;var $O=dt();Object.defineProperty(de,"trace",{enumerable:!0,get:function(){return $O.trace}});Object.defineProperty(de,"log",{enumerable:!0,get:function(){return $O.log}});var ZO=li();Object.defineProperty(de,"registerResolver",{enumerable:!0,get:function(){return ZO.registerResolver}});Object.defineProperty(de,"createResolver",{enumerable:!0,get:function(){return ZO.createResolver}});var loe=qn();Object.defineProperty(de,"uriToString",{enumerable:!0,get:function(){return loe.uriToString}});var uoe=iv();Object.defineProperty(de,"durationToMs",{enumerable:!0,get:function(){return uoe.durationToMs}});var Aoe=bA();Object.defineProperty(de,"BackoffTimeout",{enumerable:!0,get:function(){return Aoe.BackoffTimeout}});var om=Gs();Object.defineProperty(de,"createChildChannelControlHelper",{enumerable:!0,get:function(){return om.createChildChannelControlHelper}});Object.defineProperty(de,"registerLoadBalancerType",{enumerable:!0,get:function(){return om.registerLoadBalancerType}});Object.defineProperty(de,"getFirstUsableConfig",{enumerable:!0,get:function(){return om.getFirstUsableConfig}});Object.defineProperty(de,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return om.validateLoadBalancingConfig}});var doe=Ai();Object.defineProperty(de,"subchannelAddressToString",{enumerable:!0,get:function(){return doe.subchannelAddressToString}});var hoe=Ug();Object.defineProperty(de,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return hoe.ChildLoadBalancerHandler}});var fv=Ws();Object.defineProperty(de,"UnavailablePicker",{enumerable:!0,get:function(){return fv.UnavailablePicker}});Object.defineProperty(de,"QueuePicker",{enumerable:!0,get:function(){return fv.QueuePicker}});Object.defineProperty(de,"PickResultType",{enumerable:!0,get:function(){return fv.PickResultType}});var foe=Tw();Object.defineProperty(de,"BaseFilter",{enumerable:!0,get:function(){return foe.BaseFilter}});var goe=Sw();Object.defineProperty(de,"FilterStackFactory",{enumerable:!0,get:function(){return goe.FilterStackFactory}});var poe=Pg();Object.defineProperty(de,"registerAdminService",{enumerable:!0,get:function(){return poe.registerAdminService}});var moe=Wp();Object.defineProperty(de,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return moe.BaseSubchannelWrapper}});var Eoe=dv();Object.defineProperty(de,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return Eoe.OutlierDetectionLoadBalancingConfig}})});var XO=v(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.setup=void 0;var Coe=li(),gv=class{constructor(e,t,r){this.listener=t,this.addresses=[],this.hasReturnedResult=!1;let i;e.authority===""?i="/"+e.path:i=e.path,this.addresses=[{path:i}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}};function Ioe(){(0,Coe.registerResolver)("unix",gv)}am.setup=Ioe});var iP=v(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.setup=void 0;var eP=N("net"),cm=_e(),pv=Dn(),tP=li(),nP=qn(),yoe=dt(),Boe="ip_resolver";function rP(n){yoe.trace(cm.LogVerbosity.DEBUG,Boe,n)}var mv="ipv4",Ev="ipv6",Qoe=443,lm=class{constructor(e,t,r){var i;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,rP("Resolver constructed for target "+(0,nP.uriToString)(e));let s=[];if(!(e.scheme===mv||e.scheme===Ev)){this.error={code:cm.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new pv.Metadata};return}let o=e.path.split(",");for(let a of o){let c=(0,nP.splitHostPort)(a);if(c===null){this.error={code:cm.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new pv.Metadata};return}if(e.scheme===mv&&!(0,eP.isIPv4)(c.host)||e.scheme===Ev&&!(0,eP.isIPv6)(c.host)){this.error={code:cm.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new pv.Metadata};return}s.push({host:c.host,port:(i=c.port)!==null&&i!==void 0?i:Qoe})}this.addresses=s,rP("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function woe(){(0,tP.registerResolver)(mv,lm),(0,tP.registerResolver)(Ev,lm)}um.setup=woe});var aP=v(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.setup=wi.PickFirstLoadBalancer=wi.shuffled=wi.PickFirstLoadBalancingConfig=void 0;var sP=Gs(),tn=ar(),Am=Ws(),voe=dt(),Soe=_e(),boe="pick_first";function Cv(n){voe.trace(Soe.LogVerbosity.DEBUG,boe,n)}var od="pick_first",Doe=250,ad=class n{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return od}toJsonObject(){return{[od]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new n(e.shuffleAddressList===!0)}};wi.PickFirstLoadBalancingConfig=ad;var Iv=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:Am.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function oP(n){let e=n.slice();for(let t=e.length-1;t>1;t--){let r=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}wi.shuffled=oP;var dm=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=tn.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.onSubchannelStateUpdate(t,r,i,o)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(tn.ConnectivityState.READY,new Iv(this.currentPick)):this.children.length===0?this.updateState(tn.ConnectivityState.IDLE,new Am.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(tn.ConnectivityState.TRANSIENT_FAILURE,new Am.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(tn.ConnectivityState.CONNECTING,new Am.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,i){var s;if(!((s=this.currentPick)===null||s===void 0)&&s.realSubchannelEquals(e)){r!==tn.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[o,a]of this.children.entries())if(e.realSubchannelEquals(a.subchannel)){r===tn.ConnectivityState.READY&&this.pickSubchannel(a.subchannel),r===tn.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),a.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let i=r.subchannel.getConnectivityState();if(i===tn.ConnectivityState.IDLE||i===tn.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===tn.ConnectivityState.IDLE&&(Cv("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var i;(i=this.children[e])===null||i===void 0||i.subchannel.startConnecting()})),this.connectionDelayTimeout=(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},Doe)).unref)===null||r===void 0?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(Cv("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.currentPick!==null&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){Cv(tn.ConnectivityState[this.currentState]+" -> "+tn.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(r=>({subchannel:this.channelControlHelper.createSubchannel(r,{}),hasReportedTransientFailure:!1}));for(let{subchannel:r}of t)r.ref(),this.channelControlHelper.addChannelzChild(r.getChannelzRef());this.resetSubchannelList(),this.children=t;for(let{subchannel:r}of this.children)if(r.addConnectivityStateListener(this.subchannelStateListener),r.getConnectivityState()===tn.ConnectivityState.READY){this.pickSubchannel(r);return}for(let r of this.children)r.subchannel.getConnectivityState()===tn.ConnectivityState.TRANSIENT_FAILURE&&(r.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof ad&&(t.getShuffleAddressList()&&(e=oP(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===tn.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return od}};wi.PickFirstLoadBalancer=dm;function Toe(){(0,sP.registerLoadBalancerType)(od,dm,ad),(0,sP.registerDefaultLoadBalancerType)(od)}wi.setup=Toe});var lP=v(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.setup=Nl.RoundRobinLoadBalancer=void 0;var Roe=Gs(),nn=ar(),hm=Ws(),koe=Ai(),Noe=dt(),_oe=_e(),Moe="round_robin";function cP(n){Noe.trace(_oe.LogVerbosity.DEBUG,Moe,n)}var fm="round_robin",yv=class n{getLoadBalancerName(){return fm}constructor(){}toJsonObject(){return{[fm]:{}}}static createFromJson(e){return new n}},Bv=class{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:hm.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}},gm=class{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=nn.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.calculateAndUpdateState(),(i===nn.ConnectivityState.TRANSIENT_FAILURE||i===nn.ConnectivityState.IDLE)&&(o&&(this.lastError=o),this.channelControlHelper.requestReresolution(),t.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(nn.ConnectivityState.READY)>0){let e=this.subchannels.filter(r=>r.getConnectivityState()===nn.ConnectivityState.READY),t=0;this.currentReadyPicker!==null&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState(nn.ConnectivityState.READY,new Bv(e,t))}else this.countSubchannelsWithState(nn.ConnectivityState.CONNECTING)>0?this.updateState(nn.ConnectivityState.CONNECTING,new hm.QueuePicker(this)):this.countSubchannelsWithState(nn.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(nn.ConnectivityState.TRANSIENT_FAILURE,new hm.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(nn.ConnectivityState.IDLE,new hm.QueuePicker(this))}updateState(e,t){cP(nn.ConnectivityState[this.currentState]+" -> "+nn.ConnectivityState[e]),e===nn.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),cP("Connect to address list "+e.map(r=>(0,koe.subchannelAddressToString)(r))),this.subchannels=e.map(r=>this.channelControlHelper.createSubchannel(r,{}));for(let r of this.subchannels){r.ref(),r.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(r.getChannelzRef());let i=r.getConnectivityState();(i===nn.ConnectivityState.IDLE||i===nn.ConnectivityState.TRANSIENT_FAILURE)&&r.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return fm}};Nl.RoundRobinLoadBalancer=gm;function Foe(){(0,Roe.registerLoadBalancerType)(fm,gm,yv)}Nl.setup=Foe});var hP=v(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.experimental=K.addAdminServicesToServer=K.getChannelzHandlers=K.getChannelzServiceDefinition=K.InterceptorConfigurationError=K.InterceptingCall=K.RequesterBuilder=K.ListenerBuilder=K.StatusBuilder=K.getClientChannel=K.ServerCredentials=K.Server=K.setLogVerbosity=K.setLogger=K.load=K.loadObject=K.CallCredentials=K.ChannelCredentials=K.waitForClientReady=K.closeClient=K.Channel=K.makeGenericClientConstructor=K.makeClientConstructor=K.loadPackageDefinition=K.Client=K.compressionAlgorithms=K.propagate=K.connectivityState=K.status=K.logVerbosity=K.Metadata=K.credentials=void 0;var pm=E0();Object.defineProperty(K,"CallCredentials",{enumerable:!0,get:function(){return pm.CallCredentials}});var Loe=K0();Object.defineProperty(K,"Channel",{enumerable:!0,get:function(){return Loe.ChannelImplementation}});var xoe=bw();Object.defineProperty(K,"compressionAlgorithms",{enumerable:!0,get:function(){return xoe.CompressionAlgorithms}});var Uoe=ar();Object.defineProperty(K,"connectivityState",{enumerable:!0,get:function(){return Uoe.ConnectivityState}});var mm=kg();Object.defineProperty(K,"ChannelCredentials",{enumerable:!0,get:function(){return mm.ChannelCredentials}});var uP=j0();Object.defineProperty(K,"Client",{enumerable:!0,get:function(){return uP.Client}});var Qv=_e();Object.defineProperty(K,"logVerbosity",{enumerable:!0,get:function(){return Qv.LogVerbosity}});Object.defineProperty(K,"status",{enumerable:!0,get:function(){return Qv.Status}});Object.defineProperty(K,"propagate",{enumerable:!0,get:function(){return Qv.Propagate}});var AP=dt(),wv=Z0();Object.defineProperty(K,"loadPackageDefinition",{enumerable:!0,get:function(){return wv.loadPackageDefinition}});Object.defineProperty(K,"makeClientConstructor",{enumerable:!0,get:function(){return wv.makeClientConstructor}});Object.defineProperty(K,"makeGenericClientConstructor",{enumerable:!0,get:function(){return wv.makeClientConstructor}});var Ooe=Dn();Object.defineProperty(K,"Metadata",{enumerable:!0,get:function(){return Ooe.Metadata}});var Poe=YO();Object.defineProperty(K,"Server",{enumerable:!0,get:function(){return Poe.Server}});var Voe=ev();Object.defineProperty(K,"ServerCredentials",{enumerable:!0,get:function(){return Voe.ServerCredentials}});var Goe=WO();Object.defineProperty(K,"StatusBuilder",{enumerable:!0,get:function(){return Goe.StatusBuilder}});K.credentials={combineChannelCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),combineCallCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),createInsecure:mm.ChannelCredentials.createInsecure,createSsl:mm.ChannelCredentials.createSsl,createFromSecureContext:mm.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:pm.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:pm.CallCredentials.createFromGoogleCredential,createEmpty:pm.CallCredentials.createEmpty};var qoe=n=>n.close();K.closeClient=qoe;var Hoe=(n,e,t)=>n.waitForReady(e,t);K.waitForClientReady=Hoe;var Yoe=(n,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};K.loadObject=Yoe;var Woe=(n,e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};K.load=Woe;var Joe=n=>{AP.setLogger(n)};K.setLogger=Joe;var zoe=n=>{AP.setLoggerVerbosity(n)};K.setLogVerbosity=zoe;var joe=n=>uP.Client.prototype.getChannel.call(n);K.getClientChannel=joe;var Em=W0();Object.defineProperty(K,"ListenerBuilder",{enumerable:!0,get:function(){return Em.ListenerBuilder}});Object.defineProperty(K,"RequesterBuilder",{enumerable:!0,get:function(){return Em.RequesterBuilder}});Object.defineProperty(K,"InterceptingCall",{enumerable:!0,get:function(){return Em.InterceptingCall}});Object.defineProperty(K,"InterceptorConfigurationError",{enumerable:!0,get:function(){return Em.InterceptorConfigurationError}});var dP=da();Object.defineProperty(K,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return dP.getChannelzServiceDefinition}});Object.defineProperty(K,"getChannelzHandlers",{enumerable:!0,get:function(){return dP.getChannelzHandlers}});var Koe=Pg();Object.defineProperty(K,"addAdminServicesToServer",{enumerable:!0,get:function(){return Koe.addAdminServicesToServer}});var $oe=hv();K.experimental=$oe;var Zoe=fw(),Xoe=XO(),eae=iP(),tae=aP(),nae=lP(),rae=dv(),iae=da();Zoe.setup(),Xoe.setup(),eae.setup(),tae.setup(),nae.setup(),rae.setup(),iae.setup()});var vD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(j(au),j(su))}}static{this.\u0275dir=Tt({type:n})}}return n})(),Xd=(()=>{class n extends vD{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Bo(n)))(i||n)}})()}static{this.\u0275dir=Tt({type:n,features:[mn]})}}return n})(),Ga=new _n("");var nq={provide:Ga,useExisting:Cr(()=>yn),multi:!0};function rq(){let n=OE()?OE().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var iq=new _n(""),yn=(()=>{class n extends vD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!rq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(j(au),j(su),j(iq,8))}}static{this.\u0275dir=Tt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Qe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ir([nq]),mn]})}}return n})();function fs(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function SD(n){return n!=null&&typeof n.length=="number"}var qa=new _n(""),eh=new _n(""),sq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Oa=class{static min(e){return bD(e)}static max(e){return oq(e)}static required(e){return DD(e)}static requiredTrue(e){return aq(e)}static email(e){return cq(e)}static minLength(e){return lq(e)}static maxLength(e){return uq(e)}static pattern(e){return Aq(e)}static nullValidator(e){return Yd(e)}static compose(e){return MD(e)}static composeAsync(e){return FD(e)}};function bD(n){return e=>{if(fs(e.value)||fs(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function oq(n){return e=>{if(fs(e.value)||fs(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function DD(n){return fs(n.value)?{required:!0}:null}function aq(n){return n.value===!0?null:{required:!0}}function cq(n){return fs(n.value)||sq.test(n.value)?null:{email:!0}}function lq(n){return e=>fs(e.value)||!SD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function uq(n){return e=>SD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Aq(n){if(!n)return Yd;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(fs(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Yd(n){return null}function TD(n){return n!=null}function RD(n){return iD(n)?yo(n):n}function kD(n){let e={};return n.forEach(t=>{e=t!=null?_(_({},e),t):e}),Object.keys(e).length===0?null:e}function ND(n,e){return e.map(t=>t(n))}function dq(n){return!n.validate}function _D(n){return n.map(e=>dq(e)?e:t=>e.validate(t))}function MD(n){if(!n)return null;let e=n.filter(TD);return e.length==0?null:function(t){return kD(ND(t,e))}}function YE(n){return n!=null?MD(_D(n)):null}function FD(n){if(!n)return null;let e=n.filter(TD);return e.length==0?null:function(t){let r=ND(t,e).map(RD);return zb(r).pipe(ru(kD))}}function WE(n){return n!=null?FD(_D(n)):null}function pD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function LD(n){return n._rawValidators}function xD(n){return n._rawAsyncValidators}function PE(n){return n?Array.isArray(n)?n:[n]:[]}function Wd(n,e){return Array.isArray(n)?n.includes(e):n===e}function mD(n,e){let t=PE(e);return PE(n).forEach(i=>{Wd(t,i)||t.push(i)}),t}function ED(n,e){return PE(e).filter(t=>!Wd(n,t))}var Jd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=YE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=WE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},_i=class extends Jd{get formDirective(){return null}get path(){return null}},vo=class extends Jd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},She=W(_({},hq),{"[class.ng-submitted]":"isSubmitted"}),jn=(()=>{class n extends zd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(vo,2))}}static{this.\u0275dir=Tt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&NE("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[mn]})}}return n})(),ps=(()=>{class n extends zd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(_i,10))}}static{this.\u0275dir=Tt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&NE("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[mn]})}}return n})();var cu="VALID",Hd="INVALID",xa="PENDING",lu="DISABLED",gs=class{},jd=class extends gs{constructor(e,t){super(),this.value=e,this.source=t}},Au=class extends gs{constructor(e,t){super(),this.pristine=e,this.source=t}},du=class extends gs{constructor(e,t){super(),this.touched=e,this.source=t}},Ua=class extends gs{constructor(e,t){super(),this.status=e,this.source=t}},VE=class extends gs{constructor(e){super(),this.source=e}},GE=class extends gs{constructor(e){super(),this.source=e}};function JE(n){return(th(n)?n.validators:n)||null}function fq(n){return Array.isArray(n)?YE(n):n||null}function zE(n,e){return(th(e)?e.asyncValidators:n)||null}function gq(n){return Array.isArray(n)?WE(n):n||null}function th(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function UD(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new xd(1e3,"");if(!r[t])throw new xd(1001,"")}function OD(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new xd(1002,"")})}var Pa=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Fa(()=>this.statusReactive()),this.statusReactive=ds(void 0),this._pristine=Fa(()=>this.pristineReactive()),this.pristineReactive=ds(!0),this._touched=Fa(()=>this.touchedReactive()),this.touchedReactive=ds(!1),this._events=new Yb,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ni(this.statusReactive)}set status(e){Ni(()=>this.statusReactive.set(e))}get valid(){return this.status===cu}get invalid(){return this.status===Hd}get pending(){return this.status==xa}get disabled(){return this.status===lu}get enabled(){return this.status!==lu}get pristine(){return Ni(this.pristineReactive)}set pristine(e){Ni(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ni(this.touchedReactive)}set touched(e){Ni(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ED(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ED(e,this._rawAsyncValidators))}hasValidator(e){return Wd(this._rawValidators,e)}hasAsyncValidator(e){return Wd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(W(_({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new du(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new du(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(W(_({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Au(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Au(!0,r))}markAsPending(e={}){this.status=xa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ua(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(W(_({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=lu,this.errors=null,this._forEachChild(i=>{i.disable(W(_({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jd(this.value,r)),this._events.next(new Ua(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(_({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=cu,this._forEachChild(r=>{r.enable(W(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(W(_({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cu||this.status===xa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jd(this.value,t)),this._events.next(new Ua(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(W(_({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lu:cu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=xa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=RD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ua(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new wo,this.statusChanges=new wo}_calculateStatus(){return this._allControlsDisabled()?lu:this.errors?Hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xa)?xa:this._anyControlsHaveStatus(Hd)?Hd:cu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Au(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new du(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){th(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=gq(this._rawAsyncValidators)}},Va=class extends Pa{constructor(e,t,r){super(JE(t),zE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){OD(this,!0,e),Object.keys(e).forEach(r=>{UD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var qE=class extends Va{};var fu=new _n("CallSetDisabledState",{providedIn:"root",factory:()=>nh}),nh="always";function PD(n,e){return[...e.path,n]}function Kd(n,e,t=nh){jE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),mq(n,e),Cq(n,e),Eq(n,e),pq(n,e)}function CD(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $d(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pq(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function jE(n,e){let t=LD(n);e.validator!==null?n.setValidators(pD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=xD(n);e.asyncValidator!==null?n.setAsyncValidators(pD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();$d(e._rawValidators,i),$d(e._rawAsyncValidators,i)}function Zd(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=LD(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=xD(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return $d(e._rawValidators,r),$d(e._rawAsyncValidators,r),t}function mq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&VD(n,e)})}function Eq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&VD(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function VD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Cq(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function GD(n,e){n==null,jE(n,e)}function Iq(n,e){return Zd(n,e)}function qD(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function yq(n){return Object.getPrototypeOf(n.constructor)===Xd}function HD(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function YD(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===yn?t=s:yq(s)?r=s:i=s}),i||r||t||null}function Bq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Qq={provide:_i,useExisting:Cr(()=>So)},uu=Promise.resolve(),So=(()=>{class n extends _i{get submitted(){return Ni(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Fa(()=>this.submittedReactive()),this.submittedReactive=ds(!1),this._directives=new Set,this.ngSubmit=new wo,this.form=new Va({},YE(t),WE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){uu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Kd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){uu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){uu.then(()=>{let r=this._findContainer(t.path),i=new Va({});GD(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){uu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){uu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),HD(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(j(qa,10),j(eh,10),j(fu,8))}}static{this.\u0275dir=Tt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Qe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ir([Qq]),mn]})}}return n})();function ID(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function yD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var hu=class extends Pa{constructor(e=null,t,r){super(JE(t),zE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),th(t)&&(t.nonNullable||t.initialValueIsDefault)&&(yD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ID(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ID(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){yD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wq=n=>n instanceof hu;var vq={provide:vo,useExisting:Cr(()=>yr)},BD=Promise.resolve(),yr=(()=>{class n extends vo{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new hu,this._registered=!1,this.name="",this.update=new wo,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YD(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),qD(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){BD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&UE(r);BD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?PD(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(j(_i,9),j(qa,10),j(eh,10),j(Ga,10),j(sD,8),j(fu,8))}}static{this.\u0275dir=Tt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ir([vq]),mn,iu]})}}return n})(),ms=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Tt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Sq={provide:Ga,useExisting:Cr(()=>KE),multi:!0},KE=(()=>{class n extends Xd{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Bo(n)))(i||n)}})()}static{this.\u0275dir=Tt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Qe("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ir([Sq]),mn]})}}return n})();var WD=new _n("");var bq={provide:_i,useExisting:Cr(()=>$E)},$E=(()=>{class n extends _i{get submitted(){return Ni(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Fa(()=>this._submittedReactive()),this._submittedReactive=ds(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new wo,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Kd(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){CD(t.control||null,t,!1),Bq(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),HD(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new VE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new GE(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(CD(r||null,t),wq(i)&&(Kd(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);GD(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Iq(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jE(this.form,this),this._oldForm&&Zd(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(j(qa,10),j(eh,10),j(fu,8))}}static{this.\u0275dir=Tt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Qe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ir([bq]),mn,iu]})}}return n})();var Dq={provide:vo,useExisting:Cr(()=>ZE)},ZE=(()=>{class n extends vo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new wo,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YD(this,s)}ngOnChanges(t){this._added||this._setUpControl(),qD(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return PD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(j(_i,13),j(qa,10),j(eh,10),j(Ga,10),j(WD,8))}}static{this.\u0275dir=Tt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ir([Dq]),mn,iu]})}}return n})(),Tq={provide:Ga,useExisting:Cr(()=>rh),multi:!0};function JD(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Rq(n){return n.split(":")[0]}var rh=(()=>{class n extends Xd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=JD(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Rq(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Bo(n)))(i||n)}})()}static{this.\u0275dir=Tt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Qe("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ir([Tq]),mn]})}}return n})(),zD=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(JD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(j(su),j(au),j(rh,9))}}static{this.\u0275dir=Tt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),kq={provide:Ga,useExisting:Cr(()=>jD),multi:!0};function QD(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Nq(n){return n.split(":")[0]}var jD=(()=>{class n extends Xd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],l=this._getOptionValue(c.value);i.push(l)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Nq(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Bo(n)))(i||n)}})()}static{this.\u0275dir=Tt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Qe("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ir([kq]),mn]})}}return n})(),KD=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(QD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(QD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(j(su),j(au),j(jD,9))}}static{this.\u0275dir=Tt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function _q(n){return typeof n=="number"?n:parseFloat(n)}var $D=(()=>{class n{constructor(){this._validator=Yd}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Yd,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Tt({type:n,features:[iu]})}}return n})();var Mq={provide:qa,useExisting:Cr(()=>XE),multi:!0},XE=(()=>{class n extends $D{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>_q(t),this.createValidator=t=>bD(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Bo(n)))(i||n)}})()}static{this.\u0275dir=Tt({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ma("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Ir([Mq]),mn]})}}return n})(),Fq={provide:qa,useExisting:Cr(()=>gu),multi:!0};var gu=(()=>{class n extends $D{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=UE,this.createValidator=t=>DD}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Bo(n)))(i||n)}})()}static{this.\u0275dir=Tt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ma("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ir([Fq]),mn]})}}return n})();var ZD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Od({type:n})}static{this.\u0275inj=Ud({})}}return n})(),HE=class extends Pa{constructor(e,t,r){super(JE(t),zE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){OD(this,!1,e),e.forEach((r,i)=>{UD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function wD(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var XD=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return wD(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Va(i,s)}record(t,r=null){let i=this._reduceControls(t);return new qE(i,r)}control(t,r,i){let s={};return this.useNonNullable?(wD(r)?s=r:(s.validators=r,s.asyncValidators=i),new hu(t,W(_({},s),{nonNullable:!0}))):new hu(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new HE(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof hu)return t;if(t instanceof Pa)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Kr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fu,useValue:t.callSetDisabledState??nh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Od({type:n})}static{this.\u0275inj=Ud({imports:[ZD]})}}return n})(),eT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:WD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:fu,useValue:t.callSetDisabledState??nh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Od({type:n})}static{this.\u0275inj=Ud({imports:[ZD]})}}return n})();var Kn=class n{constructor(e){this.http=e}searchQuerySubject=new Wr("");categorySubject=new Wr("");searchQuery$=this.searchQuerySubject.asObservable();category$=this.categorySubject.asObservable();getAllProducts(){return this.http.get("https://dummyjson.com/products")}getAllCats(){return this.http.get("https://dummyjson.com/products/category-list")}getProductBycategory(e){return this.http.get(`https://dummyjson.com/products/category/${e}`)}getProductBykey(e){return this.http.get(`https://dummyjson.com/products/search?q=${e}`)}getProductById(e){return this.http.get(`https://dummyjson.com/products/${e}`)}setSearchQuery(e){this.searchQuerySubject.next(e)}setCategory(e){this.categorySubject.next(e)}static \u0275fac=function(t){return new(t||n)(Dt(lD))};static \u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"})};function Lq(n,e){if(n&1&&(D(0,"option",10),F(1),R()),n&2){let t=e.$implicit;Be("value",t),J(),cn(" ",t," ")}}var sh=class n{constructor(e){this.ps=e}searchQuery="";category="All Categories";categories=[];ngOnInit(){this.getAllCats(),this.ps.searchQuery$.pipe(Ld(300)).subscribe(e=>{this.searchQuery=e}),this.ps.category$.pipe(Ld(300)).subscribe(e=>{this.category=e})}getAllCats(){this.ps.getAllCats().subscribe(e=>{this.categories=e}),this.ps.searchQuery$.pipe(Ld(300)).subscribe(e=>{this.searchQuery=e})}onSearch(){return this.ps.setSearchQuery(this.searchQuery),!1}onChange(){return this.ps.setCategory(this.category),!1}static \u0275fac=function(t){return new(t||n)(j(Kn))};static \u0275cmp=Ke({type:n,selectors:[["app-search-bar"]],standalone:!0,features:[$e],decls:12,vars:3,consts:[[1,"search-bar","row","bg-light","p-2","my-2","rounded-4"],[1,"col-md-4","d-none","d-md-block"],[1,"form-select","border-0","bg-transparent",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-11","col-md-7"],["id","search-form","method","post",1,"text-center",3,"ngSubmit"],["name","search","type","text","placeholder","Search for what you want",1,"form-control","border-0","bg-transparent",3,"ngModelChange","input","ngModel"],[1,"col-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","currentColor","d","M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"],[3,"value"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1)(2,"select",2),In("ngModelChange",function(s){return Cn(r.category,s)||(r.category=s),s}),Qe("change",function(){return r.onChange()}),D(3,"option"),F(4,"All Categories"),R(),Ye(5,Lq,2,2,"option",3),R()(),D(6,"div",4)(7,"form",5),Qe("ngSubmit",function(){return r.onSearch()}),D(8,"input",6),In("ngModelChange",function(s){return Cn(r.searchQuery,s)||(r.searchQuery=s),s}),Qe("input",function(){return r.onSearch()}),R()()(),D(9,"div",7),Me(),D(10,"svg",8),z(11,"path",9),R()()()),t&2&&(J(2),En("ngModel",r.category),J(3),Be("ngForOf",r.categories),J(3),En("ngModel",r.searchQuery))},dependencies:[Kt,zr,Kr,ms,zD,KD,yn,rh,jn,ps,yr,So]})};var oh=class{id;userId;montant;dateCommande;details;constructor(e,t,r,i){this.userId=e,this.montant=t,this.dateCommande=r,this.details=i}};var ah=class{productid;qte;constructor(e,t){this.productid=e,this.qte=t}};var xq={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var nT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Uq=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=s>>2,A=(s&3)<<4|a>>4,d=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(d=64)),r.push(t[u],t[A],t[d],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Uq(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let A=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||A==null)throw new tC;let d=s<<2|a>>4;if(r.push(d),l!==64){let f=a<<4&240|l>>2;if(r.push(f),A!==64){let Q=l<<6&192|A;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},tC=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Oq=function(n){let e=nT(n);return rT.encodeByteArray(e,!0)},pu=function(n){return Oq(n).replace(/\./g,"")},rC=function(n){try{return rT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Pq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Vq=()=>Pq().__FIREBASE_DEFAULTS__,Gq=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qq=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&rC(n[1]);return e&&JSON.parse(e)},iC=()=>{try{return Vq()||Gq()||qq()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sC=n=>{var e,t;return(t=(e=iC())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},iT=n=>{let e=sC(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},oC=()=>{var n;return(n=iC())===null||n===void 0?void 0:n.config};var ch=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function sT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pu(JSON.stringify(t)),pu(JSON.stringify(o)),""].join(".")}function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function Hq(){var n;let e=(n=iC())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uT(){return!Hq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aC(){try{return typeof indexedDB=="object"}catch{return!1}}function AT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Yq="FirebaseError",Mn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Yq,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mi.prototype.create)}},Mi=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Wq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mn(i,a,r)}};function Wq(n,e){return n.replace(Jq,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Jq=/\{\$([^}]+)}/g;function Do(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(tT(s)&&tT(o)){if(!Do(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function tT(n){return n!==null&&typeof n=="object"}function cC(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ya(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wa(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function dT(n,e){let t=new nC(n,e);return t.subscribe.bind(t)}var nC=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");zq(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=eC),i.error===void 0&&(i.error=eC),i.complete===void 0&&(i.complete=eC);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zq(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function eC(){}var xhe=4*60*60*1e3;function kt(n){return n&&n._delegate?n._delegate:n}xq.NODE_CLIENT=!0;var $n=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var To="[DEFAULT]";var lC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ch;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kq(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jq(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jq(n){return n===To?void 0:n}function Kq(n){return n.instantiationMode==="EAGER"}var lh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new lC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var $q=[],Ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ce||{}),Zq={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Xq=Ce.INFO,eH={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},tH=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=eH[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Es=class{constructor(e){this.name=e,this._logLevel=Xq,this._logHandler=tH,this._userLogHandler=null,$q.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var nH=(n,e)=>e.some(t=>n instanceof t),hT,fT;function rH(){return hT||(hT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iH(){return fT||(fT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gT=new WeakMap,AC=new WeakMap,pT=new WeakMap,uC=new WeakMap,hC=new WeakMap;function sH(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t($r(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,n)}).catch(()=>{}),hC.set(e,n),e}function oH(n){if(AC.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});AC.set(n,e)}var dC={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return AC.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $r(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mT(n){dC=n(dC)}function aH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(uh(this),e,...t);return pT.set(r,e.sort?e.sort():[e]),$r(r)}:iH().includes(n)?function(...e){return n.apply(uh(this),e),$r(gT.get(this))}:function(...e){return $r(n.apply(uh(this),e))}}function cH(n){return typeof n=="function"?aH(n):(n instanceof IDBTransaction&&oH(n),nH(n,rH())?new Proxy(n,dC):n)}function $r(n){if(n instanceof IDBRequest)return sH(n);if(uC.has(n))return uC.get(n);let e=cH(n);return e!==n&&(uC.set(n,e),hC.set(e,n)),e}var uh=n=>hC.get(n);function CT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=$r(o);return r&&o.addEventListener("upgradeneeded",c=>{r($r(o.result),c.oldVersion,c.newVersion,$r(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var lH=["get","getKey","getAll","getAllKeys","count"],uH=["put","add","delete","clear"],fC=new Map;function ET(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fC.get(e))return fC.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=uH.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lH.includes(t)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return fC.set(e,s),s}mT(n=>W(_({},n),{get:(e,t,r)=>ET(e,t)||n.get(e,t,r),has:(e,t)=>!!ET(e,t)||n.has(e,t)}));var pC=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AH(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function AH(n){let e=n.getComponent();return e?.type==="VERSION"}var mC="@firebase/app",IT="0.10.13";var Fi=new Es("@firebase/app"),dH="@firebase/app-compat",hH="@firebase/analytics-compat",fH="@firebase/analytics",gH="@firebase/app-check-compat",pH="@firebase/app-check",mH="@firebase/auth",EH="@firebase/auth-compat",CH="@firebase/database",IH="@firebase/data-connect",yH="@firebase/database-compat",BH="@firebase/functions",QH="@firebase/functions-compat",wH="@firebase/installations",vH="@firebase/installations-compat",SH="@firebase/messaging",bH="@firebase/messaging-compat",DH="@firebase/performance",TH="@firebase/performance-compat",RH="@firebase/remote-config",kH="@firebase/remote-config-compat",NH="@firebase/storage",_H="@firebase/storage-compat",MH="@firebase/firestore",FH="@firebase/vertexai-preview",LH="@firebase/firestore-compat",xH="firebase",UH="10.14.1";var EC="[DEFAULT]",OH={[mC]:"fire-core",[dH]:"fire-core-compat",[fH]:"fire-analytics",[hH]:"fire-analytics-compat",[pH]:"fire-app-check",[gH]:"fire-app-check-compat",[mH]:"fire-auth",[EH]:"fire-auth-compat",[CH]:"fire-rtdb",[IH]:"fire-data-connect",[yH]:"fire-rtdb-compat",[BH]:"fire-fn",[QH]:"fire-fn-compat",[wH]:"fire-iid",[vH]:"fire-iid-compat",[SH]:"fire-fcm",[bH]:"fire-fcm-compat",[DH]:"fire-perf",[TH]:"fire-perf-compat",[RH]:"fire-rc",[kH]:"fire-rc-compat",[NH]:"fire-gcs",[_H]:"fire-gcs-compat",[MH]:"fire-fst",[LH]:"fire-fst-compat",[FH]:"fire-vertex","fire-js":"fire-js",[xH]:"fire-js-all"};var mu=new Map,PH=new Map,CC=new Map;function yT(n,e){try{n.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Is(n){let e=n.name;if(CC.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;CC.set(e,n);for(let t of mu.values())yT(t,n);for(let t of PH.values())yT(t,n);return!0}function Cu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Li(n){return n.settings!==void 0}var VH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Mi("app","Firebase",VH);var IC=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}};var Ja=UH;function QC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:EC,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(t||(t=oC()),!t)throw Cs.create("no-options");let s=mu.get(i);if(s){if(Do(t,s.options)&&Do(r,s.config))return s;throw Cs.create("duplicate-app",{appName:i})}let o=new lh(i);for(let c of CC.values())o.addComponent(c);let a=new IC(t,r,o);return mu.set(i,a),a}function za(n=EC){let e=mu.get(n);if(!e&&n===EC&&oC())return QC();if(!e)throw Cs.create("no-app",{appName:n});return e}function Ah(){return Array.from(mu.values())}function Nt(n,e,t){var r;let i=(r=OH[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}Is(new $n(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var GH="firebase-heartbeat-database",qH=1,Eu="firebase-heartbeat-store",gC=null;function vT(){return gC||(gC=CT(GH,qH,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Eu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cs.create("idb-open",{originalErrorMessage:n.message})})),gC}function HH(n){return m(this,null,function*(){try{let t=(yield vT()).transaction(Eu),r=yield t.objectStore(Eu).get(ST(n));return yield t.done,r}catch(e){if(e instanceof Mn)Fi.warn(e.message);else{let t=Cs.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(t.message)}}})}function BT(n,e){return m(this,null,function*(){try{let r=(yield vT()).transaction(Eu,"readwrite");yield r.objectStore(Eu).put(e,ST(n)),yield r.done}catch(t){if(t instanceof Mn)Fi.warn(t.message);else{let r=Cs.create("idb-set",{originalErrorMessage:t?.message});Fi.warn(r.message)}}})}function ST(n){return`${n.name}!${n.options.appId}`}var YH=1024,WH=30*24*60*60*1e3,yC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new BC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=WH}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fi.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=QT(),{heartbeatsToSend:r,unsentEntries:i}=JH(this._heartbeatsCache.heartbeats),s=pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Fi.warn(t),""}})}};function QT(){return new Date().toISOString().substring(0,10)}function JH(n,e=YH){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wT(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),wT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var BC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return aC()?AT().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield HH(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function wT(n){return pu(JSON.stringify({version:2,heartbeats:n})).length}function zH(n){Is(new $n("platform-logger",e=>new pC(e),"PRIVATE")),Is(new $n("heartbeat",e=>new yC(e),"PRIVATE")),Nt(mC,IT,n),Nt(mC,IT,"esm2017"),Nt("fire-js","")}zH("");var jH="firebase",KH="10.14.1";Nt(jH,KH,"app");var ko=new xE("ANGULARFIRE2_VERSION");function hh(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Iu=(n,e)=>{let t=e?[e]:Ah(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ka=class{constructor(){return Iu($H)}},$H="app-check";function ja(){}var dh=class{zone;delegate;constructor(e,t=Jb){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},wC=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)),t.pipe(jb({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$a=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new dh(Zone.current)),this.insideAngular=t.run(()=>new dh(Zone.current,Wb)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Dt(As))};static \u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function ZH(n){return fh().ngZone.runOutsideAngular(()=>n())}function Ro(n){return fh().ngZone.run(()=>n())}function XH(n){return e3(fh())(n)}function e3(n){return function(t){return t=t.lift(new wC(n.ngZone)),t.pipe(RE(n.outsideAngular),TE(n.insideAngular))}}var t3=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ro(()=>n.apply(void 0,r))},_t=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Ro(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja))),r[s]=t3(r[s],t));let i=ZH(()=>n.apply(this,r));if(!e)if(i instanceof Io){let s=fh();return i.pipe(RE(s.outsideAngular),TE(s.insideAngular))}else return Ro(()=>i);return i instanceof Io?i.pipe(XH):i instanceof Promise?Ro(()=>new Promise((s,o)=>i.then(a=>Ro(()=>s(a)),a=>Ro(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ro(()=>i)};var xi=class{constructor(e){return e}},No=class{constructor(){return Ah()}};function n3(n){return n&&n.length===1?n[0]:new xi(za())}var vC=new _n("angularfire2._apps"),r3={provide:xi,useFactory:n3,deps:[[new zn,vC]]},i3={provide:No,deps:[[new zn,vC]]};function s3(n){return(e,t)=>{let r=t.get(Kb);Nt("angularfire",ko.full,"core"),Nt("angularfire",ko.full,"app"),Nt("angular",rD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new xi(i)}}function bT(n,...e){return _a([r3,i3,{provide:vC,useFactory:s3(n),multi:!0,deps:[As,Qo,$a,...e]}])}var DT=_t(QC,!0);var Yc=Fd(MB(),1);function pL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var mL=pL,EL=new Mi("auth","Firebase",pL());var hg=new Es("@firebase/auth");function f$(n,...e){hg.logLevel<=Ce.WARN&&hg.warn(`Auth (${Ja}): ${n}`,...e)}function dg(n,...e){hg.logLevel<=Ce.ERROR&&hg.error(`Auth (${Ja}): ${n}`,...e)}function qc(n,...e){throw jB(n,...e)}function zB(n,...e){return jB(n,...e)}function CL(n,e,t){let r=Object.assign(Object.assign({},mL()),{[e]:t});return new Mi("auth","Firebase",r).create(e,{appName:n.name})}function ra(n){return CL(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jB(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return EL.create(n,...e)}function we(n,e,...t){if(!n)throw jB(e,...t)}function zi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw dg(e),new Error(e)}function fg(n,e){n||zi(e)}function g$(){return oL()==="http:"||oL()==="https:"}function oL(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function p$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g$()||cT()||"connection"in navigator)?navigator.onLine:!0}function m$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var xB=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,fg(t>e,"Short delay should be less than long delay!"),this.isMobile=oT()||lT()}get(){return p$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function E$(n,e){fg(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var QA=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var C$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I$=new xB(3e4,6e4);function ia(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Us(s,o,a,c){return m(this,arguments,function*(n,e,t,r,i={}){return IL(n,i,()=>m(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let A=cC(Object.assign({key:n.config.apiKey},u)).slice(1),d=yield n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);let f=Object.assign({method:e,headers:d},l);return aT()||(f.referrerPolicy="no-referrer"),QA.fetch()(yL(n,n.config.apiHost,t,A),f)}))})}function IL(n,e,t){return m(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},C$),e);try{let i=new UB(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ag(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ag(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ag(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ag(n,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw CL(n,u,l);qc(n,u)}}catch(i){if(i instanceof Mn)throw i;qc(n,"network-request-failed",{message:String(i)})}})}function Qg(s,o,a,c){return m(this,arguments,function*(n,e,t,r,i={}){let l=yield Us(n,e,t,r,i);return"mfaPendingCredential"in l&&qc(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function yL(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?E$(n.config,i):`${n.config.apiScheme}://${i}`}function y$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var UB=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zB(this.auth,"network-request-failed")),I$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ag(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=zB(n,e,r);return i.customData._tokenResponse=t,i}function aL(n){return n!==void 0&&n.enterprise!==void 0}var OB=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return y$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function B$(n,e){return m(this,null,function*(){return Us(n,"GET","/v2/recaptchaConfig",ia(n,e))})}function Q$(n,e){return m(this,null,function*(){return Us(n,"POST","/v1/accounts:delete",e)})}function BL(n,e){return m(this,null,function*(){return Us(n,"POST","/v1/accounts:lookup",e)})}function yA(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function KB(n,e=!1){return m(this,null,function*(){let t=kt(n),r=yield t.getIdToken(e),i=QL(r);we(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:yA(FB(i.auth_time)),issuedAtTime:yA(FB(i.iat)),expirationTime:yA(FB(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function FB(n){return Number(n)*1e3}function QL(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return dg("JWT malformed, contained fewer than 3 sections"),null;try{let i=rC(t);return i?JSON.parse(i):(dg("Failed to decode base64 JWT payload"),null)}catch(i){return dg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cL(n){let e=QL(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gg(n,e,t=!1){return m(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Mn&&w$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function w$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var PB=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),t)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wA=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yA(this.lastLoginAt),this.creationTime=yA(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function pg(n){return m(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield gg(n,BL(t,{idToken:r}));we(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wL(s.providerUserInfo):[],a=v$(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,u=c?l:!1,A={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wA(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,A)})}function $B(n){return m(this,null,function*(){let e=kt(n);yield pg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function v$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wL(n){return n.map(e=>{var{providerId:t}=e,r=DE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function S$(n,e){return m(this,null,function*(){let t=yield IL(n,{},()=>m(this,null,function*(){let r=cC({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yL(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QA.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function b$(n,e){return m(this,null,function*(){return Us(n,"POST","/v2/accounts:revokeToken",ia(n,e))})}var BA=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");let t=cL(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return m(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield S$(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(we(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return zi("not implemented")}};function xs(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Hc=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=DE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wA(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let t=yield gg(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return KB(this,e)}reload(){return $B(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield pg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(Li(this.auth.app))return Promise.reject(ra(this.auth));let e=yield this.getIdToken();return yield gg(this,Q$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;let A=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(i=t.email)!==null&&i!==void 0?i:void 0,f=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,Q=(o=t.photoURL)!==null&&o!==void 0?o:void 0,C=(a=t.tenantId)!==null&&a!==void 0?a:void 0,I=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,S=(l=t.createdAt)!==null&&l!==void 0?l:void 0,b=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:M,emailVerified:k,isAnonymous:O,providerData:q,stsTokenManager:B}=t;we(M&&B,e,"internal-error");let E=BA.fromJSON(this.name,B);we(typeof M=="string",e,"internal-error"),xs(A,e.name),xs(d,e.name),we(typeof k=="boolean",e,"internal-error"),we(typeof O=="boolean",e,"internal-error"),xs(f,e.name),xs(Q,e.name),xs(C,e.name),xs(I,e.name),xs(S,e.name),xs(b,e.name);let y=new n({uid:M,auth:e,email:d,emailVerified:k,displayName:A,isAnonymous:O,photoURL:Q,phoneNumber:f,tenantId:C,stsTokenManager:E,createdAt:S,lastLoginAt:b});return q&&Array.isArray(q)&&(y.providerData=q.map(w=>Object.assign({},w))),I&&(y._redirectEventId=I),y}static _fromIdTokenResponse(e,t,r=!1){return m(this,null,function*(){let i=new BA;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pg(s),s})}static _fromGetAccountInfoResponse(e,t,r){return m(this,null,function*(){let i=t.users[0];we(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?wL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new BA;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var lL=new Map;function na(n){fg(n instanceof Function,"Expected a class definition");let e=lL.get(n);return e?(fg(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lL.set(n,e),e)}var D$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(t,r){return m(this,null,function*(){this.storage[t]=r})}_get(t){return m(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return m(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),VB=D$;function LB(n,e,t){return`firebase:${n}:${e}:${t}`}var mg=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=LB(this.userKey,i.apiKey,s),this.fullPersistenceKey=LB("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Hc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(this,null,function*(){if(!t.length)return new n(na(VB),e,r);let i=(yield Promise.all(t.map(l=>m(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||na(VB),o=LB(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(o);if(u){let A=Hc._fromJSON(e,u);l!==s&&(a=A),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>m(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function uL(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M$(e))return"Blackberry";if(F$(e))return"Webos";if(R$(e))return"Safari";if((e.includes("chrome/")||k$(e))&&!e.includes("edge/"))return"Chrome";if(_$(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function T$(n=Fn()){return/firefox\//i.test(n)}function R$(n=Fn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k$(n=Fn()){return/crios\//i.test(n)}function N$(n=Fn()){return/iemobile/i.test(n)}function _$(n=Fn()){return/android/i.test(n)}function M$(n=Fn()){return/blackberry/i.test(n)}function F$(n=Fn()){return/webos/i.test(n)}function vL(n,e=[]){let t;switch(n){case"Browser":t=uL(Fn());break;case"Worker":t=`${uL(Fn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ja}/${r}`}var GB=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function L$(t){return m(this,arguments,function*(n,e={}){return Us(n,"GET","/v2/passwordPolicy",ia(n,e))})}var x$=6,qB=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:x$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Eg=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cg(this),this.idTokenSubscription=new Cg(this),this.beforeStateQueue=new GB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=na(t)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield mg.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return m(this,null,function*(){try{let t=yield BL(this,{idToken:e}),r=yield Hc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return m(this,null,function*(){var t;if(Li(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield pg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=m$()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){if(Li(this.app))return Promise.reject(ra(this));let t=e?kt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return m(this,null,function*(){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return Li(this.app)?Promise.reject(ra(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Li(this.app)?Promise.reject(ra(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(na(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield L$(this),t=new qB(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield b$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&na(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=yield mg.create(this,[na(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return m(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&f$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Wc(n){return kt(n)}var Cg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dT(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var SL={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U$(n){return SL.loadJS(n)}function O$(){return SL.recaptchaEnterpriseScript}var P$="recaptcha-enterprise",V$="NO_RECAPTCHA",HB=class{constructor(e){this.type=P$,this.auth=Wc(e)}verify(e="verify",t=!1){return m(this,null,function*(){function r(s){return m(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>m(this,null,function*(){B$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new OB(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;aL(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(V$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&aL(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=O$();c.length!==0&&(c+=a),U$(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function AL(n,e,t,r=!1){return m(this,null,function*(){let i=new HB(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function YB(n,e,t,r){return m(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield AL(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>m(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield AL(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function ZB(n,e){let t=Cu(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Do(s,e??{}))return i;qc(i,"already-initialized")}return t.initialize({options:e})}function G$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(na);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function XB(n,e,t){let r=Wc(n);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=bL(e),{host:o,port:a}=q$(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||H$()}function bL(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function q$(n){let e=bL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:dL(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:dL(o)}}}function dL(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function H$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ig=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,t){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}};function Y$(n,e){return m(this,null,function*(){return Us(n,"POST","/v1/accounts:signUp",e)})}function W$(n,e){return m(this,null,function*(){return Qg(n,"POST","/v1/accounts:signInWithPassword",ia(n,e))})}function J$(n,e){return m(this,null,function*(){return Qg(n,"POST","/v1/accounts:signInWithEmailLink",ia(n,e))})}function z$(n,e){return m(this,null,function*(){return Qg(n,"POST","/v1/accounts:signInWithEmailLink",ia(n,e))})}var vA=class n extends Ig{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return m(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YB(e,t,"signInWithPassword",W$);case"emailLink":return J$(e,{email:this._email,oobCode:this._password});default:qc(e,"internal-error")}})}_linkToIdToken(e,t){return m(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YB(e,r,"signUpPassword",Y$);case"emailLink":return z$(e,{idToken:t,email:this._email,oobCode:this._password});default:qc(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function j$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K$(n){let e=Ya(Wa(n)).link,t=e?Ya(Wa(e)).deep_link_id:null,r=Ya(Wa(n)).deep_link_id;return(r?Ya(Wa(r)).link:null)||r||t||e||n}var yg=class n{constructor(e){var t,r,i,s,o,a;let c=Ya(Wa(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,A=j$((i=c.mode)!==null&&i!==void 0?i:null);we(l&&u&&A,"argument-error"),this.apiKey=l,this.operation=A,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=K$(e);try{return new n(t)}catch{return null}}};var DL=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return vA._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=yg.parseLink(r);return we(i,"argument-error"),vA._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})();function $$(n,e){return m(this,null,function*(){return Qg(n,"POST","/v1/accounts:signUp",ia(n,e))})}var Bg=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(this,null,function*(){let s=yield Hc._fromIdTokenResponse(e,r,i),o=hL(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return m(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=hL(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function hL(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var WB=class n extends Mn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Z$(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?WB._fromErrorAndOperation(n,s,e,r):s})}function X$(n,e,t=!1){return m(this,null,function*(){if(Li(n.app))return Promise.reject(ra(n));let r="signIn",i=yield Z$(n,r,e),s=yield Bg._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function e0(n,e){return m(this,null,function*(){return X$(Wc(n),e)})}function TL(n){return m(this,null,function*(){let e=Wc(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function t0(n,e,t){return m(this,null,function*(){if(Li(n.app))return Promise.reject(ra(n));let r=Wc(n),o=yield YB(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$$).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&TL(n),c}),a=yield Bg._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function n0(n,e,t){return Li(n.app)?Promise.reject(ra(n)):e0(kt(n),DL.credential(e,t)).catch(r=>m(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&TL(n),r}))}function eZ(n,e){return m(this,null,function*(){return Us(n,"POST","/v1/accounts:update",e)})}function r0(r,i){return m(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=kt(n),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield gg(s,eZ(s.auth,a));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;let l=s.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(c)})}function wg(n,e,t,r){return kt(n).onIdTokenChanged(e,t,r)}var fL="@firebase/auth",gL="1.7.9";var JB=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function tZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nZ(n){Is(new $n("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vL(n)},l=new Eg(r,i,s,c);return G$(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Is(new $n("auth-internal",e=>{let t=Wc(e.getProvider("auth").getImmediate());return(r=>new JB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nt(fL,gL,tZ(n)),Nt(fL,gL,"esm2017")}QA.initialize(Yc.fetch,Yc.Headers,Yc.Response);function i0(n=za()){let e=Cu(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ZB(n),r=sC("auth");return r&&XB(t,`http://${r}`),t}nZ("Node");var hme=zB("operation-not-supported-in-this-environment");Eg.prototype.setPersistence=()=>m(void 0,null,function*(){});var qme=Fd(MB(),1);function NL(n){return new Io(function(e){var t=wg(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var _L="auth",sa=class{constructor(e){return e}},SA=class{constructor(){return Iu(_L)}};var s0=new _n("angularfire2.auth-instances");function YZ(n,e){let t=hh(_L,n,e);return t&&new sa(t)}function WZ(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new sa(r)}}var JZ={provide:SA,deps:[[new zn,s0]]},zZ={provide:sa,useFactory:YZ,deps:[[new zn,s0],xi]};function ML(n,...e){return Nt("angularfire",ko.full,"auth"),_a([zZ,JZ,{provide:s0,useFactory:WZ(n),multi:!0,deps:[As,Qo,$a,No,[new zn,Ka],...e]}])}var FL=_t(NL,!0);var LL=_t(t0,!0);var xL=_t(i0,!0);var UL=_t(n0,!0);var OL=_t(r0,!0);import{inspect as sae,TextEncoder as oae,TextDecoder as wIe}from"util";import{randomBytes as aae}from"crypto";var PL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VL={};var Os,o0;(function(){var n;function e(B,E){function y(){}y.prototype=E.prototype,B.D=E.prototype,B.prototype=new y,B.prototype.constructor=B,B.C=function(w,g,T){for(var h=Array(arguments.length-2),p=2;p<arguments.length;p++)h[p-2]=arguments[p];return E.prototype[g].apply(w,h)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(B,E,y){y||(y=0);var w=Array(16);if(typeof E=="string")for(var g=0;16>g;++g)w[g]=E.charCodeAt(y++)|E.charCodeAt(y++)<<8|E.charCodeAt(y++)<<16|E.charCodeAt(y++)<<24;else for(g=0;16>g;++g)w[g]=E[y++]|E[y++]<<8|E[y++]<<16|E[y++]<<24;E=B.g[0],y=B.g[1],g=B.g[2];var T=B.g[3],h=E+(T^y&(g^T))+w[0]+3614090360&4294967295;E=y+(h<<7&4294967295|h>>>25),h=T+(g^E&(y^g))+w[1]+3905402710&4294967295,T=E+(h<<12&4294967295|h>>>20),h=g+(y^T&(E^y))+w[2]+606105819&4294967295,g=T+(h<<17&4294967295|h>>>15),h=y+(E^g&(T^E))+w[3]+3250441966&4294967295,y=g+(h<<22&4294967295|h>>>10),h=E+(T^y&(g^T))+w[4]+4118548399&4294967295,E=y+(h<<7&4294967295|h>>>25),h=T+(g^E&(y^g))+w[5]+1200080426&4294967295,T=E+(h<<12&4294967295|h>>>20),h=g+(y^T&(E^y))+w[6]+2821735955&4294967295,g=T+(h<<17&4294967295|h>>>15),h=y+(E^g&(T^E))+w[7]+4249261313&4294967295,y=g+(h<<22&4294967295|h>>>10),h=E+(T^y&(g^T))+w[8]+1770035416&4294967295,E=y+(h<<7&4294967295|h>>>25),h=T+(g^E&(y^g))+w[9]+2336552879&4294967295,T=E+(h<<12&4294967295|h>>>20),h=g+(y^T&(E^y))+w[10]+4294925233&4294967295,g=T+(h<<17&4294967295|h>>>15),h=y+(E^g&(T^E))+w[11]+2304563134&4294967295,y=g+(h<<22&4294967295|h>>>10),h=E+(T^y&(g^T))+w[12]+1804603682&4294967295,E=y+(h<<7&4294967295|h>>>25),h=T+(g^E&(y^g))+w[13]+4254626195&4294967295,T=E+(h<<12&4294967295|h>>>20),h=g+(y^T&(E^y))+w[14]+2792965006&4294967295,g=T+(h<<17&4294967295|h>>>15),h=y+(E^g&(T^E))+w[15]+1236535329&4294967295,y=g+(h<<22&4294967295|h>>>10),h=E+(g^T&(y^g))+w[1]+4129170786&4294967295,E=y+(h<<5&4294967295|h>>>27),h=T+(y^g&(E^y))+w[6]+3225465664&4294967295,T=E+(h<<9&4294967295|h>>>23),h=g+(E^y&(T^E))+w[11]+643717713&4294967295,g=T+(h<<14&4294967295|h>>>18),h=y+(T^E&(g^T))+w[0]+3921069994&4294967295,y=g+(h<<20&4294967295|h>>>12),h=E+(g^T&(y^g))+w[5]+3593408605&4294967295,E=y+(h<<5&4294967295|h>>>27),h=T+(y^g&(E^y))+w[10]+38016083&4294967295,T=E+(h<<9&4294967295|h>>>23),h=g+(E^y&(T^E))+w[15]+3634488961&4294967295,g=T+(h<<14&4294967295|h>>>18),h=y+(T^E&(g^T))+w[4]+3889429448&4294967295,y=g+(h<<20&4294967295|h>>>12),h=E+(g^T&(y^g))+w[9]+568446438&4294967295,E=y+(h<<5&4294967295|h>>>27),h=T+(y^g&(E^y))+w[14]+3275163606&4294967295,T=E+(h<<9&4294967295|h>>>23),h=g+(E^y&(T^E))+w[3]+4107603335&4294967295,g=T+(h<<14&4294967295|h>>>18),h=y+(T^E&(g^T))+w[8]+1163531501&4294967295,y=g+(h<<20&4294967295|h>>>12),h=E+(g^T&(y^g))+w[13]+2850285829&4294967295,E=y+(h<<5&4294967295|h>>>27),h=T+(y^g&(E^y))+w[2]+4243563512&4294967295,T=E+(h<<9&4294967295|h>>>23),h=g+(E^y&(T^E))+w[7]+1735328473&4294967295,g=T+(h<<14&4294967295|h>>>18),h=y+(T^E&(g^T))+w[12]+2368359562&4294967295,y=g+(h<<20&4294967295|h>>>12),h=E+(y^g^T)+w[5]+4294588738&4294967295,E=y+(h<<4&4294967295|h>>>28),h=T+(E^y^g)+w[8]+2272392833&4294967295,T=E+(h<<11&4294967295|h>>>21),h=g+(T^E^y)+w[11]+1839030562&4294967295,g=T+(h<<16&4294967295|h>>>16),h=y+(g^T^E)+w[14]+4259657740&4294967295,y=g+(h<<23&4294967295|h>>>9),h=E+(y^g^T)+w[1]+2763975236&4294967295,E=y+(h<<4&4294967295|h>>>28),h=T+(E^y^g)+w[4]+1272893353&4294967295,T=E+(h<<11&4294967295|h>>>21),h=g+(T^E^y)+w[7]+4139469664&4294967295,g=T+(h<<16&4294967295|h>>>16),h=y+(g^T^E)+w[10]+3200236656&4294967295,y=g+(h<<23&4294967295|h>>>9),h=E+(y^g^T)+w[13]+681279174&4294967295,E=y+(h<<4&4294967295|h>>>28),h=T+(E^y^g)+w[0]+3936430074&4294967295,T=E+(h<<11&4294967295|h>>>21),h=g+(T^E^y)+w[3]+3572445317&4294967295,g=T+(h<<16&4294967295|h>>>16),h=y+(g^T^E)+w[6]+76029189&4294967295,y=g+(h<<23&4294967295|h>>>9),h=E+(y^g^T)+w[9]+3654602809&4294967295,E=y+(h<<4&4294967295|h>>>28),h=T+(E^y^g)+w[12]+3873151461&4294967295,T=E+(h<<11&4294967295|h>>>21),h=g+(T^E^y)+w[15]+530742520&4294967295,g=T+(h<<16&4294967295|h>>>16),h=y+(g^T^E)+w[2]+3299628645&4294967295,y=g+(h<<23&4294967295|h>>>9),h=E+(g^(y|~T))+w[0]+4096336452&4294967295,E=y+(h<<6&4294967295|h>>>26),h=T+(y^(E|~g))+w[7]+1126891415&4294967295,T=E+(h<<10&4294967295|h>>>22),h=g+(E^(T|~y))+w[14]+2878612391&4294967295,g=T+(h<<15&4294967295|h>>>17),h=y+(T^(g|~E))+w[5]+4237533241&4294967295,y=g+(h<<21&4294967295|h>>>11),h=E+(g^(y|~T))+w[12]+1700485571&4294967295,E=y+(h<<6&4294967295|h>>>26),h=T+(y^(E|~g))+w[3]+2399980690&4294967295,T=E+(h<<10&4294967295|h>>>22),h=g+(E^(T|~y))+w[10]+4293915773&4294967295,g=T+(h<<15&4294967295|h>>>17),h=y+(T^(g|~E))+w[1]+2240044497&4294967295,y=g+(h<<21&4294967295|h>>>11),h=E+(g^(y|~T))+w[8]+1873313359&4294967295,E=y+(h<<6&4294967295|h>>>26),h=T+(y^(E|~g))+w[15]+4264355552&4294967295,T=E+(h<<10&4294967295|h>>>22),h=g+(E^(T|~y))+w[6]+2734768916&4294967295,g=T+(h<<15&4294967295|h>>>17),h=y+(T^(g|~E))+w[13]+1309151649&4294967295,y=g+(h<<21&4294967295|h>>>11),h=E+(g^(y|~T))+w[4]+4149444226&4294967295,E=y+(h<<6&4294967295|h>>>26),h=T+(y^(E|~g))+w[11]+3174756917&4294967295,T=E+(h<<10&4294967295|h>>>22),h=g+(E^(T|~y))+w[2]+718787259&4294967295,g=T+(h<<15&4294967295|h>>>17),h=y+(T^(g|~E))+w[9]+3951481745&4294967295,B.g[0]=B.g[0]+E&4294967295,B.g[1]=B.g[1]+(g+(h<<21&4294967295|h>>>11))&4294967295,B.g[2]=B.g[2]+g&4294967295,B.g[3]=B.g[3]+T&4294967295}r.prototype.u=function(B,E){E===void 0&&(E=B.length);for(var y=E-this.blockSize,w=this.B,g=this.h,T=0;T<E;){if(g==0)for(;T<=y;)i(this,B,T),T+=this.blockSize;if(typeof B=="string"){for(;T<E;)if(w[g++]=B.charCodeAt(T++),g==this.blockSize){i(this,w),g=0;break}}else for(;T<E;)if(w[g++]=B[T++],g==this.blockSize){i(this,w),g=0;break}}this.h=g,this.o+=E},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var E=1;E<B.length-8;++E)B[E]=0;var y=8*this.o;for(E=B.length-8;E<B.length;++E)B[E]=y&255,y/=256;for(this.u(B),B=Array(16),E=y=0;4>E;++E)for(var w=0;32>w;w+=8)B[y++]=this.g[E]>>>w&255;return B};function s(B,E){var y=a;return Object.prototype.hasOwnProperty.call(y,B)?y[B]:y[B]=E(B)}function o(B,E){this.h=E;for(var y=[],w=!0,g=B.length-1;0<=g;g--){var T=B[g]|0;w&&T==E||(y[g]=T,w=!1)}this.g=y}var a={};function c(B){return-128<=B&&128>B?s(B,function(E){return new o([E|0],0>E?-1:0)}):new o([B|0],0>B?-1:0)}function l(B){if(isNaN(B)||!isFinite(B))return A;if(0>B)return I(l(-B));for(var E=[],y=1,w=0;B>=y;w++)E[w]=B/y|0,y*=4294967296;return new o(E,0)}function u(B,E){if(B.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(B.charAt(0)=="-")return I(u(B.substring(1),E));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(E,8)),w=A,g=0;g<B.length;g+=8){var T=Math.min(8,B.length-g),h=parseInt(B.substring(g,g+T),E);8>T?(T=l(Math.pow(E,T)),w=w.j(T).add(l(h))):(w=w.j(y),w=w.add(l(h)))}return w}var A=c(0),d=c(1),f=c(16777216);n=o.prototype,n.m=function(){if(C(this))return-I(this).m();for(var B=0,E=1,y=0;y<this.g.length;y++){var w=this.i(y);B+=(0<=w?w:4294967296+w)*E,E*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(Q(this))return"0";if(C(this))return"-"+I(this).toString(B);for(var E=l(Math.pow(B,6)),y=this,w="";;){var g=k(y,E).g;y=S(y,g.j(E));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(B);if(y=g,Q(y))return T+w;for(;6>T.length;)T="0"+T;w=T+w}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function Q(B){if(B.h!=0)return!1;for(var E=0;E<B.g.length;E++)if(B.g[E]!=0)return!1;return!0}function C(B){return B.h==-1}n.l=function(B){return B=S(this,B),C(B)?-1:Q(B)?0:1};function I(B){for(var E=B.g.length,y=[],w=0;w<E;w++)y[w]=~B.g[w];return new o(y,~B.h).add(d)}n.abs=function(){return C(this)?I(this):this},n.add=function(B){for(var E=Math.max(this.g.length,B.g.length),y=[],w=0,g=0;g<=E;g++){var T=w+(this.i(g)&65535)+(B.i(g)&65535),h=(T>>>16)+(this.i(g)>>>16)+(B.i(g)>>>16);w=h>>>16,T&=65535,h&=65535,y[g]=h<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function S(B,E){return B.add(I(E))}n.j=function(B){if(Q(this)||Q(B))return A;if(C(this))return C(B)?I(this).j(I(B)):I(I(this).j(B));if(C(B))return I(this.j(I(B)));if(0>this.l(f)&&0>B.l(f))return l(this.m()*B.m());for(var E=this.g.length+B.g.length,y=[],w=0;w<2*E;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var g=0;g<B.g.length;g++){var T=this.i(w)>>>16,h=this.i(w)&65535,p=B.i(g)>>>16,H=B.i(g)&65535;y[2*w+2*g]+=h*H,b(y,2*w+2*g),y[2*w+2*g+1]+=T*H,b(y,2*w+2*g+1),y[2*w+2*g+1]+=h*p,b(y,2*w+2*g+1),y[2*w+2*g+2]+=T*p,b(y,2*w+2*g+2)}for(w=0;w<E;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=E;w<2*E;w++)y[w]=0;return new o(y,0)};function b(B,E){for(;(B[E]&65535)!=B[E];)B[E+1]+=B[E]>>>16,B[E]&=65535,E++}function M(B,E){this.g=B,this.h=E}function k(B,E){if(Q(E))throw Error("division by zero");if(Q(B))return new M(A,A);if(C(B))return E=k(I(B),E),new M(I(E.g),I(E.h));if(C(E))return E=k(B,I(E)),new M(I(E.g),E.h);if(30<B.g.length){if(C(B)||C(E))throw Error("slowDivide_ only works with positive integers.");for(var y=d,w=E;0>=w.l(B);)y=O(y),w=O(w);var g=q(y,1),T=q(w,1);for(w=q(w,2),y=q(y,2);!Q(w);){var h=T.add(w);0>=h.l(B)&&(g=g.add(y),T=h),w=q(w,1),y=q(y,1)}return E=S(B,g.j(E)),new M(g,E)}for(g=A;0<=B.l(E);){for(y=Math.max(1,Math.floor(B.m()/E.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),T=l(y),h=T.j(E);C(h)||0<h.l(B);)y-=w,T=l(y),h=T.j(E);Q(T)&&(T=d),g=g.add(T),B=S(B,h)}return new M(g,B)}n.A=function(B){return k(this,B).h},n.and=function(B){for(var E=Math.max(this.g.length,B.g.length),y=[],w=0;w<E;w++)y[w]=this.i(w)&B.i(w);return new o(y,this.h&B.h)},n.or=function(B){for(var E=Math.max(this.g.length,B.g.length),y=[],w=0;w<E;w++)y[w]=this.i(w)|B.i(w);return new o(y,this.h|B.h)},n.xor=function(B){for(var E=Math.max(this.g.length,B.g.length),y=[],w=0;w<E;w++)y[w]=this.i(w)^B.i(w);return new o(y,this.h^B.h)};function O(B){for(var E=B.g.length+1,y=[],w=0;w<E;w++)y[w]=B.i(w)<<1|B.i(w-1)>>>31;return new o(y,B.h)}function q(B,E){var y=E>>5;E%=32;for(var w=B.g.length-y,g=[],T=0;T<w;T++)g[T]=0<E?B.i(T+y)>>>E|B.i(T+y+1)<<32-E:B.i(T+y);return new o(g,B.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o0=VL.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Os=VL.Integer=o}).apply(typeof PL<"u"?PL:typeof self<"u"?self:typeof window<"u"?window:{});var Ea=Fd(hP(),1),$P=Fd(tw(),1);var fP="@firebase/firestore",gP="4.7.3";var Gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gt.UNAUTHENTICATED=new Gt(null);Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid");Gt.FIRST_PARTY=new Gt("first-party-uid");Gt.MOCK_USER=new Gt("mock-user");var cae="10.14.0";var Xl=cae;function lae(n){Xl=n}function uae(n){return sae(n,{depth:100})}var Ca=new Es("@firebase/firestore");function cd(){return Ca.logLevel}function ee(n,...e){if(Ca.logLevel<=Ce.DEBUG){let t=e.map(Ab);Ca.debug(`Firestore (${Xl}): ${n}`,...t)}}function Gr(n,...e){if(Ca.logLevel<=Ce.ERROR){let t=e.map(Ab);Ca.error(`Firestore (${Xl}): ${n}`,...t)}}function xl(n,...e){if(Ca.logLevel<=Ce.WARN){let t=e.map(Ab);Ca.warn(`Firestore (${Xl}): ${n}`,...t)}}function Ab(n){if(typeof n=="string")return n;try{return uae(n)}catch{return n}}function le(n="Unexpected state"){let e=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: `+n;throw Gr(e),new Error(e)}function Oe(n,e){n||le()}function he(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Mn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Qm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Nv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}},_v=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Mv=class{constructor(e){this.authProvider=e,this.currentUser=Gt.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,t){Oe(this.tokenListener===void 0);let r=this.tokenCounter,i=c=>this.tokenCounter!==r?(r=this.tokenCounter,t(c)):Promise.resolve(),s=new Pr;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),s.resolve(),s=new Pr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>m(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.tokenListener&&(this.auth.addAuthTokenListener(this.tokenListener),o())};this.authProvider.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.authProvider.getImmediate({optional:!0});c?a(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pr)}},0),o()}getToken(){let e=this.tokenCounter,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.tokenCounter!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new Qm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.tokenListener&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=void 0}getUser(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Gt(e)}},Fv=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}},Lv=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r}getToken(){return Promise.resolve(new Fv(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Uv=class{constructor(e){this.appCheckProvider=e,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(e,t){Oe(this.tokenListener===void 0);let r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.latestAppCheckToken;return this.latestAppCheckToken=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.tokenListener=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.tokenListener&&this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.appCheckProvider.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe(typeof t.token=="string"),this.latestAppCheckToken=t.token,new xv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.tokenListener&&this.appCheck.removeTokenListener(this.tokenListener),this.tokenListener=void 0}};function Aae(n){if(!n)return new Nv;switch(n.type){case"firstParty":return new Lv(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function dae(n){return aae(n)}var wm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="",i=20;for(;r.length<i;){let s=dae(40);for(let o=0;o<s.length;++o)r.length<i&&s[o]<t&&(r+=e.charAt(s[o]%e.length))}return r}};function ke(n,e){return n<e?-1:n>e?1:0}function Ia(n,e,t){return n.length!==e.length?!1:n.every((r,i)=>t(r,e[i]))}var pP=-62135596800,mP=1e6,Wt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pP)throw new $(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-t*1e3)*mP);return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return this.seconds*1e3+this.nanoseconds/mP}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-pP,t=String(e).padStart(12,"0"),r=String(this.nanoseconds).padStart(9,"0");return t+"."+r}};var fe=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Wt(0,0))}static max(){return new n(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return this.timestamp.seconds*1e6+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var EP="__name__",vm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&le(),r===void 0?r=e.length-t:r>e.length-t&&le(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},it=class n extends vm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},hae=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jn=class n extends vm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return hae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EP}static keyField(){return new n([EP])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new $(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(!(c==="\\"||c==="."||c==="`"))throw new $(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a==="."&&!o?(s(),i++):(r+=a,i++)}if(s(),o)throw new $(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var se=class n{constructor(e){this.path=e}static fromPath(e){return new n(it.fromString(e))}static fromName(e){return new n(it.fromString(e).popFirst(5))}static empty(){return new n(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2===0}static fromSegments(e){return new n(new it(e.slice()))}};var hd=-1;function fae(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new Wt(t+1,0):new Wt(t,r));return new ya(i,se.empty(),e)}function gae(n){return new ya(n.readTime,n.key,hd)}var ya=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(fe.min(),se.empty(),hd)}static max(){return new n(fe.max(),se.empty(),hd)}};function pae(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0||(t=se.comparator(n.documentKey,e.documentKey),t!==0)?t:ke(n.largestBatchId,e.largestBatchId)}var mae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ov=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Td(n){return m(this,null,function*(){if(n.code===L.FAILED_PRECONDITION&&n.message===mae)ee("LocalStore","Unexpectedly lost primary lease");else throw n})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function Eae(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Rd(n){return n.name==="IndexedDbTransactionError"}var DIe=15*1e3,TIe=60*1e3;var ZP=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.setPreviousValue(i),this.writeNewSequenceNumber=i=>r.writeSequenceNumber(i))}setPreviousValue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t}}n.INVALID=-1;return n})();var Cae="remoteDocuments";var XP="owner";var eV="mutationQueues";var tV="mutations";var nV="documentMutations",Iae="remoteDocumentsV14";var rV="remoteDocumentGlobal";var iV="targets";var sV="targetDocuments";var oV="targetGlobal",aV="collectionParents";var cV="clientMetadata";var lV="bundles";var uV="namedQueries";var yae="indexConfiguration";var Bae="indexState";var Qae="indexEntries";var AV="documentOverlays";var wae="globals";var vae=[eV,tV,nV,Cae,iV,XP,oV,sV],Sae=vae,bae=[...Sae,cV],Dae=[...bae,rV],Tae=[...Dae,aV],Rae=[...Tae,lV,uV],RIe=[...Rae,AV],kae=[eV,tV,nV,Iae,iV,XP,oV,sV,cV,rV,aV,lV,uV,AV],Nae=kae,_ae=[...Nae,yae,Bae,Qae];var kIe=[..._ae,wae];function CP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ta(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dV(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ht=class n{constructor(e,t){this.comparator=e,this.root=t||ud.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ud.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ud.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fl(this.root,e,this.comparator,!0)}},Fl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)this.isReverse?e=e.left:e=e.right;else if(s===0){this.nodeStack.push(e);break}else this.nodeStack.push(e),this.isReverse?e=e.right:e=e.left}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ud=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this,o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return!t.left.isRed()&&!t.left.left.isRed()&&(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let i,s=this;if(r(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed()&&!s.left.left.isRed()&&(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),!s.right.isEmpty()&&!s.right.isRed()&&!s.right.left.isRed()&&(s=s.moveRedRight()),r(t,s.key)===0){if(s.right.isEmpty())return n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();let t=this.left.check();if(t!==this.right.check())throw le();return t+(this.isRed()?0:1)}}return n.EMPTY=null,n.RED=!0,n.BLACK=!1,n})(),Pv=class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ud(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};ud.EMPTY=new Pv;var rn=class n{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(t!==void 0?r=this.data.getIteratorFrom(t):r=this.data.getIterator();r.hasNext();){let i=r.getNext();if(!e(i.key))return}}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sm(this.data.getIterator())}getIteratorFrom(e){return new Sm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Sm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mr=class n{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new n([])}unionWith(e){let t=new rn(Jn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(t,r)=>t.isEqual(r))}};function Mae(n){return Buffer.from(n,"base64").toString("binary")}function Fae(n){return Buffer.from(n,"binary").toString("base64")}var sn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=Mae(e);return new n(t)}static fromUint8Array(e){let t=Lae(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return Fae(this.binaryString)}toUint8Array(){return xae(this.binaryString)}approximateByteSize(){return this.binaryString.length*2}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};sn.EMPTY_BYTE_STRING=new sn("");function Lae(n){let e="";for(let t=0;t<n.length;++t)e+=String.fromCharCode(n[t]);return e}function xae(n){let e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}var Uae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(n){if(Oe(!!n),typeof n=="string"){let e=0,t=Uae.exec(n);if(Oe(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}else{let e=et(n.seconds),t=et(n.nanos);return{seconds:e,nanos:t}}}function et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function go(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}var hV="server_timestamp",fV="__type__",gV="__previous_value__",pV="__local_write_time__";function db(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fV])===null||t===void 0?void 0:t.stringValue)===hV}function Oae(n,e){let t={fields:{[fV]:{stringValue:hV},[pV]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return e&&db(e)&&(e=hb(e)),e&&(t.fields[gV]=e),{mapValue:t}}function hb(n){let e=n.mapValue.fields[gV];return db(e)?hb(e):e}function fd(n){let e=ss(n.mapValue.fields[pV].timestampValue);return new Wt(e.seconds,e.nanos)}var Vv=class{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Gv="(default)",bm=class n{constructor(e,t){this.projectId=e,this.database=t||Gv}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Gv}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function Pae(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new $(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bm(n.options.projectId,e)}var fb=-1;function eE(n){return n==null}function gd(n){return n===0&&1/n===-1/0}function Vae(n){return typeof n=="number"&&Number.isInteger(n)&&!gd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var gb="__type__",mV="__max__",Cm={mapValue:{fields:{__type__:{stringValue:mV}}}},pb="__vector__",Ol="value";function Ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?db(n)?4:IV(n)?9007199254740991:CV(n)?10:11:le()}function Vr(n,e){if(n===e)return!0;let t=Ba(n),r=Ba(e);if(t!==r)return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fd(n).isEqual(fd(e));case 3:return Gae(n,e);case 5:return n.stringValue===e.stringValue;case 6:return Hae(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return qae(n,e);case 2:return Yae(n,e);case 9:return Ia(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return Wae(n,e);case 9007199254740991:return!0;default:return le()}}function Gae(n,e){if(typeof n.timestampValue=="string"&&typeof e.timestampValue=="string"&&n.timestampValue.length===e.timestampValue.length)return n.timestampValue===e.timestampValue;let t=ss(n.timestampValue),r=ss(e.timestampValue);return t.seconds===r.seconds&&t.nanos===r.nanos}function qae(n,e){return et(n.geoPointValue.latitude)===et(e.geoPointValue.latitude)&&et(n.geoPointValue.longitude)===et(e.geoPointValue.longitude)}function Hae(n,e){return go(n.bytesValue).isEqual(go(e.bytesValue))}function Yae(n,e){if("integerValue"in n&&"integerValue"in e)return et(n.integerValue)===et(e.integerValue);if("doubleValue"in n&&"doubleValue"in e){let t=et(n.doubleValue),r=et(e.doubleValue);return t===r?gd(t)===gd(r):isNaN(t)&&isNaN(r)}return!1}function Wae(n,e){let t=n.mapValue.fields||{},r=e.mapValue.fields||{};if(CP(t)!==CP(r))return!1;for(let i in t)if(t.hasOwnProperty(i)&&(r[i]===void 0||!Vr(t[i],r[i])))return!1;return!0}function pd(n,e){return(n.values||[]).find(t=>Vr(t,e))!==void 0}function Pl(n,e){if(n===e)return 0;let t=Ba(n),r=Ba(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return Jae(n,e);case 3:return IP(n.timestampValue,e.timestampValue);case 4:return IP(fd(n),fd(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return Kae(n.bytesValue,e.bytesValue);case 7:return zae(n.referenceValue,e.referenceValue);case 8:return jae(n.geoPointValue,e.geoPointValue);case 9:return EV(n.arrayValue,e.arrayValue);case 10:return $ae(n.mapValue,e.mapValue);case 11:return Zae(n.mapValue,e.mapValue);default:throw le()}}function Jae(n,e){let t=et(n.integerValue||n.doubleValue),r=et(e.integerValue||e.doubleValue);return t<r?-1:t>r?1:t===r?0:isNaN(t)?isNaN(r)?0:-1:1}function IP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);let t=ss(n),r=ss(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function zae(n,e){let t=n.split("/"),r=e.split("/");for(let i=0;i<t.length&&i<r.length;i++){let s=ke(t[i],r[i]);if(s!==0)return s}return ke(t.length,r.length)}function jae(n,e){let t=ke(et(n.latitude),et(e.latitude));return t!==0?t:ke(et(n.longitude),et(e.longitude))}function Kae(n,e){let t=go(n),r=go(e);return t.compareTo(r)}function EV(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Pl(t[i],r[i]);if(s)return s}return ke(t.length,r.length)}function $ae(n,e){var t,r,i,s;let o=n.fields||{},a=e.fields||{},c=(t=o[Ol])===null||t===void 0?void 0:t.arrayValue,l=(r=a[Ol])===null||r===void 0?void 0:r.arrayValue,u=ke(((i=c?.values)===null||i===void 0?void 0:i.length)||0,((s=l?.values)===null||s===void 0?void 0:s.length)||0);return u!==0?u:EV(c,l)}function Zae(n,e){if(n===Cm.mapValue&&e===Cm.mapValue)return 0;if(n===Cm.mapValue)return 1;if(e===Cm.mapValue)return-1;let t=n.fields||{},r=Object.keys(t),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){let a=ke(r[o],s[o]);if(a!==0)return a;let c=Pl(t[r[o]],i[s[o]]);if(c!==0)return c}return ke(r.length,s.length)}function Vl(n){return mb(n)}function mb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?ece(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xae(n.bytesValue):"referenceValue"in n?nce(n.referenceValue):"geoPointValue"in n?tce(n.geoPointValue):"arrayValue"in n?ice(n.arrayValue):"mapValue"in n?rce(n.mapValue):le()}function Xae(n){return go(n).toBase64()}function ece(n){let e=ss(n);return`time(${e.seconds},${e.nanos})`}function tce(n){return`geo(${n.latitude},${n.longitude})`}function nce(n){return se.fromName(n).toString()}function rce(n){let e=Object.keys(n.fields||{}).sort(),t="{",r=!0;for(let i of e)r?r=!1:t+=",",t+=`${i}:${mb(n.fields[i])}`;return t+"}"}function ice(n){let e="[",t=!0;for(let r of n.values||[])t?t=!1:e+=",",e+=mb(r);return e+"]"}function yP(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qv(n){return!!n&&"integerValue"in n}function sce(n){return!!n&&"doubleValue"in n}function oce(n){return qv(n)||sce(n)}function Eb(n){return!!n&&"arrayValue"in n}function BP(n){return!!n&&"nullValue"in n}function QP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ym(n){return!!n&&"mapValue"in n}function CV(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gb])===null||t===void 0?void 0:t.stringValue)===pb}function Ad(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ta(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ad(r)),e}else if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ad(n.arrayValue.values[t]);return e}else return Object.assign({},n)}function IV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mV}var NIe={mapValue:{fields:{[gb]:{stringValue:pb},[Ol]:{arrayValue:{}}}}};var Wn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ym(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){let r=this.getFieldsMap(e.popLast());r[e.lastSegment()]=Ad(t)}setAll(e){let t=Jn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ad(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());ym(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];(!ym(i)||!i.mapValue.fields)&&(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ta(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Ad(this.value))}};function yV(n){let e=[];return Ta(n.fields,(t,r)=>{let i=new Jn([t]);if(ym(r)){let o=yV(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new mr(e)}var qr=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,fe.min(),fe.min(),fe.min(),Wn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,fe.min(),fe.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,fe.min(),fe.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(fe.min())&&(this.documentType===2||this.documentType===0)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};function ace(n,e,t){let r=e.data.field(n),i=t.data.field(n);return r!==null&&i!==null?Pl(r,i):le()}var Gl=class{constructor(e,t){this.position=e,this.inclusive=t}};function BV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField())r=se.comparator(se.fromName(o.referenceValue),t.key);else{let a=t.data.field(s.field);r=Pl(o,a)}if(s.dir==="desc"&&(r=r*-1),r!==0)break}return r}function cce(n,e,t){let r=BV(n,e,t);return n.inclusive?r>=0:r>0}function lce(n,e,t){let r=BV(n,e,t);return n.inclusive?r<=0:r<0}function wP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++){let r=n.position[t],i=e.position[t];if(!Vr(r,i))return!1}return!0}var ql=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function uce(n){return n.field.canonicalString()+n.dir}function Ace(n){return`${n.field.canonicalString()} (${n.dir})`}function dce(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Dm=class{},bt=class n extends Dm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Yv(e,t,r):t==="array-contains"?new zv(e,r):t==="in"?new jv(e,r):t==="not-in"?new Kv(e,r):t==="array-contains-any"?new $v(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Wv(e,r):new Jv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Pl(t,this.value)):t!==null&&Ba(this.value)===Ba(t)&&this.matchesComparison(Pl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Hr=class n extends Dm{constructor(e,t){super(),this.filters=e,this.op=t,this.memoizedFlattenedFilters=null}static create(e,t){return new n(e,t)}matches(e){return QV(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}getFilters(){return Object.assign([],this.filters)}};function QV(n){return n.op==="and"}function wV(n){return hce(n)&&QV(n)}function hce(n){for(let e of n.filters)if(e instanceof Hr)return!1;return!0}function Hv(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+Vl(n.value);if(wV(n))return n.filters.map(e=>Hv(e)).join(",");{let e=n.filters.map(t=>Hv(t)).join(",");return`${n.op}(${e})`}}function vV(n,e){if(n instanceof bt)return fce(n,e);if(n instanceof Hr)return gce(n,e);le()}function fce(n,e){return e instanceof bt&&n.op===e.op&&n.field.isEqual(e.field)&&Vr(n.value,e.value)}function gce(n,e){return e instanceof Hr&&n.op===e.op&&n.filters.length===e.filters.length?n.filters.reduce((r,i,s)=>r&&vV(i,e.filters[s]),!0):!1}function SV(n){return n instanceof bt?mce(n):n instanceof Hr?pce(n):"Filter"}function pce(n){return n.op.toString()+" {"+n.getFilters().map(SV).join(" ,")+"}"}function mce(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`}var Yv=class extends bt{constructor(e,t,r){super(e,t,r),this.key=se.fromName(r.referenceValue)}matches(e){let t=se.comparator(e.key,this.key);return this.matchesComparison(t)}},Wv=class extends bt{constructor(e,t){super(e,"in",t),this.keys=bV("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Jv=class extends bt{constructor(e,t){super(e,"not-in",t),this.keys=bV("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function bV(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>se.fromName(r.referenceValue))}var zv=class extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Eb(t)&&pd(t.arrayValue,this.value)}},jv=class extends bt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&pd(this.value.arrayValue,t)}},Kv=class extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!pd(this.value.arrayValue,t)}},$v=class extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!Eb(t)||!t.arrayValue.values?!1:t.arrayValue.values.some(r=>pd(this.value.arrayValue,r))}};var Zv=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}};function vP(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Zv(n,e,t,r,i,s,o)}function Cb(n){let e=he(n);if(e.memoizedCanonicalId===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Hv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>uce(r)).join(","),eE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Vl(r)).join(",")),e.memoizedCanonicalId=t}return e.memoizedCanonicalId}function Ece(n){let e=n.path.canonicalString();return n.collectionGroup!==null&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>SV(t)).join(", ")}]`),eE(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>Ace(t)).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Vl(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Vl(t)).join(",")),`Target(${e})`}function Ib(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dce(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup!==e.collectionGroup||!n.path.isEqual(e.path)||!wP(n.startAt,e.startAt)?!1:wP(n.endAt,e.endAt)}function Xv(n){return se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Qa=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}};function Cce(n,e,t,r,i,s,o,a){return new Qa(n,e,t,r,i,s,o,a)}function tE(n){return new Qa(n)}function Ice(n,e){return new Qa(e,null,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function SP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yce(n){let e=new rn(Jn.comparator);return n.filters.forEach(t=>{t.getFlattenedFilters().forEach(i=>{i.isInequality()&&(e=e.add(i.field))})}),e}function Bce(n){return se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function DV(n){return n.collectionGroup!==null}function md(n){let e=he(n);if(e.memoizedNormalizedOrderBy===null){e.memoizedNormalizedOrderBy=[];let t=new Set;for(let s of e.explicitOrderBy)e.memoizedNormalizedOrderBy.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";yce(e).forEach(s=>{!t.has(s.canonicalString())&&!s.isKeyField()&&e.memoizedNormalizedOrderBy.push(new ql(s,r))}),t.has(Jn.keyField().canonicalString())||e.memoizedNormalizedOrderBy.push(new ql(Jn.keyField(),r))}return e.memoizedNormalizedOrderBy}function Si(n){let e=he(n);return e.memoizedTarget||(e.memoizedTarget=Qce(e,md(n))),e.memoizedTarget}function Qce(n,e){if(n.limitType==="F")return vP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ql(i.field,s)});let t=n.endAt?new Gl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Gl(n.startAt.position,n.startAt.inclusive):null;return vP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yb(n,e){let t=n.filters.concat([e]);return new Qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function eS(n,e,t){return new Qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nE(n,e){return Ib(Si(n),Si(e))&&n.limitType===e.limitType}function TV(n){return`${Cb(Si(n))}|lt:${n.limitType}`}function _l(n){return`Query(target=${Ece(Si(n))}; limitType=${n.limitType})`}function rE(n,e){return e.isFoundDocument()&&wce(n,e)&&vce(n,e)&&Sce(n,e)&&bce(n,e)}function wce(n,e){let t=e.key.path;return n.collectionGroup!==null?e.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(t):se.isDocumentKey(n.path)?n.path.isEqual(t):n.path.isImmediateParentOf(t)}function vce(n,e){for(let t of md(n))if(!t.field.isKeyField()&&e.data.field(t.field)===null)return!1;return!0}function Sce(n,e){for(let t of n.filters)if(!t.matches(e))return!1;return!0}function bce(n,e){return!(n.startAt&&!lce(n.startAt,md(n),e)||n.endAt&&!cce(n.endAt,md(n),e))}function Dce(n){return n.collectionGroup||(n.path.length%2===1?n.path.lastSegment():n.path.get(n.path.length-2))}function RV(n){return(e,t)=>{let r=!1;for(let i of md(n)){let s=Tce(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Tce(n,e,t){let r=n.field.isKeyField()?se.comparator(e.key,t.key):ace(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}var po=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0){this.inner[r]=[[e,t]],this.innerSize++;return}for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e)){i[s]=[e,t];return}i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return dV(this.inner)}size(){return this.innerSize}};var Rce=new ht(se.comparator);function os(){return Rce}var kV=new ht(se.comparator);function ld(...n){let e=kV;for(let t of n)e=e.insert(t.key,t);return e}function kce(){return Ed()}function NV(n){let e=kV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pa(){return Ed()}function _V(){return Ed()}function Ed(){return new po(n=>n.toString(),(n,e)=>n.isEqual(e))}var Nce=new ht(se.comparator);function _ce(){return Nce}var Mce=new rn(se.comparator);function ye(...n){let e=Mce;for(let t of n)e=e.add(t);return e}var Fce=new rn(ke);function Lce(){return Fce}function Bb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function MV(n){return{integerValue:""+n}}function xce(n,e){return Vae(e)?MV(e):Bb(n,e)}var Hl=class{constructor(){this._=void 0}};function Uce(n,e,t){return n instanceof Yl?Oae(t,e):n instanceof wa?LV(n,e):n instanceof va?xV(n,e):Vce(n,e)}function Oce(n,e,t){return n instanceof wa?LV(n,e):n instanceof va?xV(n,e):t}function FV(n,e){return n instanceof Wl?oce(e)?e:{integerValue:0}:null}function Pce(n,e){return n instanceof wa&&e instanceof wa||n instanceof va&&e instanceof va?Ia(n.elements,e.elements,Vr):n instanceof Wl&&e instanceof Wl?Vr(n.operand,e.operand):n instanceof Yl&&e instanceof Yl}var Yl=class extends Hl{},wa=class extends Hl{constructor(e){super(),this.elements=e}};function LV(n,e){let t=UV(e);for(let r of n.elements)t.some(i=>Vr(i,r))||t.push(r);return{arrayValue:{values:t}}}var va=class extends Hl{constructor(e){super(),this.elements=e}};function xV(n,e){let t=UV(e);for(let r of n.elements)t=t.filter(i=>!Vr(i,r));return{arrayValue:{values:t}}}var Wl=class extends Hl{constructor(e,t){super(),this.serializer=e,this.operand=t}};function Vce(n,e){let t=FV(n,e),r=bP(t)+bP(n.operand);return qv(t)&&qv(n.operand)?MV(r):Bb(n.serializer,r)}function bP(n){return et(n.integerValue||n.doubleValue)}function UV(n){return Eb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Gce(n,e){return n.field.isEqual(e.field)&&Pce(n.transform,e.transform)}function qce(n,e){return n===void 0&&e===void 0?!0:n&&e?Ia(n,e,(t,r)=>Gce(t,r)):!1}var tS=class{constructor(e,t){this.version=e,this.transformResults=t}},is=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function iE(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists!==void 0?n.exists===e.isFoundDocument():!0}var Jl=class{};function OV(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cd(n.key,is.none()):new Sa(n.key,n.data,is.none());{let t=n.data,r=Wn.empty(),i=new rn(Jn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ti(n.key,r,new mr(i.toArray()),is.none())}}function Hce(n,e,t){n instanceof Sa?Wce(n,e,t):n instanceof Ti?zce(n,e,t):Kce(n,e,t)}function dd(n,e,t,r){return n instanceof Sa?Jce(n,e,t,r):n instanceof Ti?jce(n,e,t,r):$ce(n,e,t)}function Yce(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=FV(r.transform,i||null);s!=null&&(t===null&&(t=Wn.empty()),t.set(r.field,s))}return t||null}function DP(n,e){return n.type!==e.type||!n.key.isEqual(e.key)||!n.precondition.isEqual(e.precondition)||!qce(n.fieldTransforms,e.fieldTransforms)?!1:n.type===0?n.value.isEqual(e.value):n.type===1?n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask):!0}var Sa=class extends Jl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}};function Wce(n,e,t){let r=n.value.clone(),i=VV(n.fieldTransforms,e,t.transformResults);r.setAll(i),e.convertToFoundDocument(t.version,r).setHasCommittedMutations()}function Jce(n,e,t,r){if(!iE(n.precondition,e))return t;let i=n.value.clone(),s=GV(n.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}var Ti=class extends Jl{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function zce(n,e,t){if(!iE(n.precondition,e)){e.convertToUnknownDocument(t.version);return}let r=VV(n.fieldTransforms,e,t.transformResults),i=e.data;i.setAll(PV(n)),i.setAll(r),e.convertToFoundDocument(t.version,i).setHasCommittedMutations()}function jce(n,e,t,r){if(!iE(n.precondition,e))return t;let i=GV(n.fieldTransforms,r,e),s=e.data;return s.setAll(PV(n)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),t===null?null:t.unionWith(n.fieldMask.fields).unionWith(n.fieldTransforms.map(o=>o.field))}function PV(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function VV(n,e,t){let r=new Map;Oe(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Oce(o,a,t[i]))}return r}function GV(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,Uce(s,o,e))}return r}var Cd=class extends Jl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};function Kce(n,e,t){e.convertToNoDocument(t.version).setHasCommittedMutations()}function $ce(n,e,t){return iE(n.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):t}var nS=class extends Jl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var rS=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];if(s.key.isEqual(e.key)){let o=r[i];Hce(s,e,o)}}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_V();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=OV(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(t,r)=>DP(t,r))&&Ia(this.baseMutations,e.baseMutations,(t,r)=>DP(t,r))}},iS=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Oe(e.mutations.length===r.length);let i=_ce(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var sS=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var oS=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Vt=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n}(Vt||{});function Zce(n){switch(n){case L.OK:return le();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return le()}}function Xce(n){return Zce(n)&&n!==L.ABORTED}function Bm(n){if(n===void 0)return Gr("GRPC error has no .code"),L.UNKNOWN;switch(n){case Vt.OK:return L.OK;case Vt.CANCELLED:return L.CANCELLED;case Vt.UNKNOWN:return L.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return L.INTERNAL;case Vt.UNAVAILABLE:return L.UNAVAILABLE;case Vt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Vt.NOT_FOUND:return L.NOT_FOUND;case Vt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Vt.ABORTED:return L.ABORTED;case Vt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Vt.DATA_LOSS:return L.DATA_LOSS;default:return le()}}var aS=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vv=null;function ele(){return new oae}var tle=new Os([4294967295,4294967295],0);function TP(n){let e=ele().encode(n),t=new o0;return t.update(e),new Uint8Array(t.digest())}function RP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0),o=new Os([t,r],0),a=new Os([i,s],0);return[o,a]}var cS=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ma(`Invalid padding: ${t}`);if(r<0)throw new ma(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ma(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ma(`Invalid padding when bitmap length is 0: ${t}`);this.bitCount=e.length*8-t,this.bitCountInInteger=Os.fromNumber(this.bitCount)}getBitIndex(e,t,r){let i=e.add(t.multiply(Os.fromNumber(r)));return i.compare(tle)===1&&(i=new Os([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){let t=this.bitmap[Math.floor(e/8)],r=e%8;return(t&1<<r)!==0}mightContain(e){if(this.bitCount===0)return!1;let t=TP(e),[r,i]=RP(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);if(!this.isBitSet(o))return!1}return!0}static create(e,t,r){let i=e%8===0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.bitCount===0)return;let t=TP(e),[r,i]=RP(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);this.setBit(o)}}setBit(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ma=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Tm=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Id.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(fe.min(),i,new ht(ke),os(),ye())}},Id=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ye(),ye(),ye())}};var Ul=class{constructor(e,t,r,i){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=r,this.newDoc=i}},Rm=class{constructor(e,t){this.targetId=e,this.existenceFilter=t}},km=class{constructor(e,t,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Nm=class{constructor(){this.pendingResponses=0,this.documentChanges=NP(),this._resumeToken=sn.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return this.pendingResponses!==0}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=ye(),t=ye(),r=ye();return this.documentChanges.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Id(this._resumeToken,this._current,e,t,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=NP()}addDocumentChange(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,Oe(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}},nle="WatchChangeAggregator",lS=class{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=os(),this.pendingDocumentTargetMapping=kP(),this.pendingTargetResets=new ht(ke)}handleDocumentChange(e){for(let t of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(t,e.newDoc):this.removeDocumentFromTarget(t,e.key,e.newDoc);for(let t of e.removedTargetIds)this.removeDocumentFromTarget(t,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,t=>{let r=this.ensureTargetState(t);switch(e.state){case 0:this.isActiveTarget(t)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(t);break;case 3:this.isActiveTarget(t)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(t)&&(this.resetTarget(t),r.updateResumeToken(e.resumeToken));break;default:le()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.targetStates.forEach((r,i)=>{this.isActiveTarget(i)&&t(i)})}handleExistenceFilter(e){let t=e.targetId,r=e.existenceFilter.count,i=this.targetDataForActiveTarget(t);if(i){let s=i.target;if(Xv(s))if(r===0){let o=new se(s.path);this.removeDocumentFromTarget(t,o,qr.newNoDocument(o,fe.min()))}else Oe(r===1);else{let o=this.getCurrentDocumentCountForTarget(t);if(o!==r){let a=this.parseBloomFilter(e),c=a?this.applyBloomFilter(a,e,o):1;if(c!==0){this.resetTarget(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,l)}vv?.notifyOnExistenceFilterMismatch(rle(o,e.existenceFilter,this.metadataProvider.getDatabaseId(),a,c))}}}}parseBloomFilter(e){let t=e.existenceFilter.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o;try{o=go(r).toUint8Array()}catch(c){if(c instanceof aS)return xl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}let a;try{a=new cS(o,i,s)}catch(c){return c instanceof ma?xl("BloomFilter error: ",c):xl("Applying bloom filter failed: ",c),null}return a.bitCount===0?null:a}applyBloomFilter(e,t,r){let i=t.existenceFilter.count,s=this.filterRemovedDocuments(e,t.targetId);return i===r-s?0:2}filterRemovedDocuments(e,t){let r=this.metadataProvider.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.metadataProvider.getDatabaseId(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.removeDocumentFromTarget(t,s,null),i++)}),i}createRemoteEvent(e){let t=new Map;this.targetStates.forEach((s,o)=>{let a=this.targetDataForActiveTarget(o);if(a){if(s.current&&Xv(a.target)){let c=new se(a.target.path);this.pendingDocumentUpdates.get(c)===null&&!this.targetContainsDocument(o,c)&&this.removeDocumentFromTarget(o,c,qr.newNoDocument(c,e))}s.hasPendingChanges&&(t.set(o,s.toTargetChange()),s.clearPendingChanges())}});let r=ye();this.pendingDocumentTargetMapping.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.targetDataForActiveTarget(c);return l&&l.purpose!=="TargetPurposeLimboResolution"?(a=!1,!1):!0}),a&&(r=r.add(s))}),this.pendingDocumentUpdates.forEach((s,o)=>o.setReadTime(e));let i=new Tm(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=os(),this.pendingDocumentTargetMapping=kP(),this.pendingTargetResets=new ht(ke),i}addDocumentToTarget(e,t){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,t.key)?2:0;this.ensureTargetState(e).addDocumentChange(t.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,r){if(!this.isActiveTarget(e))return;let i=this.ensureTargetState(e);this.targetContainsDocument(e,t)?i.addDocumentChange(t,1):i.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let r=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);return t||(t=new Nm,this.targetStates.set(e,t)),t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);return t||(t=new rn(ke),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t}isActiveTarget(e){let t=this.targetDataForActiveTarget(e)!==null;return t||ee(nle,"Detected inactive target",e),t}targetDataForActiveTarget(e){let t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new Nm),this.metadataProvider.getRemoteKeysForTarget(e).forEach(r=>{this.removeDocumentFromTarget(e,r,null)})}targetContainsDocument(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)}};function kP(){return new ht(se.comparator)}function NP(){return new ht(se.comparator)}function rle(n,e,t,r,i){var s,o,a,c,l,u;let A={localCacheCount:n,existenceFilterCount:e.count,databaseId:t.database,projectId:t.projectId},d=e.unchangedNames;return d&&(A.bloomFilter={applied:i===0,hashCount:(s=d?.hashCount)!==null&&s!==void 0?s:0,bitmapLength:(c=(a=(o=d?.bits)===null||o===void 0?void 0:o.bitmap)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0,padding:(u=(l=d?.bits)===null||l===void 0?void 0:l.padding)!==null&&u!==void 0?u:0,mightContain:f=>{var Q;return(Q=r?.mightContain(f))!==null&&Q!==void 0?Q:!1}}),A}var ile=(()=>{let n={};return n.asc="ASCENDING",n.desc="DESCENDING",n})(),sle=(()=>{let n={};return n["<"]="LESS_THAN",n["<="]="LESS_THAN_OR_EQUAL",n[">"]="GREATER_THAN",n[">="]="GREATER_THAN_OR_EQUAL",n["=="]="EQUAL",n["!="]="NOT_EQUAL",n["array-contains"]="ARRAY_CONTAINS",n.in="IN",n["not-in"]="NOT_IN",n["array-contains-any"]="ARRAY_CONTAINS_ANY",n})(),ole=(()=>{let n={};return n.and="AND",n.or="OR",n})();var uS=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ale(n){let e=n.code===void 0?L.UNKNOWN:Bm(n.code);return new $(e,n.message||"")}function AS(n,e){return n.useProto3Json||eE(e)?e:{value:e}}function cle(n){let e;return typeof n=="object"?e=n.value:e=n,eE(e)?null:e}function _m(n,e){if(n.useProto3Json){let r=new Date(e.seconds*1e3).toISOString().replace(/\.\d*/,"").replace("Z",""),i=("000000000"+e.nanoseconds).slice(-9);return`${r}.${i}Z`}else return{seconds:""+e.seconds,nanos:e.nanoseconds}}function lle(n){let e=ss(n);return new Wt(e.seconds,e.nanos)}function qV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ule(n,e){return n.useProto3Json?(Oe(e===void 0||typeof e=="string"),sn.fromBase64String(e||"")):(Oe(e===void 0||e instanceof Buffer||e instanceof Uint8Array),sn.fromUint8Array(e||new Uint8Array))}function Ale(n,e){return _m(n,e.toTimestamp())}function bi(n){return Oe(!!n),fe.fromTimestamp(lle(n))}function Qb(n,e){return dS(n,e).canonicalString()}function dS(n,e){let t=hle(n).child("documents");return e===void 0?t:t.child(e)}function HV(n){let e=it.fromString(n);return Oe(jV(e)),e}function hS(n,e){return Qb(n.databaseId,e.path)}function Sv(n,e){let t=HV(e);if(t.get(1)!==n.databaseId.projectId)throw new $(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new se(WV(t))}function YV(n,e){return Qb(n.databaseId,e)}function dle(n){let e=HV(n);return e.length===4?it.emptyPath():WV(e)}function fS(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hle(n){return new it(["projects",n.projectId,"databases",n.database])}function WV(n){return Oe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function _P(n,e,t){return{name:hS(n,e),fields:t.value.mapValue.fields}}function fle(n,e){let t;if("targetChange"in e){e.targetChange;let r=gle(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=ule(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&ale(o);t=new km(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Sv(n,r.document.name),s=bi(r.document.updateTime),o=r.document.createTime?bi(r.document.createTime):fe.min(),a=new Wn({mapValue:{fields:r.document.fields}}),c=qr.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];t=new Ul(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Sv(n,r.document),s=r.readTime?bi(r.readTime):fe.min(),o=qr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Ul([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Sv(n,r.document),s=r.removedTargetIds||[];t=new Ul([],s,i,null)}else if("filter"in e){e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new oS(i,s),a=r.targetId;t=new Rm(a,o)}else return le();return t}function gle(n){return n==="NO_CHANGE"?0:n==="ADD"?1:n==="REMOVE"?2:n==="CURRENT"?3:n==="RESET"?4:le()}function ple(n){if(!("targetChange"in n))return fe.min();let e=n.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?fe.min():bi(e.readTime)}function mle(n,e){let t;if(e instanceof Sa)t={update:_P(n,e.key,e.value)};else if(e instanceof Cd)t={delete:hS(n,e.key)};else if(e instanceof Ti)t={update:_P(n,e.key,e.data),updateMask:jle(e.fieldMask)};else if(e instanceof nS)t={verify:hS(n,e.key)};else return le();return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>yle(n,r))),e.precondition.isNone||(t.currentDocument=Ele(n,e.precondition)),t}function Ele(n,e){return e.updateTime!==void 0?{updateTime:Ale(n,e.updateTime)}:e.exists!==void 0?{exists:e.exists}:le()}function Cle(n,e){let t=n.updateTime?bi(n.updateTime):bi(e);return t.isEqual(fe.min())&&(t=bi(e)),new tS(t,n.transformResults||[])}function Ile(n,e){return n&&n.length>0?(Oe(e!==void 0),n.map(t=>Cle(t,e))):[]}function yle(n,e){let t=e.transform;if(t instanceof Yl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof wa)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof va)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof Wl)return{fieldPath:e.field.canonicalString(),increment:t.operand};throw le()}function Ble(n,e){return{documents:[YV(n,e.path)]}}function Qle(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=YV(n,i);let s=Dle(e.filters);s&&(t.structuredQuery.where=s);let o=Rle(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=AS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=Nle(e.startAt)),e.endAt&&(t.structuredQuery.endAt=_le(e.endAt)),{queryTarget:t,parent:i}}function wle(n){let e=dle(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Oe(r===1);let u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=Tle(t.where));let o=[];t.orderBy&&(o=kle(t.orderBy));let a=null;t.limit&&(a=cle(t.limit));let c=null;t.startAt&&(c=Mle(t.startAt));let l=null;return t.endAt&&(l=Fle(t.endAt)),Cce(e,i,o,s,a,"F",c,l)}function vle(n,e){let t=Sle(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Sle(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}function ble(n,e){let t,r=e.target;if(Xv(r)?t={documents:Ble(n,r)}:t={query:Qle(n,r).queryTarget},t.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){t.resumeToken=qV(n,e.resumeToken);let i=AS(n,e.expectedCount);i!==null&&(t.expectedCount=i)}else if(e.snapshotVersion.compareTo(fe.min())>0){t.readTime=_m(n,e.snapshotVersion.toTimestamp());let i=AS(n,e.expectedCount);i!==null&&(t.expectedCount=i)}return t}function Dle(n){if(n.length!==0)return zV(Hr.create(n,"and"))}function Tle(n){let e=JV(n);return e instanceof Hr&&wV(e)?e.getFilters():[e]}function JV(n){return n.unaryFilter!==void 0?Wle(n):n.fieldFilter!==void 0?Jle(n):n.compositeFilter!==void 0?zle(n):le()}function Rle(n){if(n.length!==0)return n.map(e=>Gle(e))}function kle(n){return n.map(e=>qle(e))}function Nle(n){return{before:n.inclusive,values:n.position}}function _le(n){return{before:!n.inclusive,values:n.position}}function Mle(n){let e=!!n.before,t=n.values||[];return new Gl(t,e)}function Fle(n){let e=!n.before,t=n.values||[];return new Gl(t,e)}function Lle(n){return ile[n]}function xle(n){switch(n){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function Ule(n){return sle[n]}function Ole(n){return ole[n]}function Ple(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le();default:return le()}}function Vle(n){switch(n){case"AND":return"and";case"OR":return"or";default:return le()}}function Ml(n){return{fieldPath:n.canonicalString()}}function Ll(n){return Jn.fromServerFormat(n.fieldPath)}function Gle(n){return{field:Ml(n.field),direction:Lle(n.dir)}}function qle(n){return new ql(Ll(n.field),xle(n.direction))}function zV(n){return n instanceof bt?Yle(n):n instanceof Hr?Hle(n):le()}function Hle(n){let e=n.getFilters().map(t=>zV(t));return e.length===1?e[0]:{compositeFilter:{op:Ole(n.op),filters:e}}}function Yle(n){if(n.op==="=="){if(QP(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NAN"}};if(BP(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QP(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NAN"}};if(BP(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(n.field),op:Ule(n.op),value:n.value}}}function Wle(n){switch(n.unaryFilter.op){case"IS_NAN":let e=Ll(n.unaryFilter.field);return bt.create(e,"==",{doubleValue:NaN});case"IS_NULL":let t=Ll(n.unaryFilter.field);return bt.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=Ll(n.unaryFilter.field);return bt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=Ll(n.unaryFilter.field);return bt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le();default:return le()}}function Jle(n){return bt.create(Ll(n.fieldFilter.field),Ple(n.fieldFilter.op),n.fieldFilter.value)}function zle(n){return Hr.create(n.compositeFilter.filters.map(e=>JV(e)),Vle(n.compositeFilter.op))}function jle(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var yd=class n{constructor(e,t,r,i,s=fe.min(),o=fe.min(),a=sn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var gS=class{constructor(e){this.remoteSerializer=e}};function Kle(n){let e=wle({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?eS(e,e.limit,"L"):e}function $le(n){return{name:n.name,query:Kle(n.bundledQuery),readTime:bi(n.readTime)}}function Zle(n){return{id:n.id,version:n.version,createTime:bi(n.createTime)}}var Xle=5,eue=10,tue=13,bv=15,nue=20,rue=25,iue=30,sue=37,oue=45,aue=50,cue=53,lue=55,uue=60,Aue=2,Mm=class{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t),t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e)this.writeValueTypeLabel(t,Xle);else if("booleanValue"in e)this.writeValueTypeLabel(t,eue),t.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(t,bv),t.writeNumber(et(e.integerValue));else if("doubleValue"in e){let r=et(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(t,tue):(this.writeValueTypeLabel(t,bv),gd(r)?t.writeNumber(0):t.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(t,nue),typeof r=="string"&&(r=ss(r)),t.writeString(`${r.seconds||""}`),t.writeNumber(r.nanos||0)}else if("stringValue"in e)this.writeIndexString(e.stringValue,t),this.writeTruncationMarker(t);else if("bytesValue"in e)this.writeValueTypeLabel(t,iue),t.writeBytes(go(e.bytesValue)),this.writeTruncationMarker(t);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(t,oue),t.writeNumber(r.latitude||0),t.writeNumber(r.longitude||0)}else"mapValue"in e?IV(e)?this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER):CV(e)?this.writeIndexVector(e.mapValue,t):(this.writeIndexMap(e.mapValue,t),this.writeTruncationMarker(t)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,t),this.writeTruncationMarker(t)):le()}writeIndexString(e,t){this.writeValueTypeLabel(t,rue),this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){let r=e.fields||{};this.writeValueTypeLabel(t,lue);for(let i of Object.keys(r))this.writeIndexString(i,t),this.writeIndexValueAux(r[i],t)}writeIndexVector(e,t){var r,i;let s=e.fields||{};this.writeValueTypeLabel(t,cue);let o=Ol,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.writeValueTypeLabel(t,bv),t.writeNumber(et(a)),this.writeIndexString(o,t),this.writeIndexValueAux(s[o],t)}writeIndexArray(e,t){let r=e.values||[];this.writeValueTypeLabel(t,aue);for(let i of r)this.writeIndexValueAux(i,t)}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,sue),se.fromName(e).path.forEach(i=>{this.writeValueTypeLabel(t,uue),this.writeUnlabeledIndexString(i,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(Aue)}};Mm.INSTANCE=new Mm;var pS=class{constructor(){this.collectionParentIndex=new mS}addToCollectionParentIndex(e,t){return this.collectionParentIndex.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(ya.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},mS=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rn(it.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(it.comparator)).toArray()}};var _Ie=new Uint8Array(0);var Dv=2,Bd=class n{constructor(e){this.lastId=e}next(){return this.lastId+=Dv,this.lastId}static forTargetCache(){return new n(2-Dv)}static forSyncEngine(){return new n(1-Dv)}};var KV=-1,$V=40*1024*1024,vi=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};vi.DEFAULT_COLLECTION_PERCENTILE=10;vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3;vi.DEFAULT=new vi($V,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);vi.DISABLED=new vi(KV,0,0);var MP=1*1024*1024,MIe=1*60*1e3,FIe=5*60*1e3;var ES=class{constructor(){this.changes=new po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var CS=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var IS=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&dd(r.mutation,i,mr.empty(),Wt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ye()){let i=pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ld();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ye()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=os(),o=Ed(),a=kce();return t.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Ti)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),dd(u.mutation,l,u.mutation.getFieldMask(),Wt.now())):o.set(l.key,mr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var A;return a.set(l,new CS(u,(A=o.get(l))!==null&&A!==void 0?A:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ed(),i=new ht((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=r.get(c)||mr.empty();u=a.applyToLocalView(l,u),r.set(c,u);let A=(i.get(a.batchId)||ye()).add(c);i=i.insert(a.batchId,A)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,A=_V();u.forEach(d=>{if(!s.has(d)){let f=OV(t.get(d),r.get(d));f!==null&&A.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,A))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Bce(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):V.resolve(pa()),a=hd,c=s;return o.next(l=>V.forEach(l,(u,A)=>(a<A.largestBatchId&&(a=A.largestBatchId),s.get(u)?V.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,ye())).next(u=>({batchId:a,changes:NV(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new se(t)).next(r=>{let i=ld();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=ld();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,c=>{let l=Ice(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((A,d)=>{o=o.insert(A,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,qr.newInvalidDocument(u)))});let a=ld();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&dd(u.mutation,l,mr.empty(),Wt.now()),rE(t,l)&&(a=a.insert(c,l))}),a})}};var yS=class{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,t){return V.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){return this.bundles.set(t.id,Zle(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){return this.namedQueries.set(t.name,$le(t)),V.resolve()}};var BS=class{constructor(){this.overlays=new ht(se.comparator),this.overlayByBatchId=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=pa();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.saveOverlay(e,t,s)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.overlayByBatchId.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.overlayByBatchId.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=pa(),s=t.length+1,o=new se(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ht((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=pa(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=pa(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((A,d)=>a.set(A,d)),!(a.size()>=i)););return V.resolve(a)}saveOverlay(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.overlayByBatchId.get(i.largestBatchId).delete(r.key);this.overlayByBatchId.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sS(t,r));let s=this.overlayByBatchId.get(t);s===void 0&&(s=ye(),this.overlayByBatchId.set(t,s)),this.overlayByBatchId.set(t,s.add(r.key))}};var QS=class{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var Qd=class{constructor(){this.refsByKey=new rn(St.compareByKey),this.refsByTarget=new rn(St.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){let r=new St(e,t);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.removeRef(new St(e,t))}removeReferences(e,t){e.forEach(r=>this.removeReference(r,t))}removeReferencesForId(e){let t=new se(new it([])),r=new St(t,e),i=new St(t,e+1),s=[];return this.refsByTarget.forEachInRange([r,i],o=>{this.removeRef(o),s.push(o.key)}),s}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let t=new se(new it([])),r=new St(t,e),i=new St(t,e+1),s=ye();return this.refsByTarget.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new St(e,0),r=this.refsByKey.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},St=class{constructor(e,t){this.key=e,this.targetOrBatchId=t}static compareByKey(e,t){return se.comparator(e.key,t.key)||ke(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return ke(e.targetOrBatchId,t.targetOrBatchId)||se.comparator(e.key,t.key)}};var wS=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new rn(St.compareByKey)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new rS(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,t){return V.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.indexOfBatchId(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?fb:this.nextBatchId-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new St(t,0),i=new St(t,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],o=>{let a=this.findMutationBatch(o.targetOrBatchId);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rn(ke);return t.forEach(i=>{let s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([s,o],a=>{r=r.add(a.targetOrBatchId)})}),V.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;se.isDocumentKey(s)||(s=s.child(""));let o=new St(new se(s),0),a=new rn(ke);return this.batchesByDocumentKey.forEachWhile(c=>{let l=c.key.path;return r.isPrefixOf(l)?(l.length===i&&(a=a.add(c.targetOrBatchId)),!0):!1},o),V.resolve(this.findMutationBatches(a))}findMutationBatches(e){let t=[];return e.forEach(r=>{let i=this.findMutationBatch(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){let r=this.indexOfExistingBatchId(t.batchId,"removed");Oe(r===0),this.mutationQueue.shift();let i=this.batchesByDocumentKey;return V.forEach(t.mutations,s=>{let o=new St(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.batchesByDocumentKey=i})}removeCachedMutationKeys(e){}containsKey(e,t){let r=new St(t,0),i=this.batchesByDocumentKey.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}indexOfExistingBatchId(e,t){return this.indexOfBatchId(e)}indexOfBatchId(e){if(this.mutationQueue.length===0)return 0;let t=this.mutationQueue[0].batchId;return e-t}findMutationBatch(e){let t=this.indexOfBatchId(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};function due(){return new ht(se.comparator)}var vS=class{constructor(e){this.sizer=e,this.docs=due(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.sizer(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():qr.newInvalidDocument(t))}getEntries(e,t){let r=os();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qr.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=os(),o=t.path,a=new se(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||pae(gae(u),r)<=0||!i.has(u.key)&&!rE(t,u)||(s=s.insert(u.key,u.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,t,r,i){le()}forEachDocumentKey(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new SS(this)}getSize(e){return V.resolve(this.size)}};function hue(n){return new vS(n)}var SS=class extends ES{constructor(e){super(),this.documentCache=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.documentCache.addEntry(e,i)):this.documentCache.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}};var bS=class{constructor(e){this.persistence=e,this.targets=new po(t=>Cb(t),Ib),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Qd,this.targetCount=0,this.targetIdGenerator=Bd.forTargetCache()}forEachTarget(e,t){return this.targets.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),V.resolve()}saveTargetData(e){this.targets.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.targetIdGenerator=new Bd(t),this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,t){return this.saveTargetData(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.saveTargetData(t),V.resolve()}removeTargetData(e,t){return this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.targets.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.targets.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.targets.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.references.addReferences(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.references.removeReferences(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.references.removeReferencesForId(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.references.referencesForId(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.references.containsKey(t))}};var fue="MemoryPersistence",DS=class{constructor(e,t){this.mutationQueues={},this.overlays={},this.listenSequence=new ZP(0),this._started=!1,this._started=!0,this.globalsCache=new QS,this.referenceDelegate=e(this),this.targetCache=new bS(this);let r=i=>this.referenceDelegate.documentSize(i);this.indexManager=new pS,this.remoteDocumentCache=hue(r),this.serializer=new gS(t),this.bundleCache=new yS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.mutationQueues[e.toKey()];return r||(r=new wS(t,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){ee(fue,"Starting transaction:",e);let i=new TS(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(i).next(s=>this.referenceDelegate.onTransactionCommitted(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}mutationQueuesContainKey(e,t){return V.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,t)))}},TS=class extends Ov{constructor(e){super(),this.currentSequenceNumber=e}},RS=class n{constructor(e){this.persistence=e,this.localViewReferences=new Qd,this._orphanedDocuments=null}static factory(e){return new n(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw le()}addReference(e,t,r){return this.localViewReferences.addReference(r,t),this.orphanedDocuments.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.localViewReferences.removeReference(r,t),this.orphanedDocuments.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.orphanedDocuments.add(t.toString()),V.resolve()}removeTarget(e,t){this.localViewReferences.removeReferencesForId(t.targetId).forEach(s=>this.orphanedDocuments.add(s.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.orphanedDocuments.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.orphanedDocuments,i=>{let s=se.fromPath(i);return this.isReferenced(e,s).next(o=>{o||r.removeEntry(s,fe.min())})}).next(()=>(this._orphanedDocuments=null,r.apply(e)))}updateLimboDocument(e,t){return this.isReferenced(e,t).next(r=>{r?this.orphanedDocuments.delete(t.toString()):this.orphanedDocuments.add(t.toString())})}documentSize(e){return 0}isReferenced(e,t){return V.or([()=>V.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}};var LIe=30*60*1e3;function gue(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}var wb="LocalStore",pue=5*60*1e6,kS=class{constructor(e,t,r,i){this.persistence=e,this.queryEngine=t,this.serializer=i,this.targetDataByTarget=new ht(ke),this.targetIdByTarget=new po(s=>Cb(s),Ib),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IS(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}};function mue(n,e,t,r){return new kS(n,e,t,r)}function ZV(n,e){return m(this,null,function*(){let t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.initializeUserComponents(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],c=[],l=ye();for(let u of s){a.push(u.batchId);for(let A of u.mutations)l=l.add(A.key)}for(let u of o){c.push(u.batchId);for(let A of u.mutations)l=l.add(A.key)}return t.localDocuments.getDocuments(i,l).next(u=>({affectedDocuments:u,removedBatchIds:a,addedBatchIds:c}))})})})}function Eue(n,e){let t=he(n),r=Wt.now(),i=e.reduce((a,c)=>a.add(c.key),ye()),s,o;return t.persistence.runTransaction("Locally write mutations","readwrite",a=>{let c=os(),l=ye();return t.remoteDocuments.getEntries(a,i).next(u=>{c=u,c.forEach((A,d)=>{d.isValidDocument()||(l=l.add(A))})}).next(()=>t.localDocuments.getOverlayedDocuments(a,c)).next(u=>{s=u;let A=[];for(let d of e){let f=Yce(d,s.get(d.key).overlayedDocument);f!=null&&A.push(new Ti(d.key,f,yV(f.value.mapValue),is.exists(!0)))}return t.mutationQueue.addMutationBatch(a,r,A,e)}).next(u=>{o=u;let A=u.applyToLocalDocumentSet(s,l);return t.documentOverlayCache.saveOverlays(a,u.batchId,A)})}).then(()=>({batchId:o.batchId,changes:NV(s)}))}function Cue(n,e){let t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return Tue(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,Iue(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Iue(n){let e=ye();for(let t=0;t<n.mutationResults.length;++t)n.mutationResults[t].transformResults.length>0&&(e=e.add(n.batch.mutations[t].key));return e}function yue(n,e){let t=he(n);return t.persistence.runTransaction("Reject batch","readwrite-primary",r=>{let i;return t.mutationQueue.lookupMutationBatch(r,e).next(s=>(Oe(s!==null),i=s.keys(),t.mutationQueue.removeMutationBatch(r,s))).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,i)).next(()=>t.localDocuments.getDocuments(r,i))})}function XV(n){let e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.targetCache.getLastRemoteSnapshotVersion(t))}function Bue(n,e){let t=he(n),r=e.snapshotVersion,i=t.targetDataByTarget;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=t.targetDataByTarget;let a=[];e.targetChanges.forEach((u,A)=>{let d=i.get(A);if(!d)return;a.push(t.targetCache.removeMatchingKeys(s,u.removedDocuments,A).next(()=>t.targetCache.addMatchingKeys(s,u.addedDocuments,A)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(A)!==null?f=f.withResumeToken(sn.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(A,f),wue(d,f,u)&&a.push(t.targetCache.updateTargetData(s,f))});let c=os(),l=ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Que(s,o,e.documentUpdates).next(u=>{c=u.changedDocuments,l=u.existenceChangedKeys})),!r.isEqual(fe.min())){let u=t.targetCache.getLastRemoteSnapshotVersion(s).next(A=>t.targetCache.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.targetDataByTarget=i,s))}function Que(n,e,t){let r=ye(),i=ye();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=os();return t.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ee(wb,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{changedDocuments:o,existenceChangedKeys:i}})}function wue(n,e,t){return n.resumeToken.approximateByteSize()===0||e.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=pue?!0:t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size>0}function vue(n,e){return m(this,null,function*(){let t=he(n);try{yield t.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>V.forEach(e,i=>V.forEach(i.addedKeys,s=>t.persistence.referenceDelegate.addReference(r,i.targetId,s)).next(()=>V.forEach(i.removedKeys,s=>t.persistence.referenceDelegate.removeReference(r,i.targetId,s)))))}catch(r){if(Rd(r))ee(wb,"Failed to update sequence numbers: "+r);else throw r}for(let r of e){let i=r.targetId;if(!r.fromCache){let s=t.targetDataByTarget.get(i),o=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(o);t.targetDataByTarget=t.targetDataByTarget.insert(i,a)}}})}function Sue(n,e){let t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bue(n,e){let t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.targetCache.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):t.targetCache.allocateTargetId(r).next(o=>(i=new yd(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.targetCache.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.targetDataByTarget.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.targetDataByTarget=t.targetDataByTarget.insert(r.targetId,r),t.targetIdByTarget.set(e,r.targetId)),r})}function Due(n,e,t){let r=he(n),i=r.targetIdByTarget.get(t);return i!==void 0?V.resolve(r.targetDataByTarget.get(i)):r.targetCache.getTargetData(e,t)}function NS(n,e,t){return m(this,null,function*(){let r=he(n),i=r.targetDataByTarget.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(Rd(o))ee(wb,`Failed to update sequence numbers for target ${e}: ${o}`);else throw o}r.targetDataByTarget=r.targetDataByTarget.remove(e),r.targetIdByTarget.delete(i.target)})}function eG(n,e,t){let r=he(n),i=fe.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>Due(r,o,Si(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.targetCache.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.queryEngine.getDocumentsMatchingQuery(o,e,t?i:fe.min(),t?s:ye())).next(a=>(Rue(r,Dce(e),a),{documents:a,remoteKeys:s})))}function Tue(n,e,t,r){let i=t.batch,s=i.keys(),o=V.resolve();return s.forEach(a=>{o=o.next(()=>r.getEntry(e,a)).next(c=>{let l=t.docVersions.get(a);Oe(l!==null),c.version.compareTo(l)<0&&(i.applyToRemoteDocument(c,t),c.isValidDocument()&&(c.setReadTime(t.commitVersion),r.addEntry(c)))})}),o.next(()=>n.mutationQueue.removeMutationBatch(e,i))}function Rue(n,e,t){let r=n.collectionGroupReadTime.get(e)||fe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.collectionGroupReadTime.set(e,r)}var _S=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var kue=100;function Nue(){return uT()?8:Eae(Fn())>0?6:4}var MS=class{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=kue,this.relativeIndexReadCostPerDocument=Nue()}initialize(e,t){this.localDocumentsView=e,this.indexManager=t,this.initialized=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.performQueryUsingIndex(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.performQueryUsingRemoteKeys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new _S;return this.executeFullCollectionScan(e,t,o).next(a=>{if(s.result=a,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,t,o,a.size)})}).next(()=>s.result)}createCacheIndexes(e,t,r,i){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(cd()<=Ce.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",_l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),V.resolve()):(cd()<=Ce.DEBUG&&ee("QueryEngine","Query:",_l(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*i?(cd()<=Ce.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",_l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(t))):V.resolve())}performQueryUsingIndex(e,t){if(SP(t))return V.resolve(null);let r=Si(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=eS(t,null,"F"),r=Si(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ye(...s);return this.localDocumentsView.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.applyQuery(t,a);return this.needsRefill(t,l,o,c.readTime)?this.performQueryUsingIndex(e,eS(t,null,"F")):this.appendRemainingResults(e,l,t,c)}))})))}performQueryUsingRemoteKeys(e,t,r,i){return SP(t)||i.isEqual(fe.min())?V.resolve(null):this.localDocumentsView.getDocuments(e,r).next(s=>{let o=this.applyQuery(t,s);return this.needsRefill(t,o,r,i)?V.resolve(null):(cd()<=Ce.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_l(t)),this.appendRemainingResults(e,o,t,fae(i,hd)).next(a=>a))})}applyQuery(e,t){let r=new rn(RV(e));return t.forEach((i,s)=>{rE(e,s)&&(r=r.add(s))}),r}needsRefill(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return s?s.hasPendingWrites||s.version.compareTo(i)>0:!1}executeFullCollectionScan(e,t,r){return cd()<=Ce.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",_l(t)),this.localDocumentsView.getDocumentsMatchingQuery(e,t,ya.min(),r)}appendRemainingResults(e,t,r,i){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Fm=class{constructor(){this.activeTargetIds=Lce()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var FS=class{constructor(){this.localState=new Fm,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,t,r){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new Fm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var LS=class{addCallback(e){}shutdown(){}};var xS=class{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}};var Im=null;function _ue(){return 268435456+Math.round(2147483648*Math.random())}function Tv(){return Im===null?Im=_ue():Im++,"0x"+Im.toString(16)}function Mue(n){return new Promise((e,t)=>{n((r,i)=>{r?t(r):e(i)})})}var Fue="1.9.1",gn="GrpcConnection",Lue=`gl-node/${process.versions.node} fire/${Xl} grpc/${Fue}`;function Rv(n,e,t,r){Oe(e===null||e.type==="OAuth");let i=new Ea.Metadata;return e&&e.headers.forEach((s,o)=>i.set(o,s)),t&&t.headers.forEach((s,o)=>i.set(o,s)),r&&i.set("X-Firebase-GMPID",r),i.set("X-Goog-Api-Client",Lue),i.set("Google-Cloud-Resource-Prefix",n),i.set("x-goog-request-params",n),i}var US=class{constructor(e,t){this.databaseInfo=t,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){ee(gn,"Creating Firestore stub.");let e=this.databaseInfo.ssl?Ea.credentials.createSsl():Ea.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,r,i,s){let o=Tv(),a=this.ensureActiveStub(),c=Rv(this.databasePath,i,s,this.databaseInfo.appId),l=Object.assign({database:this.databasePath},r);return Mue(u=>(ee(gn,`RPC '${e}' ${o} invoked with request:`,r),a[e](l,c,(A,d)=>{A?(ee(gn,`RPC '${e}' ${o} failed with error:`,A),u(new $(Bm(A.code),A.message))):(ee(gn,`RPC '${e}' ${o} completed with response:`,d),u(void 0,d))})))}invokeStreamingRPC(e,t,r,i,s,o){let a=Tv(),c=[],l=new Pr;ee(gn,`RPC '${e}' ${a} invoked (streaming) with request:`,r);let u=this.ensureActiveStub(),A=Rv(this.databasePath,i,s,this.databaseInfo.appId),d=Object.assign(Object.assign({},r),{database:this.databasePath}),f=u[e](d,A),Q=!1;return f.on("data",C=>{ee(gn,`RPC ${e} ${a} received result:`,C),c.push(C),o!==void 0&&c.length===o&&(Q=!0,l.resolve(c))}),f.on("end",()=>{ee(gn,`RPC '${e}' ${a} completed.`),Q||(Q=!0,l.resolve(c))}),f.on("error",C=>{ee(gn,`RPC '${e}' ${a} failed with error:`,C);let I=Bm(C.code);l.reject(new $(I,C.message))}),l.promise}openStream(e,t,r){let i=Tv(),s=this.ensureActiveStub(),o=Rv(this.databasePath,t,r,this.databaseInfo.appId),a=s[e](o),c=!1,l=d=>{c||(c=!0,u.callOnClose(d),a.end())},u=new xS({sendFn:d=>{if(c)ee(gn,`RPC '${e}' stream ${i} not sending because gRPC stream is closed:`,d);else{ee(gn,`RPC '${e}' stream ${i} sending:`,d);try{a.write(d)}catch(f){throw Gr("Failure sending:",d),Gr("Error:",f),f}}},closeFn:()=>{ee(gn,`RPC '${e}' stream ${i} closed locally via close().`),l()}}),A=!1;return a.on("data",d=>{c||(ee(gn,`RPC '${e}' stream ${i} received:`,d),A||(u.callOnConnected(),A=!0),u.callOnMessage(d))}),a.on("end",()=>{ee(gn,`RPC '${e}' stream ${i} ended.`),l()}),a.on("error",d=>{if(!c){xl(gn,`RPC '${e}' stream ${i} error. Code:`,d.code,"Message:",d.message);let f=Bm(d.code);l(new $(f,d.message))}}),ee(gn,`Opening RPC '${e}' stream ${i} to ${this.databaseInfo.host}`),setTimeout(()=>{u.callOnOpen()},0),u}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}},tG={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},xue={nested:tG},Uue=Object.freeze({__proto__:null,nested:tG,default:xue});var Oue={longs:String,enums:String,defaults:!0,oneofs:!1};function Pue(){let n=$P.fromJSON(Uue,Oue);return Ea.loadPackageDefinition(n)}function Vue(n){let e=Pue();return new US(e,n)}function Gue(){return new LS}function sE(n){return new uS(n,!1)}var que="ExponentialBackoff",Hue=1e3,Yue=1.5,Wue=60*1e3,Lm=class{constructor(e,t,r=Hue,i=Yue,s=Wue){this.queue=e,this.timerId=t,this.initialDelayMs=r,this.backoffFactor=i,this.maxDelayMs=s,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,t-r);i>0&&ee(que,`Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){this.timerPromise!==null&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){this.timerPromise!==null&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}};var FP="PersistentStream",Jue=60*1e3,zue=10*1e3,xm=class{constructor(e,t,r,i,s,o,a,c){this.queue=e,this.idleTimerId=r,this.healthTimerId=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.responseCount=0,this.backoff=new Lm(e,t)}isStarted(){return this.state===1||this.state===5||this.isOpen()}isOpen(){return this.state===2||this.state===3}start(){if(this.responseCount=0,this.state===4){this.performBackoff();return}this.auth()}stop(){return m(this,null,function*(){this.isStarted()&&(yield this.close(0))})}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&this.idleTimer===null&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,Jue,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}handleIdleCloseTimer(){return m(this,null,function*(){if(this.isOpen())return this.close(0)})}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}close(e,t){return m(this,null,function*(){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,e!==4?this.backoff.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.onClose(t)})}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.closeCount===t&&this.startStream(r,i)},r=>{e(()=>{let i=new $(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.handleStreamClose(i)})})}startStream(e,t){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t),this.stream.onConnected(()=>{r(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,zue,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(i=>{r(()=>this.handleStreamClose(i))}),this.stream.onMessage(i=>{r(()=>++this.responseCount===1?this.onFirst(i):this.onNext(i))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(()=>m(this,null,function*(){this.state=0,this.start()}))}handleStreamClose(e){return ee(FP,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>this.closeCount===e?t():(ee(FP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},OS=class extends xm{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onFirst(e){return this.onNext(e)}onNext(e){this.backoff.reset();let t=fle(this.serializer,e),r=ple(e);return this.listener.onWatchChange(t,r)}watch(e){let t={};t.database=fS(this.serializer),t.addTarget=ble(this.serializer,e);let r=vle(this.serializer,e);r&&(t.labels=r),this.sendRequest(t)}unwatch(e){let t={};t.database=fS(this.serializer),t.removeTarget=e,this.sendRequest(t)}},PS=class extends xm{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete&&this.writeMutations([])}startRpc(e,t){return this.connection.openStream("Write",e,t)}onFirst(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.onHandshakeComplete()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.backoff.reset();let t=Ile(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.onMutationResult(r,t)}writeHandshake(){let e={};e.database=fS(this.serializer),this.sendRequest(e)}writeMutations(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>mle(this.serializer,r))};this.sendRequest(t)}};var VS=class{},GS=class extends VS{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new $(L.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,t,r,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.invokeRPC(e,dS(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(L.UNKNOWN,s.toString())})}invokeStreamingRPC(e,t,r,i,s){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.invokeStreamingRPC(e,dS(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(L.UNKNOWN,o.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}};function jue(n,e,t,r){return new GS(n,e,t,r)}function Kue(n,e,t){let r=he(n);return r.verifyInitialized(),new PS(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}function $ue(n,e,t){let r=he(n);return r.verifyInitialized(),new OS(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}var Zue="OnlineStateTracker",LP=1,xP=10*1e3,qS=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){this.watchStreamFailures===0&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",xP,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${xP/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){this.state==="Online"?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=LP&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${LP} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e==="Online"&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(Gr(t),this.shouldWarnClientIsOffline=!1):ee(Zue,t)}clearOnlineStateTimer(){this.onlineStateTimer!==null&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}};var ba="RemoteStore",Xue=10,HS=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=s,this.connectivityMonitor.addCallback(o=>{r.enqueueAndForget(()=>m(this,null,function*(){Ra(this)&&(ee(ba,"Restarting streams for network reachability change."),yield gAe(this))}))}),this.onlineStateTracker=new qS(r,i)}};function eAe(n,e,t,r,i){return new HS(n,e,t,r,i)}function oE(n){return m(this,null,function*(){if(Ra(n))for(let e of n.onNetworkStatusChange)yield e(!0)})}function kd(n){return m(this,null,function*(){for(let e of n.onNetworkStatusChange)yield e(!1)})}function tAe(n){return m(this,null,function*(){let e=he(n);ee(ba,"RemoteStore shutting down."),e.offlineCauses.add(5),yield kd(e),e.connectivityMonitor.shutdown(),e.onlineStateTracker.set("Unknown")})}function nG(n,e){let t=he(n);t.listenTargets.has(e.targetId)||(t.listenTargets.set(e.targetId,e),Db(t)?bb(t):eu(t).isOpen()&&Sb(t,e))}function vb(n,e){let t=he(n),r=eu(t);t.listenTargets.delete(e),r.isOpen()&&rG(t,e),t.listenTargets.size===0&&(r.isOpen()?r.markIdle():Ra(t)&&t.onlineStateTracker.set("Unknown"))}function Sb(n,e){if(n.watchChangeAggregator.recordPendingTargetRequest(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}eu(n).watch(e)}function rG(n,e){n.watchChangeAggregator.recordPendingTargetRequest(e),eu(n).unwatch(e)}function bb(n){n.watchChangeAggregator=new lS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),getTargetDataForTarget:e=>n.listenTargets.get(e)||null,getDatabaseId:()=>n.datastore.serializer.databaseId}),eu(n).start(),n.onlineStateTracker.handleWatchStreamStart()}function Db(n){return Ra(n)&&!eu(n).isStarted()&&n.listenTargets.size>0}function Ra(n){return he(n).offlineCauses.size===0}function iG(n){n.watchChangeAggregator=void 0}function nAe(n){return m(this,null,function*(){n.onlineStateTracker.set("Online")})}function rAe(n){return m(this,null,function*(){n.listenTargets.forEach((e,t)=>{Sb(n,e)})})}function iAe(n,e){return m(this,null,function*(){iG(n),Db(n)?(n.onlineStateTracker.handleWatchStreamFailure(e),bb(n)):n.onlineStateTracker.set("Unknown")})}function sAe(n,e,t){return m(this,null,function*(){if(n.onlineStateTracker.set("Online"),e instanceof km&&e.state===2&&e.cause){try{yield aAe(n,e)}catch(r){ee(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Um(n,r)}return}if(e instanceof Ul?n.watchChangeAggregator.handleDocumentChange(e):e instanceof Rm?n.watchChangeAggregator.handleExistenceFilter(e):n.watchChangeAggregator.handleTargetChange(e),!t.isEqual(fe.min()))try{let r=yield XV(n.localStore);t.compareTo(r)>=0&&(yield oAe(n,t))}catch(r){ee(ba,"Failed to raise snapshot:",r),yield Um(n,r)}})}function Um(n,e,t){return m(this,null,function*(){if(Rd(e))n.offlineCauses.add(1),yield kd(n),n.onlineStateTracker.set("Offline"),t||(t=()=>XV(n.localStore)),n.asyncQueue.enqueueRetryable(()=>m(this,null,function*(){ee(ba,"Retrying IndexedDB access"),yield t(),n.offlineCauses.delete(1),yield oE(n)}));else throw e})}function sG(n,e){return e().catch(t=>Um(n,t,e))}function oAe(n,e){let t=n.watchChangeAggregator.createRemoteEvent(e);return t.targetChanges.forEach((r,i)=>{if(r.resumeToken.approximateByteSize()>0){let s=n.listenTargets.get(i);s&&n.listenTargets.set(i,s.withResumeToken(r.resumeToken,e))}}),t.targetMismatches.forEach((r,i)=>{let s=n.listenTargets.get(r);if(!s)return;n.listenTargets.set(r,s.withResumeToken(sn.EMPTY_BYTE_STRING,s.snapshotVersion)),rG(n,r);let o=new yd(s.target,r,i,s.sequenceNumber);Sb(n,o)}),n.remoteSyncer.applyRemoteEvent(t)}function aAe(n,e){return m(this,null,function*(){let t=e.cause;for(let r of e.targetIds)n.listenTargets.has(r)&&(yield n.remoteSyncer.rejectListen(r,t),n.listenTargets.delete(r),n.watchChangeAggregator.removeTarget(r))})}function aE(n){return m(this,null,function*(){let e=he(n),t=Eo(e),r=e.writePipeline.length>0?e.writePipeline[e.writePipeline.length-1].batchId:fb;for(;cAe(e);)try{let i=yield Sue(e.localStore,r);if(i===null){e.writePipeline.length===0&&t.markIdle();break}else r=i.batchId,lAe(e,i)}catch(i){yield Um(e,i)}oG(e)&&aG(e)})}function cAe(n){return Ra(n)&&n.writePipeline.length<Xue}function lAe(n,e){n.writePipeline.push(e);let t=Eo(n);t.isOpen()&&t.handshakeComplete&&t.writeMutations(e.mutations)}function oG(n){return Ra(n)&&!Eo(n).isStarted()&&n.writePipeline.length>0}function aG(n){Eo(n).start()}function uAe(n){return m(this,null,function*(){Eo(n).writeHandshake()})}function AAe(n){return m(this,null,function*(){let e=Eo(n);for(let t of n.writePipeline)e.writeMutations(t.mutations)})}function dAe(n,e,t){return m(this,null,function*(){let r=n.writePipeline.shift(),i=iS.from(r,e,t);yield sG(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield aE(n)})}function hAe(n,e){return m(this,null,function*(){e&&Eo(n).handshakeComplete&&(yield fAe(n,e)),oG(n)&&aG(n)})}function fAe(n,e){return m(this,null,function*(){if(Xce(e.code)){let t=n.writePipeline.shift();Eo(n).inhibitBackoff(),yield sG(n,()=>n.remoteSyncer.rejectFailedWrite(t.batchId,e)),yield aE(n)}})}function gAe(n){return m(this,null,function*(){let e=he(n);e.offlineCauses.add(4),yield kd(e),e.onlineStateTracker.set("Unknown"),e.offlineCauses.delete(4),yield oE(e)})}function UP(n,e){return m(this,null,function*(){let t=he(n);t.asyncQueue.verifyOperationInProgress(),ee(ba,"RemoteStore received new credentials");let r=Ra(t);t.offlineCauses.add(3),yield kd(t),r&&t.onlineStateTracker.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.offlineCauses.delete(3),yield oE(t)})}function pAe(n,e){return m(this,null,function*(){let t=he(n);e?(t.offlineCauses.delete(2),yield oE(t)):e||(t.offlineCauses.add(2),yield kd(t),t.onlineStateTracker.set("Unknown"))})}function eu(n){return n.watchStream||(n.watchStream=$ue(n.datastore,n.asyncQueue,{onConnected:nAe.bind(null,n),onOpen:rAe.bind(null,n),onClose:iAe.bind(null,n),onWatchChange:sAe.bind(null,n)}),n.onNetworkStatusChange.push(e=>m(this,null,function*(){e?(n.watchStream.inhibitBackoff(),Db(n)?bb(n):n.onlineStateTracker.set("Unknown")):(yield n.watchStream.stop(),iG(n))}))),n.watchStream}function Eo(n){return n.writeStream||(n.writeStream=Kue(n.datastore,n.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:uAe.bind(null,n),onClose:hAe.bind(null,n),onHandshakeComplete:AAe.bind(null,n),onMutationResult:dAe.bind(null,n)}),n.onNetworkStatusChange.push(e=>m(this,null,function*(){e?(n.writeStream.inhibitBackoff(),yield aE(n)):(yield n.writeStream.stop(),n.writePipeline.length>0&&(ee(ba,`Stopping write stream with ${n.writePipeline.length} pending writes`),n.writePipeline=[]))}))),n.writeStream}var mAe="AsyncQueue",YS=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Tb(n,e){if(Gr(mAe,`${e}: ${n}`),Rd(n))return new $(L.UNAVAILABLE,`${e}: ${n}`);throw n}var Om=class n{constructor(e){e?this.comparator=(t,r)=>e(t,r)||se.comparator(t.key,r.key):this.comparator=(t,r)=>se.comparator(t.key,r.key),this.keyedMap=ld(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Pm=class{constructor(){this.changeMap=new ht(se.comparator)}track(e){let t=e.doc.key,r=this.changeMap.get(t);if(!r){this.changeMap=this.changeMap.insert(t,e);return}e.type!==0&&r.type===3?this.changeMap=this.changeMap.insert(t,e):e.type===3&&r.type!==1?this.changeMap=this.changeMap.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.changeMap=this.changeMap.remove(t):e.type===1&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):le()}getChanges(){let e=[];return this.changeMap.inorderTraversal((t,r)=>{e.push(r)}),e}},zl=class n{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Om.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!nE(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var WS=class{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}};function EAe(){return new JS}var JS=class{constructor(){this.queries=cG(),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}terminate(){BAe(this,new $(L.ABORTED,"Firestore shutting down"))}};function cG(){return new po(n=>TV(n),nE)}function lG(n,e){return m(this,null,function*(){let t=he(n),r=3,i=e.query,s=t.queries.get(i);s?!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(r=2):(s=new WS,r=e.listensToRemoteStore()?0:1);try{switch(r){case 0:s.viewSnap=yield t.onListen(i,!0);break;case 1:s.viewSnap=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i);break;default:break}}catch(o){let a=Tb(o,`Initialization of query '${_l(e.query)}' failed`);e.onError(a);return}t.queries.set(i,s),s.listeners.push(e),e.applyOnlineStateChange(t.onlineState),s.viewSnap&&e.onViewSnapshot(s.viewSnap)&&Rb(t)})}function uG(n,e){return m(this,null,function*(){let t=he(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),s.listeners.length===0?i=e.listensToRemoteStore()?0:1:!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function CAe(n,e){let t=he(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.listeners)a.onViewSnapshot(i)&&(r=!0);o.viewSnap=i}}r&&Rb(t)}function IAe(n,e,t){let r=he(n),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(t);r.queries.delete(e)}function yAe(n,e){let t=he(n);t.onlineState=e;let r=!1;t.queries.forEach((i,s)=>{for(let o of s.listeners)o.applyOnlineStateChange(e)&&(r=!0)}),r&&Rb(t)}function BAe(n,e){let t=he(n),r=t.queries;t.queries=cG(),r.forEach((i,s)=>{for(let o of s.listeners)o.onError(e)})}function Rb(n){n.snapshotsInSyncListeners.forEach(e=>{e.next()})}var AG=function(n){return n.Default="default",n.Cache="cache",n}(AG||{}),Vm=class{constructor(e,t,r){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),t=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),t=!0),this.snap=e,t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t}shouldRaiseInitialEvent(e,t){if(!e.fromCache||!this.listensToRemoteStore())return!0;let r=t!=="Offline";return this.options.waitForSyncWhenOnline&&r?!1:!e.docs.isEmpty()||e.hasCachedResults||t==="Offline"}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return e.syncStateChanged||t?this.options.includeMetadataChanges===!0:!1}raiseInitialEvent(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==AG.Cache}};var zS=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.addedKeys=r,this.removedKeys=i}static fromSnapshot(e,t){let r=ye(),i=ye();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key);break}return new n(e,t.fromCache,r,i)}};var Gm=class{constructor(e){this.key=e}},qm=class{constructor(e){this.key=e}},jS=class{constructor(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=ye(),this.mutatedKeys=ye(),this.docComparator=RV(e),this.documentSet=new Om(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){let r=t?t.changeSet:new Pm,i=t?t.documentSet:this.documentSet,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,A)=>{let d=i.get(u),f=rE(this.query,A)?A:null,Q=d?this.mutatedKeys.has(d.key):!1,C=f?f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations:!1,I=!1;d&&f?d.data.isEqual(f.data)?Q!==C&&(r.track({type:3,doc:f}),I=!0):this.shouldWaitForSyncedDocument(d,f)||(r.track({type:2,doc:f}),I=!0,(c&&this.docComparator(f,c)>0||l&&this.docComparator(f,l)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),I=!0):d&&!f&&(r.track({type:1,doc:d}),I=!0,(c||l)&&(a=!0)),I&&(f?(o=o.add(f),C?s=s.add(u):s=s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let o=e.changeSet.getChanges();o.sort((A,d)=>QAe(A.type,d.type)||this.docComparator(A.doc,d.doc)),this.applyTargetChange(r),i=i??!1;let a=t&&!i?this.updateLimboDocuments():[],l=this.limboDocuments.size===0&&this.current&&!i?1:0,u=l!==this.syncState;return this.syncState=l,o.length===0&&!u?{limboChanges:a}:{snapshot:new zl(this.query,e.documentSet,s,o,e.mutatedKeys,l===0,u,!1,r?r.resumeToken.approximateByteSize()>0:!1),limboChanges:a}}applyOnlineStateChange(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Pm,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!(this._syncedDocuments.has(e)||!this.documentSet.has(e)||this.documentSet.get(e).hasLocalMutations)}applyTargetChange(e){e&&(e.addedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.delete(t)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=ye(),this.documentSet.forEach(r=>{this.shouldBeInLimbo(r.key)&&(this.limboDocuments=this.limboDocuments.add(r.key))});let t=[];return e.forEach(r=>{this.limboDocuments.has(r)||t.push(new qm(r))}),this.limboDocuments.forEach(r=>{e.has(r)||t.push(new Gm(r))}),t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=ye();let t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)}computeInitialSnapshot(){return zl.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===0,this.hasCachedResults)}};function QAe(n,e){let t=r=>{switch(r){case 0:return 1;case 2:return 2;case 3:return 2;case 1:return 0;default:return le()}};return t(n)-t(e)}var kb="SyncEngine",KS=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},$S=class{constructor(e){this.key=e,this.receivedDocument=!1}},ZS=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.syncEngineListener={},this.queryViewsByQuery=new po(a=>TV(a),nE),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new ht(se.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new Qd,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Bd.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return this._isPrimaryClient===!0}};function wAe(n,e,t,r,i,s,o){let a=new ZS(n,e,t,r,i,s);return o&&(a._isPrimaryClient=!0),a}function vAe(n,e,t=!0){return m(this,null,function*(){let r=EG(n),i,s=r.queryViewsByQuery.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.computeInitialSnapshot()):i=yield dG(r,e,t,!0),i})}function SAe(n,e){return m(this,null,function*(){let t=EG(n);yield dG(t,e,!0,!1)})}function dG(n,e,t,r){return m(this,null,function*(){let i=yield bue(n.localStore,Si(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield bAe(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&nG(n.remoteStore,i),a})}function bAe(n,e,t,r,i){return m(this,null,function*(){n.applyDocChanges=(A,d,f)=>xAe(n,A,d,f);let s=yield eG(n.localStore,e,!0),o=new jS(e,s.remoteKeys),a=o.computeDocChanges(s.documents),c=Id.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,c);mG(n,t,l.limboChanges);let u=new KS(e,t,o);return n.queryViewsByQuery.set(e,u),n.queriesByTarget.has(t)?n.queriesByTarget.get(t).push(e):n.queriesByTarget.set(t,[e]),l.snapshot})}function DAe(n,e,t){return m(this,null,function*(){let r=he(n),i=r.queryViewsByQuery.get(e),s=r.queriesByTarget.get(i.targetId);if(s.length>1){r.queriesByTarget.set(i.targetId,s.filter(o=>!nE(o,e))),r.queryViewsByQuery.delete(e);return}r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield NS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vb(r.remoteStore,i.targetId),XS(r,i.targetId)}).catch(Td))):(XS(r,i.targetId),yield NS(r.localStore,i.targetId,!0))})}function TAe(n,e){return m(this,null,function*(){let t=he(n),r=t.queryViewsByQuery.get(e),i=t.queriesByTarget.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vb(t.remoteStore,r.targetId))})}function RAe(n,e,t){return m(this,null,function*(){let r=PAe(n);try{let i=yield Eue(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),FAe(r,i.batchId,t),yield Nd(r,i.changes),yield aE(r.remoteStore)}catch(i){let s=Tb(i,"Failed to persist write");t.reject(s)}})}function hG(n,e){return m(this,null,function*(){let t=he(n);try{let r=yield Bue(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.activeLimboResolutionsByTarget.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.receivedDocument=!0:i.modifiedDocuments.size>0?Oe(o.receivedDocument):i.removedDocuments.size>0&&(Oe(o.receivedDocument),o.receivedDocument=!1))}),yield Nd(t,r,e)}catch(r){yield Td(r)}})}function OP(n,e,t){let r=he(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.queryViewsByQuery.forEach((s,o)=>{let a=o.view.applyOnlineStateChange(e);a.snapshot&&i.push(a.snapshot)}),yAe(r.eventManager,e),i.length&&r.syncEngineListener.onWatchChange(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kAe(n,e,t){return m(this,null,function*(){let r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.activeLimboResolutionsByTarget.get(e),s=i&&i.key;if(s){let o=new ht(se.comparator);o=o.insert(s,qr.newNoDocument(s,fe.min()));let a=ye().add(s),c=new Tm(fe.min(),new Map,new ht(ke),o,a);yield hG(r,c),r.activeLimboTargetsByKey=r.activeLimboTargetsByKey.remove(s),r.activeLimboResolutionsByTarget.delete(e),Nb(r)}else yield NS(r.localStore,e,!1).then(()=>XS(r,e,t)).catch(Td)})}function NAe(n,e){return m(this,null,function*(){let t=he(n),r=e.batch.batchId;try{let i=yield Cue(t.localStore,e);gG(t,r,null),fG(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Nd(t,i)}catch(i){yield Td(i)}})}function _Ae(n,e,t){return m(this,null,function*(){let r=he(n);try{let i=yield yue(r.localStore,e);gG(r,e,t),fG(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Nd(r,i)}catch(i){yield Td(i)}})}function fG(n,e){(n.pendingWritesCallbacks.get(e)||[]).forEach(t=>{t.resolve()}),n.pendingWritesCallbacks.delete(e)}function MAe(n,e){n.pendingWritesCallbacks.forEach(t=>{t.forEach(r=>{r.reject(new $(L.CANCELLED,e))})}),n.pendingWritesCallbacks.clear()}function FAe(n,e,t){let r=n.mutationUserCallbacks[n.currentUser.toKey()];r||(r=new ht(ke)),r=r.insert(e,t),n.mutationUserCallbacks[n.currentUser.toKey()]=r}function gG(n,e,t){let r=he(n),i=r.mutationUserCallbacks[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.mutationUserCallbacks[r.currentUser.toKey()]=i}}function XS(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.queriesByTarget.get(e))n.queryViewsByQuery.delete(r),t&&n.syncEngineListener.onWatchError(r,t);n.queriesByTarget.delete(e),n.isPrimaryClient&&n.limboDocumentRefs.removeReferencesForId(e).forEach(i=>{n.limboDocumentRefs.containsKey(i)||pG(n,i)})}function pG(n,e){n.enqueuedLimboResolutions.delete(e.path.canonicalString());let t=n.activeLimboTargetsByKey.get(e);t!==null&&(vb(n.remoteStore,t),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.remove(e),n.activeLimboResolutionsByTarget.delete(t),Nb(n))}function mG(n,e,t){for(let r of t)r instanceof Gm?(n.limboDocumentRefs.addReference(r.key,e),LAe(n,r)):r instanceof qm?(ee(kb,"Document no longer in limbo: "+r.key),n.limboDocumentRefs.removeReference(r.key,e),n.limboDocumentRefs.containsKey(r.key)||pG(n,r.key)):le()}function LAe(n,e){let t=e.key,r=t.path.canonicalString();!n.activeLimboTargetsByKey.get(t)&&!n.enqueuedLimboResolutions.has(r)&&(ee(kb,"New document in limbo: "+t),n.enqueuedLimboResolutions.add(r),Nb(n))}function Nb(n){for(;n.enqueuedLimboResolutions.size>0&&n.activeLimboTargetsByKey.size<n.maxConcurrentLimboResolutions;){let e=n.enqueuedLimboResolutions.values().next().value;n.enqueuedLimboResolutions.delete(e);let t=new se(it.fromString(e)),r=n.limboTargetIdGenerator.next();n.activeLimboResolutionsByTarget.set(r,new $S(t)),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.insert(t,r),nG(n.remoteStore,new yd(Si(tE(t.path)),r,"TargetPurposeLimboResolution",ZP.INVALID))}}function Nd(n,e,t){return m(this,null,function*(){let r=he(n),i=[],s=[],o=[];r.queryViewsByQuery.isEmpty()||(r.queryViewsByQuery.forEach((a,c)=>{o.push(r.applyDocChanges(c,e,t).then(l=>{var u;if((l||t)&&r.isPrimaryClient){let A=l?!l.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,A?"current":"not-current")}if(l){i.push(l);let A=zS.fromSnapshot(c.targetId,l);s.push(A)}}))}),yield Promise.all(o),r.syncEngineListener.onWatchChange(i),yield vue(r.localStore,s))})}function xAe(n,e,t,r){return m(this,null,function*(){let i=e.view.computeDocChanges(t);i.needsRefill&&(i=yield eG(n.localStore,e.query,!1).then(({documents:c})=>e.view.computeDocChanges(c,i)));let s=r&&r.targetChanges.get(e.targetId),o=r&&r.targetMismatches.get(e.targetId)!=null,a=e.view.applyChanges(i,n.isPrimaryClient,s,o);return mG(n,e.targetId,a.limboChanges),a.snapshot})}function UAe(n,e){return m(this,null,function*(){let t=he(n);if(!t.currentUser.isEqual(e)){ee(kb,"User change. New user:",e.toKey());let i=yield ZV(t.localStore,e);t.currentUser=e,MAe(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Nd(t,i.affectedDocuments)}})}function OAe(n,e){let t=he(n),r=t.activeLimboResolutionsByTarget.get(e);if(r&&r.receivedDocument)return ye().add(r.key);{let i=ye(),s=t.queriesByTarget.get(e);if(!s)return i;for(let o of s){let a=t.queryViewsByQuery.get(o);i=i.unionWith(a.view.syncedDocuments)}return i}}function EG(n){let e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OAe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kAe.bind(null,e),e.syncEngineListener.onWatchChange=CAe.bind(null,e.eventManager),e.syncEngineListener.onWatchError=IAe.bind(null,e.eventManager),e}function PAe(n){let e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NAe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_Ae.bind(null,e),e}var PP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return m(this,null,function*(){this.serializer=sE(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return mue(this.persistence,new MS,t.initialUser,this.serializer)}createPersistence(t){return new DS(RS.factory,this.serializer)}createSharedClientState(t){return new FS}terminate(){return m(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var VAe=(()=>{class n{initialize(t,r){return m(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UAe.bind(null,this.syncEngine),yield pAe(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return EAe()}createDatastore(t){let r=sE(t.databaseInfo.databaseId),i=Vue(t.databaseInfo);return jue(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return eAe(this.localStore,this.datastore,t.asyncQueue,r=>OP(this.syncEngine,r,0),Gue())}createSyncEngine(t,r){return wAe(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return m(this,null,function*(){var t,r;yield tAe(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}n.provider={build:()=>new n};return n})();function CG(n,e,t){if(!t)throw new $(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GAe(n,e,t,r){if(e===!0&&r===!0)throw new $(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VP(n){if(!se.isDocumentKey(n))throw new $(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GP(n){if(se.isDocumentKey(n))throw new $(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qAe(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function cE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=HAe(n);return e?`a custom ${e} object`:"an object"}}else return typeof n=="function"?"a function":le()}function HAe(n){return n.constructor?n.constructor.name:null}function Di(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=cE(n);throw new $(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Hm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.scheduleEvent(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}mute(){this.muted=!0}scheduleEvent(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var mo="FirestoreClient",YAe=100,WAe=11,JAe=20,zAe=22,eb=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>m(this,null,function*(){ee(mo,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(ee(mo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:YAe}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Tb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function kv(n,e){return m(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ee(mo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>m(this,null,function*(){r.isEqual(i)||(yield ZV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function qP(n,e){return m(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield KAe(n);ee(mo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>UP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>UP(e.remoteStore,i)),n._onlineComponents=e})}function jAe(n){return n.name==="FirebaseError"?n.code===L.FAILED_PRECONDITION||n.code===L.UNIMPLEMENTED:typeof DOMException<"u"&&n instanceof DOMException?n.code===zAe||n.code===JAe||n.code===WAe:!0}function KAe(n){return m(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ee(mo,"Using user provided OfflineComponentProvider");try{yield kv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!jAe(t))throw t;xl("Error using user provided cache. Falling back to memory cache: "+t),yield kv(n,new PP)}}else ee(mo,"Using default OfflineComponentProvider"),yield kv(n,new PP);return n._offlineComponents})}function IG(n){return m(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ee(mo,"Using user provided OnlineComponentProvider"),yield qP(n,n._uninitializedComponentsProvider._online)):(ee(mo,"Using default OnlineComponentProvider"),yield qP(n,new VAe))),n._onlineComponents})}function $Ae(n){return IG(n).then(e=>e.syncEngine)}function tb(n){return m(this,null,function*(){let e=yield IG(n),t=e.eventManager;return t.onListen=vAe.bind(null,e.syncEngine),t.onUnlisten=DAe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SAe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TAe.bind(null,e.syncEngine),t})}function ZAe(n,e,t,r){let i=new Hm(r),s=new Vm(e,i,t);return n.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){let o=yield tb(n);return lG(o,s)})),()=>{i.mute(),n.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){let o=yield tb(n);return uG(o,s)}))}}function XAe(n,e,t={}){let r=new Pr;return n.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){let i=yield tb(n);return tde(i,n.asyncQueue,e,t,r)})),r.promise}function ede(n,e){let t=new Pr;return n.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){let r=yield $Ae(n);return RAe(r,e,t)})),t.promise}function tde(n,e,t,r,i){let s=new Hm({next:a=>{s.mute(),e.enqueueAndForget(()=>uG(n,o));let c=a.docs.has(t);!c&&a.fromCache?i.reject(new $(L.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&a.fromCache&&r&&r.source==="server"?i.reject(new $(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:a=>i.reject(a)}),o=new Vm(tE(t.path),s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return lG(n,o)}function nde(n,e){return n.timeoutSeconds===e.timeoutSeconds}function yG(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var rde="ComponentProvider",HP=new Map;function ide(n){let e=HP.get(n);e&&(ee(rde,"Removing Datastore"),HP.delete(n),e.terminate())}function sde(n,e,t,r){return new Vv(n,e,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,yG(r.experimentalLongPollingOptions),r.useFetchStreams)}var BG="firestore.googleapis.com",YP=!0,WP=5,JP=30,ode=!0,Ym=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BG,this.ssl=YP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$V;else{if(e.cacheSizeBytes!==KV&&e.cacheSizeBytes<MP)throw new $(L.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${MP}`);this.cacheSizeBytes=e.cacheSizeBytes}GAe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=ode:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yG((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),ade(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&nde(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};function ade(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new $(L.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<WP)throw new $(L.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is ${WP})`);if(n.timeoutSeconds>JP)throw new $(L.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is ${JP})`)}}var jl=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ym({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ym(e),e.credentials!==void 0&&(this._authCredentials=Aae(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return m(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return ide(this),Promise.resolve()}};function QG(n,e,t,r={}){var i;n=Di(n,jl);let s=n._getSettings(),o=`${e}:${t}`;if(s.host!==BG&&s.host!==o&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Gt.MOCK_USER;else{a=sT(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new $(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Gt(l)}n._authCredentials=new _v(new Qm(a,c))}}var Kl=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},pn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},fo=class n extends Kl{constructor(e,t,r){super(e,t,tE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new se(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function wG(n,e,...t){if(n=kt(n),CG("collection","path",e),n instanceof jl){let r=it.fromString(e,...t);return GP(r),new fo(n,null,r)}else{if(!(n instanceof pn)&&!(n instanceof fo))throw new $(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(it.fromString(e,...t));return GP(r),new fo(n.firestore,null,r)}}function _b(n,e,...t){if(n=kt(n),arguments.length===1&&(e=wm.newId()),CG("doc","path",e),n instanceof jl){let r=it.fromString(e,...t);return VP(r),new pn(n,null,new se(r))}else{if(!(n instanceof pn)&&!(n instanceof fo))throw new $(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(it.fromString(e,...t));return VP(r),new pn(n.firestore,n instanceof fo?n.converter:null,new se(r))}}var cde="AsyncQueue",Wm=class{constructor(e=Promise.resolve()){this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new Lm(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()},this.tail=e}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let t=new Pr;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}retryNextOp(){return m(this,null,function*(){if(this.retryableOps.length!==0){try{yield this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(Rd(e))ee(cde,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}})}enqueueInternal(e){let t=this.tail.then(()=>(this.operationInProgress=!0,e().catch(r=>{this.failure=r,this.operationInProgress=!1;let i=lde(r);throw Gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.operationInProgress=!1,r))));return this.tail=t,t}enqueueAfterDelay(e,t,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);let i=YS.createAndSchedule(this,e,t,r,s=>this.removeDelayedOperation(s));return this.delayedOperations.push(i),i}verifyNotFailed(){this.failure&&le()}verifyOperationInProgress(){}drain(){return m(this,null,function*(){let e;do e=this.tail,yield e;while(e!==this.tail)})}containsDelayedOperation(e){for(let t of this.delayedOperations)if(t.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{this.delayedOperations.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.delayedOperations)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}};function lde(n){let e=n.message||"";return n.stack&&(n.stack.includes(n.message)?e=n.stack:e=n.message+`
`+n.stack),e}var as=class extends jl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Wm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return m(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Wm(e),this._firestoreClient=void 0,yield e}})}};function vG(n,e){let t=typeof n=="object"?n:za(),r=typeof n=="string"?n:e||Gv,i=Cu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=iT("firestore");s&&QG(i,...s)}return i}function Mb(n){if(n._terminated)throw new $(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ude(n),n._firestoreClient}function ude(n){var e,t,r;let i=n._freezeSettings(),s=sde(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new eb(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&Ade(n._componentsProvider))}function Ade(n){let e=n?._online.build();return{_offline:n?._offline.build(e),_online:e}}function dde(n,e=!0){lae(Ja),Is(new $n("firestore",(t,{instanceIdentifier:r,options:i})=>{let s=t.getProvider("app").getImmediate(),o=new as(new Mv(t.getProvider("auth-internal")),new Uv(t.getProvider("app-check-internal")),Pae(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Nt(fP,gP,n),Nt(fP,gP,"esm2017")}var wd=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(sn.fromBase64String(e))}catch(t){throw new $(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var $l=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var vd=class{constructor(e){this._methodName=e}};var Sd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}};var bd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return gue(this._values,e._values)}};var hde=/^__.*__$/,nb=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sa(e,this.data,t,this.fieldTransforms)}},Jm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function SG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}var rb=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(SG(this.dataSource)&&hde.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},ib=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sE(e)}createContext(e,t,r,i=!1){return new rb({dataSource:e,methodName:t,targetDoc:r,path:Jn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Fb(n){let e=n._freezeSettings(),t=sE(n._databaseId);return new ib(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fde(n,e,t,r,i,s={}){let o=n.createContext(s.merge||s.mergeFields?2:0,e,t,i);Lb("Data must be an object, but it was:",o,r);let a=bG(r,o),c,l;if(s.merge)c=new mr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let A of s.mergeFields){let d=sb(e,A,t);if(!o.contains(d))throw new $(L.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);TG(u,d)||u.push(d)}c=new mr(u),l=o.fieldTransforms.filter(A=>c.covers(A.field))}else c=null,l=o.fieldTransforms;return new nb(new Wn(a),c,l)}var zm=class n extends vd{_toFieldTransform(e){if(e.dataSource===2)e.fieldMask.push(e.path);else throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof n}};function gde(n,e,t,r){let i=n.createContext(1,e,t);Lb("Data must be an object, but it was:",i,r);let s=[],o=Wn.empty();Ta(r,(c,l)=>{let u=xb(e,c,t);l=kt(l);let A=i.childContextForFieldPath(u);if(l instanceof zm)s.push(u);else{let d=_d(l,A);d!=null&&(s.push(u),o.set(u,d))}});let a=new mr(s);return new Jm(o,a,i.fieldTransforms)}function pde(n,e,t,r,i,s){let o=n.createContext(1,e,t),a=[sb(e,r,t)],c=[i];if(s.length%2!==0)throw new $(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(sb(e,s[d])),c.push(s[d+1]);let l=[],u=Wn.empty();for(let d=a.length-1;d>=0;--d)if(!TG(l,a[d])){let f=a[d],Q=c[d];Q=kt(Q);let C=o.childContextForFieldPath(f);if(Q instanceof zm)l.push(f);else{let I=_d(Q,C);I!=null&&(l.push(f),u.set(f,I))}}let A=new mr(l);return new Jm(u,A,o.fieldTransforms)}function mde(n,e,t,r=!1){let i=n.createContext(r?4:3,e);return _d(t,i)}function _d(n,e){if(n=kt(n),DG(n))return Lb("Unsupported field value:",e,n),bG(n,e);if(n instanceof vd)return Cde(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return Ede(n,e)}else return Ide(n,e)}function bG(n,e){let t={};return dV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(n,(r,i)=>{let s=_d(i,e.childContextForField(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Ede(n,e){let t=[],r=0;for(let i of n){let s=_d(i,e.childContextForArray(r));s==null&&(s={nullValue:"NULL_VALUE"}),t.push(s),r++}return{arrayValue:{values:t}}}function Cde(n,e){if(!SG(e.dataSource))throw e.createError(`${n._methodName}() can only be used with update() and set()`);if(!e.path)throw e.createError(`${n._methodName}() is not currently supported inside arrays`);let t=n._toFieldTransform(e);t&&e.fieldTransforms.push(t)}function Ide(n,e){if(n=kt(n),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xce(e.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let t=Wt.fromDate(n);return{timestampValue:_m(e.serializer,t)}}else if(n instanceof Wt){let t=new Wt(n.seconds,Math.floor(n.nanoseconds/1e3)*1e3);return{timestampValue:_m(e.serializer,t)}}else{if(n instanceof Sd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wd)return{bytesValue:qV(e.serializer,n._byteString)};if(n instanceof pn){let t=e.databaseId,r=n.firestore._databaseId;if(!r.isEqual(t))throw e.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${t.projectId}/${t.database}`);return{referenceValue:Qb(n.firestore._databaseId||e.databaseId,n._key.path)}}else{if(n instanceof bd)return yde(n,e);throw e.createError(`Unsupported field value: ${cE(n)}`)}}}function yde(n,e){return{mapValue:{fields:{[gb]:{stringValue:pb},[Ol]:{arrayValue:{values:n.toArray().map(r=>{if(typeof r!="number")throw e.createError("VectorValues must only contain numeric values.");return Bb(e.serializer,r)})}}}}}}function DG(n){return typeof n=="object"&&n!==null&&!(n instanceof Array)&&!(n instanceof Date)&&!(n instanceof Wt)&&!(n instanceof Sd)&&!(n instanceof wd)&&!(n instanceof pn)&&!(n instanceof vd)&&!(n instanceof bd)}function Lb(n,e,t){if(!DG(t)||!qAe(t)){let r=cE(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function sb(n,e,t){if(e=kt(e),e instanceof $l)return e._internalPath;if(typeof e=="string")return xb(n,e);throw jm("Field path arguments must be of type string or ",n,!1,void 0,t)}var Bde=new RegExp("[~\\*/\\[\\]]");function xb(n,e,t){if(e.search(Bde)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $l(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jm(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new $(L.INVALID_ARGUMENT,a+n+c)}function TG(n,e){return n.some(t=>t.isEqual(e))}var Km=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document)if(this._converter){let e=new ob(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}else return this._userDataWriter.convertValue(this._document.data.value);else return}get(e){if(this._document){let t=this._document.data.field(Ub("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ob=class extends Km{data(){return super.data()}};function Ub(n,e){return typeof e=="string"?xb(n,e):e instanceof $l?e._internalPath:e._delegate._internalPath}function Qde(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dd=class{},ab=class extends Dd{};function RG(n,e,...t){let r=[];e instanceof Dd&&r.push(e),r=r.concat(t),Dde(r);for(let i of r)n=i._apply(n);return n}var $m=class n extends ab{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return NG(e._query,t),new Kl(e.firestore,e.converter,yb(e._query,t))}_parse(e){let t=Fb(e.firestore);return wde(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function kG(n,e,t){let r=e,i=Ub("where",n);return $m._create(i,r,t)}var cb=class n extends Dd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Hr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(Sde(e._query,t),new Kl(e.firestore,e.converter,yb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function wde(n,e,t,r,i,s,o){let a;if(i.isKeyField()){if(s==="array-contains"||s==="array-contains-any")throw new $(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if(s==="in"||s==="not-in"){jP(o,s);let l=[];for(let u of o)l.push(zP(r,n,u));a={arrayValue:{values:l}}}else a=zP(r,n,o)}else(s==="in"||s==="not-in"||s==="array-contains-any")&&jP(o,s),a=mde(t,e,o,s==="in"||s==="not-in");return bt.create(i,s,a)}function zP(n,e,t){if(t=kt(t),typeof t=="string"){if(t==="")throw new $(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DV(e)&&t.indexOf("/")!==-1)throw new $(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(it.fromString(t));if(!se.isDocumentKey(r))throw new $(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yP(n,new se(r))}else{if(t instanceof pn)return yP(n,t._key);throw new $(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cE(t)}.`)}}function jP(n,e){if(!Array.isArray(n)||n.length===0)throw new $(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vde(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function NG(n,e){let t=bde(n.filters,vde(e.op));if(t!==null)throw t===e.op?new $(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Sde(n,e){let t=n,r=e.getFlattenedFilters();for(let i of r)NG(t,i),t=yb(t,i)}function bde(n,e){for(let t of n)for(let r of t.getFlattenedFilters())if(e.indexOf(r.op)>=0)return r.op;return null}function Dde(n){let e=n.filter(r=>r instanceof cb).length,t=n.filter(r=>r instanceof $m).length;if(e>1||e>0&&t>0)throw new $(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}var lb=class{convertValue(e,t="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ta(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ol].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>et(o.doubleValue));return new bd(s)}convertGeoPoint(e){return new Sd(et(e.latitude),et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=hb(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fd(e));default:return null}}convertTimestamp(e){let t=ss(e);return new Wt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=it.fromString(e);Oe(jV(r));let i=new bm(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(t)||Gr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Tde(n,e,t){let r;return n?t&&(t.merge||t.mergeFields)?r=n.toFirestore(e,t):r=n.toFirestore(e):r=e,r}function KP(n){return Rde(n,["next","error","complete"])}function Rde(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var Da=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Zm=class extends Km{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document)if(this._converter){let t=new Zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}else return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);else return}get(e,t={}){if(this._document){let r=this._document.data.field(Ub("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Zl=class extends Zm{data(e={}){return super.data(e)}},ub=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Da(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Zl(this._firestore,this._userDataWriter,r.key,r,new Da(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return(!this._cachedChanges||this._cachedChangesIncludeMetadataChanges!==t)&&(this._cachedChanges=kde(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function kde(n,e){if(n._snapshot.oldDocs.isEmpty()){let t=0;return n._snapshot.docChanges.map(r=>{let i=new Zl(n._firestore,n._userDataWriter,r.doc.key,r.doc,new Da(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter);return r.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}else{let t=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(r=>e||r.type!==3).map(r=>{let i=new Zl(n._firestore,n._userDataWriter,r.doc.key,r.doc,new Da(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter),s=-1,o=-1;return r.type!==0&&(s=t.indexOf(r.doc.key),t=t.delete(r.doc.key)),r.type!==1&&(t=t.add(r.doc),o=t.indexOf(r.doc.key)),{type:Nde(r.type),doc:i,oldIndex:s,newIndex:o}})}}function Nde(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}function _G(n){n=Di(n,pn);let e=Di(n.firestore,as),t=Mb(e);return XAe(t,n._key).then(r=>xG(e,n,r))}var Xm=class extends lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new wd(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,t)}};function MG(n,e,t,...r){n=Di(n,pn);let i=Di(n.firestore,as),s=Fb(i);e=kt(e);let o;typeof e=="string"||e instanceof $l?o=pde(s,"updateDoc",n._key,e,t,r):o=gde(s,"updateDoc",n._key,e);let a=o.toMutation(n._key,is.exists(!0));return Pb(i,[a])}function FG(n){let e=Di(n.firestore,as),t=[new Cd(n._key,is.none())];return Pb(e,t)}function LG(n,e){let t=Di(n.firestore,as),r=_b(n),i=Tde(n.converter,e),s=Fb(n.firestore),a=fde(s,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,is.exists(!1));return Pb(t,[a]).then(()=>r)}function Ob(n,...e){var t,r,i;n=kt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]=="object"&&!KP(e[o])&&(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(KP(e[o])){let d=e[o];e[o]=(t=d.next)===null||t===void 0?void 0:t.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,l,u;if(n instanceof pn)l=Di(n.firestore,as),u=tE(n._key.path),c={next:d=>{e[o]&&e[o](xG(l,n,d))},error:e[o+1],complete:e[o+2]};else{let d=Di(n,Kl);l=Di(d.firestore,as),u=d._query;let f=new Xm(l);c={next:Q=>{e[o]&&e[o](new ub(l,f,d,Q))},error:e[o+1],complete:e[o+2]},Qde(n._query)}let A=Mb(l);return ZAe(A,u,a,c)}function Pb(n,e){let t=Mb(n);return ede(t,e)}function xG(n,e,t){let r=t.docs.get(e._key),i=new Xm(n);return new Zm(n,i,e._key,r,new Da(t.hasPendingWrites,t.fromCache),e.converter)}dde("node");var lE=function(){return lE=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},lE.apply(this,arguments)};var Fde={includeMetadataChanges:!1};function UG(n,e){return e===void 0&&(e=Fde),new Io(function(t){var r=Ob(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function OG(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:lE(lE({},r),(t={},t[e.idField]=n.id,t))}function PG(n){return UG(n,{includeMetadataChanges:!0}).pipe(ru(function(e){return e.docs}))}function VG(n,e){return e===void 0&&(e={}),PG(n).pipe(ru(function(t){return t.map(function(r){return OG(r,e)})}))}var ka=class{constructor(e){return e}},GG="firestore",Vb=class{constructor(){return Iu(GG)}};var Gb=new _n("angularfire2.firestore-instances");function Lde(n,e){let t=hh(GG,n,e);return t&&new ka(t)}function xde(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ka(r)}}var Ude={provide:Vb,deps:[[new zn,Gb]]},Ode={provide:ka,useFactory:Lde,deps:[[new zn,Gb],xi]};function qG(n,...e){return Nt("angularfire",ko.full,"fst"),_a([Ode,Ude,{provide:Gb,useFactory:xde(n),multi:!0,deps:[As,Qo,$a,No,[new zn,SA],[new zn,Ka],...e]}])}var qb=_t(VG,!0);var HG=_t(LG,!0);var uE=_t(wG,!0);var YG=_t(FG,!0);var AE=_t(_b,!0);var WG=_t(_G,!0);var JG=_t(vG,!0);var zG=_t(RG,!0);var jG=_t(MG,!0);var KG=_t(kG,!0);var tu=class n{constructor(e){this.fs=e}commandes;addCommande(e,t,r){let i=r.map(a=>({productid:a.productid,qte:a.qte})),s={userid:e,montant:t,dateCommande:new Date().toISOString(),details:i},o=uE(this.fs,"commandes");HG(o,s).then(()=>console.log("Data saved successfully!")).catch(a=>console.log(a))}getAllCommandes(){let e=uE(this.fs,"commandes");return qb(e,{idField:"id"})}getCommandeById(e){let t=AE(this.fs,"commandes",e);return WG(t)}updateCommande(e,t){let r=AE(this.fs,"commandes",e);jG(r,t).then(()=>console.log(`Commande with ID ${e} updated successfully!`)).catch(i=>console.log(i))}deleteCommande(e){let t=AE(this.fs,"commandes",e);YG(t).then(()=>console.log("Data deleted!")).catch(r=>console.log(r))}getCommandesByUserId(e){let t=uE(this.fs,"commandes"),r=zG(t,KG("userid","==",e));return qb(r,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(Dt(ka))};static \u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"})};var ft=class n{constructor(e){this.router=e}authenticatedSubject=new Wr(!1);authenticated$=this.authenticatedSubject.asObservable();toggleAuth(){this.authenticatedSubject.next(!this.authenticatedSubject.value)}getAuthState(){return this.authenticatedSubject.value}fireBaseAuth=kE(sa);user$=FL(this.fireBaseAuth);currentUserSig=ds(null);register(e,t,r){let i=LL(this.fireBaseAuth,e,r).then(s=>OL(s.user,{displayName:t}));return this.toggleAuth(),yo(i)}login(e,t){let r=UL(this.fireBaseAuth,e,t).then(()=>{});return this.toggleAuth(),yo(r)}getToken(){}logout(){this.toggleAuth(),this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||n)(Dt($t))};static \u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"})};var Er=class n{constructor(e,t,r,i){this.cs=e;this.as=t;this.router=r;this.dp=i;this.loadCart()}cartVisibility=new Wr(!1);cartDetails=[];cartDetailsSubject=new Wr(this.cartDetails);cartVisibility$=this.cartVisibility.asObservable();cartDetails$=this.cartDetailsSubject.asObservable();loadCart(){let e=JSON.parse(localStorage.getItem("cartDetails")||"[]");this.cartDetails=e,this.cartDetailsSubject.next(this.cartDetails)}toggleCart(){this.cartVisibility.next(!this.cartVisibility.value)}addToCart(e){let t=this.cartDetails.find(r=>r.product.id===e.product.id);t?t.qte+=e.qte:this.cartDetails.push(e),this.cartDetailsSubject.next(this.cartDetails),localStorage.setItem("cartDetails",JSON.stringify(this.cartDetails))}removeItem(e){let t=this.cartDetails.find(r=>r.product.id===e.product.id);if(t)if(t.qte>1)t.qte-=1;else{let r=this.cartDetails.indexOf(t);this.cartDetails.splice(r,1)}this.cartDetailsSubject.next(this.cartDetails),localStorage.setItem("cartDetails",JSON.stringify(this.cartDetails))}getTotal(){let e=0;for(let t of this.cartDetails)e+=t.product.price*t.qte;return e}validerPanier(){if(!this.as.getAuthState()){console.log("User is not authenticated. Redirecting to login page."),this.router.navigate(["/login"]);return}this.as.user$.subscribe(e=>{if(e){let t=e.uid,r=this.getTotal(),i=this.cartDetails.map(o=>new ah(o.product.id,o.qte)),s=new oh(t,r,this.dp.transform(new Date,"yyyy-MM-dd")||"",i);this.cs.addCommande(t,r,i),console.log("Commande validated and saved successfully."),this.cartDetails=[],this.cartDetailsSubject.next(this.cartDetails),localStorage.removeItem("cartDetails")}})}static \u0275fac=function(t){return new(t||n)(Dt(tu),Dt(ft),Dt($t),Dt(hs))};static \u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"})};function Vde(n,e){if(n&1){let t=jt();D(0,"li",14)(1,"div")(2,"h6",15),F(3),R(),D(4,"small",16),F(5),R()(),D(6,"div")(7,"span",17),F(8),R(),Me(),D(9,"svg",18),Qe("click",function(){let i=ot(t).$implicit,s=ct(2);return at(s.removeItem(i))}),z(10,"path",19)(11,"path",20)(12,"path",21)(13,"path",22),R()()()}if(n&2){let t=e.$implicit;J(3),pt(t.product.title),J(2),cn("$ ",t.product.price,""),J(3),pt(t.qte)}}function Gde(n,e){if(n&1){let t=jt();D(0,"div",1)(1,"div",2)(2,"h5",3),F(3,"Your Cart"),R(),D(4,"button",4),Qe("click",function(){ot(t);let i=ct();return at(i.toggleCart())}),R()(),D(5,"div",5)(6,"div",6)(7,"h4",7)(8,"span",8),F(9,"Your cart"),R(),D(10,"span",9),F(11),R()(),D(12,"ul",10),Ye(13,Vde,14,3,"li",11),D(14,"li",12)(15,"span"),F(16,"Total (USD)"),R(),D(17,"strong"),F(18),Jr(19,"number"),R()()(),D(20,"button",13),Qe("click",function(){ot(t);let i=ct();return at(i.valider())}),F(21,"Continue to checkout"),R()()()()}if(n&2){let t=ct();J(11),pt(t.cartDetails.length),J(2),Be("ngForOf",t.cartDetails),J(5),cn("$ ",ki(19,3,t.totalPrice,"1.2-2"),"")}}var hE=class n{constructor(e){this.cs=e}isVisible=!0;cartDetails=[];totalPrice=0;ngOnInit(){this.cs.cartVisibility$.subscribe(e=>{this.isVisible=e}),this.cs.cartDetails$.subscribe(e=>{this.cartDetails=e,this.totalPrice=this.cs.getTotal()})}toggleCart(){this.cs.toggleCart()}valider(){this.cs.validerPanier()}removeItem(e){this.cs.removeItem(e)}static \u0275fac=function(t){return new(t||n)(j(Er))};static \u0275cmp=Ke({type:n,selectors:[["app-cart"]],standalone:!0,features:[$e],decls:1,vars:1,consts:[["style","margin-left: 75px; margin-right: 75px; margin-top: 25px;",4,"ngIf"],[2,"margin-left","75px","margin-right","75px","margin-top","25px"],[1,"offcanvas-header","justify-content-center"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",2,"margin-left","10px",3,"click"],[1,"offcanvas-body"],[1,"order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"badge","bg-primary","rounded-pill"],[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-sm",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],["type","button",1,"w-100","btn","btn-primary","btn-lg",3,"click"],[1,"list-group-item","d-flex","justify-content-between","lh-sm"],[1,"my-0"],[1,"text-body-secondary"],[1,"text-body-secondary",2,"margin-right","15px"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",2,"cursor","pointer",3,"click"],["d","M3 6h18","stroke","#000","stroke-width","2","stroke-linecap","round"],["d","M8 6V4h8v2","stroke","#000","stroke-width","2","stroke-linecap","round"],["d","M5 6h14l-1 14H6L5 6z","stroke","#000","stroke-width","2","stroke-linejoin","round","fill","none"],["d","M10 11v5M14 11v5","stroke","#000","stroke-width","2","stroke-linecap","round"]],template:function(t,r){t&1&&Ye(0,Gde,22,6,"div",0),t&2&&Be("ngIf",r.isVisible)},dependencies:[Kt,zr,jr,Gd]})};function qde(n,e){n&1&&(D(0,"button",50),F(1," Log in "),R())}function Hde(n,e){if(n&1){let t=jt();D(0,"button",51),Qe("click",function(){ot(t);let i=ct();return at(i.toggleAuth())}),F(1," Log out "),R()}}var fE=class n{constructor(e,t){this.cs=e;this.authService=t}Authenticated=!1;ngOnInit(){this.authService.authenticated$.subscribe(e=>{this.Authenticated=e})}toggleCart(){this.cs.toggleCart()}toggleAuth(){this.authService.logout()}static \u0275fac=function(t){return new(t||n)(j(Er),j(ft))};static \u0275cmp=Ke({type:n,selectors:[["app-header"]],standalone:!0,features:[$e],decls:84,vars:2,consts:[["loggedIn",""],[1,"container-fluid"],[1,"row","py-3","border-bottom"],[1,"col-sm-4","col-lg-3","text-center","text-sm-start"],[1,"main-logo",2,"display","flex","align-items","center","margin-left","10px"],["href","#"],["src","images/logo.png","alt","logo",1,"img-fluid","ml-4"],[1,"fw-bold","mb-0","ms-2",2,"font-family","'Roboto', sans-serif","color","#3cc374"],[1,"col-sm-6","offset-sm-2","offset-md-0","col-lg-5","d-none","d-lg-block"],[1,"col-sm-8","col-lg-4","d-flex","justify-content-end","gap-5","align-items-center","mt-4","mt-sm-0","justify-content-center","justify-content-sm-end"],[1,"d-flex","justify-content-end","list-unstyled","m-0"],["routerLink","profile",1,"rounded-circle","bg-light","p-2","mx-1"],["width","24","height","24","viewBox","0 0 24 24"],[0,"xlink","href","#user"],["href","#",1,"rounded-circle","bg-light","p-2","mx-1"],[0,"xlink","href","#heart"],[1,"d-lg-none"],["href","#","data-bs-toggle","offcanvas","data-bs-target","#offcanvasCart","aria-controls","offcanvasCart",1,"rounded-circle","bg-light","p-2","mx-1"],[0,"xlink","href","#cart"],["href","#","data-bs-toggle","offcanvas","data-bs-target","#offcanvasSearch","aria-controls","offcanvasSearch",1,"rounded-circle","bg-light","p-2","mx-1"],[0,"xlink","href","#search"],[1,"cart","text-end","d-none","d-lg-block","dropdown"],["routerLink","login","class","btn btn-dark","style","margin-right:5px ;",4,"ngIf","ngIfElse"],[1,"btn","btn-primary",3,"click"],[1,"row","py-3"],[1,"d-flex","justify-content-center","justify-content-sm-between","align-items-center"],[1,"main-menu","d-flex","navbar","navbar-expand-lg"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header","justify-content-center"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"filter-categories","border-0","mb-0","me-5"],[1,"navbar-nav","justify-content-end","menu-list","list-unstyled","d-flex","gap-md-3","mb-0"],[1,"nav-item","active"],["href","#women",1,"nav-link"],[1,"nav-item","dropdown"],["href","#men",1,"nav-link"],[1,"nav-item"],["href","#kids",1,"nav-link"],["href","#accessories",1,"nav-link"],["role","button","id","pages","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","pages",1,"dropdown-menu"],["routerLink","about",1,"dropdown-item"],["routerLink","orders",1,"dropdown-item"],["routerLink","myAccount",1,"dropdown-item"],["href","#brand",1,"nav-link"],["href","#sale",1,"nav-link"],["href","#blog",1,"nav-link"],["routerLink","login",1,"btn","btn-dark",2,"margin-right","5px"],[1,"btn","btn-dark",2,"margin-right","5px",3,"click"]],template:function(t,r){if(t&1){let i=jt();D(0,"header")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),z(6,"img",6),R(),D(7,"h2",7),F(8,"SHOPFER"),R()()(),D(9,"div",8),z(10,"app-search-bar"),R(),D(11,"div",9)(12,"ul",10)(13,"li")(14,"a",11),Me(),D(15,"svg",12),z(16,"use",13),R()()(),nt(),D(17,"li")(18,"a",14),Me(),D(19,"svg",12),z(20,"use",15),R()()(),nt(),D(21,"li",16)(22,"a",17),Me(),D(23,"svg",12),z(24,"use",18),R()()(),nt(),D(25,"li",16)(26,"a",19),Me(),D(27,"svg",12),z(28,"use",20),R()()()(),nt(),D(29,"div",21),Ye(30,qde,2,0,"button",22)(31,Hde,2,0,"ng-template",null,0,nD),D(33,"button",23),Qe("click",function(){return ot(i),at(r.toggleCart())}),F(34," Show Cart "),R()()(),z(35,"app-cart"),R()(),D(36,"div",1)(37,"div",24)(38,"div",25)(39,"nav",26)(40,"button",27),z(41,"span",28),R(),D(42,"div",29)(43,"div",30),z(44,"button",31),R(),D(45,"div",32)(46,"select",33)(47,"option"),F(48,"Shop by Departments"),R()(),D(49,"ul",34)(50,"li",35)(51,"a",36),F(52,"Women"),R()(),D(53,"li",37)(54,"a",38),F(55,"Men"),R()(),D(56,"li",39)(57,"a",40),F(58,"Kids"),R()(),D(59,"li",39)(60,"a",41),F(61,"Accessories"),R()(),D(62,"li",37)(63,"a",42),F(64,"Pages"),R(),D(65,"ul",43)(66,"li")(67,"a",44),F(68,"About"),R()(),D(69,"li")(70,"a",45),F(71,"My Orders"),R()(),D(72,"li")(73,"a",46),F(74,"My Account"),R()()()(),D(75,"li",39)(76,"a",47),F(77,"Brand"),R()(),D(78,"li",39)(79,"a",48),F(80,"Sale"),R()(),D(81,"li",39)(82,"a",49),F(83,"Blog"),R()()()()()()()()()()}if(t&2){let i=Zb(32);J(30),Be("ngIf",!r.Authenticated)("ngIfElse",i)}},dependencies:[sh,hE,La,Kt,jr]})};var gE=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-footer"]],standalone:!0,features:[$e],decls:113,vars:0,consts:[[1,"py-5"],[1,"container-fluid"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"footer-menu"],["src","images/logo.png","alt","logo",2,"margin-left","100px"],[1,"social-links","mt-5"],[1,"d-flex","list-unstyled","gap-2"],["href","#",1,"btn","btn-outline-light"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24"],["fill","currentColor","d","M15.12 5.32H17V2.14A26.11 26.11 0 0 0 14.26 2c-2.72 0-4.58 1.66-4.58 4.7v2.62H6.61v3.56h3.07V22h3.68v-9.12h3.06l.46-3.56h-3.52V7.05c0-1.05.28-1.73 1.76-1.73Z"],["fill","currentColor","d","M22.991 3.95a1 1 0 0 0-1.51-.86a7.48 7.48 0 0 1-1.874.794a5.152 5.152 0 0 0-3.374-1.242a5.232 5.232 0 0 0-5.223 5.063a11.032 11.032 0 0 1-6.814-3.924a1.012 1.012 0 0 0-.857-.365a.999.999 0 0 0-.785.5a5.276 5.276 0 0 0-.242 4.769l-.002.001a1.041 1.041 0 0 0-.496.89a3.042 3.042 0 0 0 .027.439a5.185 5.185 0 0 0 1.568 3.312a.998.998 0 0 0-.066.77a5.204 5.204 0 0 0 2.362 2.922a7.465 7.465 0 0 1-3.59.448A1 1 0 0 0 1.45 19.3a12.942 12.942 0 0 0 7.01 2.061a12.788 12.788 0 0 0 12.465-9.363a12.822 12.822 0 0 0 .535-3.646l-.001-.2a5.77 5.77 0 0 0 1.532-4.202Zm-3.306 3.212a.995.995 0 0 0-.234.702c.01.165.009.331.009.488a10.824 10.824 0 0 1-.454 3.08a10.685 10.685 0 0 1-10.546 7.93a10.938 10.938 0 0 1-2.55-.301a9.48 9.48 0 0 0 2.942-1.564a1 1 0 0 0-.602-1.786a3.208 3.208 0 0 1-2.214-.935q.224-.042.445-.105a1 1 0 0 0-.08-1.943a3.198 3.198 0 0 1-2.25-1.726a5.3 5.3 0 0 0 .545.046a1.02 1.02 0 0 0 .984-.696a1 1 0 0 0-.4-1.137a3.196 3.196 0 0 1-1.425-2.673c0-.066.002-.133.006-.198a13.014 13.014 0 0 0 8.21 3.48a1.02 1.02 0 0 0 .817-.36a1 1 0 0 0 .206-.867a3.157 3.157 0 0 1-.087-.729a3.23 3.23 0 0 1 3.226-3.226a3.184 3.184 0 0 1 2.345 1.02a.993.993 0 0 0 .921.298a9.27 9.27 0 0 0 1.212-.322a6.681 6.681 0 0 1-1.026 1.524Z"],["fill","currentColor","d","M23 9.71a8.5 8.5 0 0 0-.91-4.13a2.92 2.92 0 0 0-1.72-1A78.36 78.36 0 0 0 12 4.27a78.45 78.45 0 0 0-8.34.3a2.87 2.87 0 0 0-1.46.74c-.9.83-1 2.25-1.1 3.45a48.29 48.29 0 0 0 0 6.48a9.55 9.55 0 0 0 .3 2a3.14 3.14 0 0 0 .71 1.36a2.86 2.86 0 0 0 1.49.78a45.18 45.18 0 0 0 6.5.33c3.5.05 6.57 0 10.2-.28a2.88 2.88 0 0 0 1.53-.78a2.49 2.49 0 0 0 .61-1a10.58 10.58 0 0 0 .52-3.4c.04-.56.04-3.94.04-4.54ZM9.74 14.85V8.66l5.92 3.11c-1.66.92-3.85 1.96-5.92 3.08Z"],["fill","currentColor","d","M17.34 5.46a1.2 1.2 0 1 0 1.2 1.2a1.2 1.2 0 0 0-1.2-1.2Zm4.6 2.42a7.59 7.59 0 0 0-.46-2.43a4.94 4.94 0 0 0-1.16-1.77a4.7 4.7 0 0 0-1.77-1.15a7.3 7.3 0 0 0-2.43-.47C15.06 2 14.72 2 12 2s-3.06 0-4.12.06a7.3 7.3 0 0 0-2.43.47a4.78 4.78 0 0 0-1.77 1.15a4.7 4.7 0 0 0-1.15 1.77a7.3 7.3 0 0 0-.47 2.43C2 8.94 2 9.28 2 12s0 3.06.06 4.12a7.3 7.3 0 0 0 .47 2.43a4.7 4.7 0 0 0 1.15 1.77a4.78 4.78 0 0 0 1.77 1.15a7.3 7.3 0 0 0 2.43.47C8.94 22 9.28 22 12 22s3.06 0 4.12-.06a7.3 7.3 0 0 0 2.43-.47a4.7 4.7 0 0 0 1.77-1.15a4.85 4.85 0 0 0 1.16-1.77a7.59 7.59 0 0 0 .46-2.43c0-1.06.06-1.4.06-4.12s0-3.06-.06-4.12ZM20.14 16a5.61 5.61 0 0 1-.34 1.86a3.06 3.06 0 0 1-.75 1.15a3.19 3.19 0 0 1-1.15.75a5.61 5.61 0 0 1-1.86.34c-1 .05-1.37.06-4 .06s-3 0-4-.06a5.73 5.73 0 0 1-1.94-.3a3.27 3.27 0 0 1-1.1-.75a3 3 0 0 1-.74-1.15a5.54 5.54 0 0 1-.4-1.9c0-1-.06-1.37-.06-4s0-3 .06-4a5.54 5.54 0 0 1 .35-1.9A3 3 0 0 1 5 5a3.14 3.14 0 0 1 1.1-.8A5.73 5.73 0 0 1 8 3.86c1 0 1.37-.06 4-.06s3 0 4 .06a5.61 5.61 0 0 1 1.86.34a3.06 3.06 0 0 1 1.19.8a3.06 3.06 0 0 1 .75 1.1a5.61 5.61 0 0 1 .34 1.9c.05 1 .06 1.37.06 4s-.01 3-.06 4ZM12 6.87A5.13 5.13 0 1 0 17.14 12A5.12 5.12 0 0 0 12 6.87Zm0 8.46A3.33 3.33 0 1 1 15.33 12A3.33 3.33 0 0 1 12 15.33Z"],["fill","currentColor","d","M1.04 17.52q.1-.16.32-.02a21.308 21.308 0 0 0 10.88 2.9a21.524 21.524 0 0 0 7.74-1.46q.1-.04.29-.12t.27-.12a.356.356 0 0 1 .47.12q.17.24-.11.44q-.36.26-.92.6a14.99 14.99 0 0 1-3.84 1.58A16.175 16.175 0 0 1 12 22a16.017 16.017 0 0 1-5.9-1.09a16.246 16.246 0 0 1-4.98-3.07a.273.273 0 0 1-.12-.2a.215.215 0 0 1 .04-.12Zm6.02-5.7a4.036 4.036 0 0 1 .68-2.36A4.197 4.197 0 0 1 9.6 7.98a10.063 10.063 0 0 1 2.66-.66q.54-.06 1.76-.16v-.34a3.562 3.562 0 0 0-.28-1.72a1.5 1.5 0 0 0-1.32-.6h-.16a2.189 2.189 0 0 0-1.14.42a1.64 1.64 0 0 0-.62 1a.508.508 0 0 1-.4.46L7.8 6.1q-.34-.08-.34-.36a.587.587 0 0 1 .02-.14a3.834 3.834 0 0 1 1.67-2.64A6.268 6.268 0 0 1 12.26 2h.5a5.054 5.054 0 0 1 3.56 1.18a3.81 3.81 0 0 1 .37.43a3.875 3.875 0 0 1 .27.41a2.098 2.098 0 0 1 .18.52q.08.34.12.47a2.856 2.856 0 0 1 .06.56q.02.43.02.51v4.84a2.868 2.868 0 0 0 .15.95a2.475 2.475 0 0 0 .29.62q.14.19.46.61a.599.599 0 0 1 .12.32a.346.346 0 0 1-.16.28q-1.66 1.44-1.8 1.56a.557.557 0 0 1-.58.04q-.28-.24-.49-.46t-.3-.32a4.466 4.466 0 0 1-.29-.39q-.2-.29-.28-.39a4.91 4.91 0 0 1-2.2 1.52a6.038 6.038 0 0 1-1.68.2a3.505 3.505 0 0 1-2.53-.95a3.553 3.553 0 0 1-.99-2.69Zm3.44-.4a1.895 1.895 0 0 0 .39 1.25a1.294 1.294 0 0 0 1.05.47a1.022 1.022 0 0 0 .17-.02a1.022 1.022 0 0 1 .15-.02a2.033 2.033 0 0 0 1.3-1.08a3.13 3.13 0 0 0 .33-.83a3.8 3.8 0 0 0 .12-.73q.01-.28.01-.92v-.5a7.287 7.287 0 0 0-1.76.16a2.144 2.144 0 0 0-1.76 2.22Zm8.4 6.44a.626.626 0 0 1 .12-.16a3.14 3.14 0 0 1 .96-.46a6.52 6.52 0 0 1 1.48-.22a1.195 1.195 0 0 1 .38.02q.9.08 1.08.3a.655.655 0 0 1 .08.36v.14a4.56 4.56 0 0 1-.38 1.65a3.84 3.84 0 0 1-1.06 1.53a.302.302 0 0 1-.18.08a.177.177 0 0 1-.08-.02q-.12-.06-.06-.22a7.632 7.632 0 0 0 .74-2.42a.513.513 0 0 0-.08-.32q-.2-.24-1.12-.24q-.34 0-.8.04q-.5.06-.92.12a.232.232 0 0 1-.16-.04a.065.065 0 0 1-.02-.08a.153.153 0 0 1 .02-.06Z"],[1,"col-md-2","col-sm-6"],[1,"widget-title"],[1,"menu-list","list-unstyled"],[1,"menu-item"],["href","#",1,"nav-link"],["role","newsletter",1,"d-flex","mt-3","gap-0"],["type","email","placeholder","Email Address","aria-label","Email Address",1,"form-control","rounded-start","rounded-0","bg-light"],["type","submit",1,"btn","btn-dark","rounded-end","rounded-0"],["id","footer-bottom"],[1,"col-md-6","copyright"]],template:function(t,r){t&1&&(D(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),z(5,"img",5),D(6,"div",6)(7,"ul",7)(8,"li")(9,"a",8),Me(),D(10,"svg",9),z(11,"path",10),R()()(),nt(),D(12,"li")(13,"a",8),Me(),D(14,"svg",9),z(15,"path",11),R()()(),nt(),D(16,"li")(17,"a",8),Me(),D(18,"svg",9),z(19,"path",12),R()()(),nt(),D(20,"li")(21,"a",8),Me(),D(22,"svg",9),z(23,"path",13),R()()(),nt(),D(24,"li")(25,"a",8),Me(),D(26,"svg",9),z(27,"path",14),R()()()()()()(),nt(),D(28,"div",15)(29,"div",4)(30,"h5",16),F(31,"Ultras"),R(),D(32,"ul",17)(33,"li",18)(34,"a",19),F(35,"About us"),R()(),D(36,"li",18)(37,"a",19),F(38,"Conditions "),R()(),D(39,"li",18)(40,"a",19),F(41,"Our Journals"),R()(),D(42,"li",18)(43,"a",19),F(44,"Careers"),R()(),D(45,"li",18)(46,"a",19),F(47,"Affiliate Programme"),R()(),D(48,"li",18)(49,"a",19),F(50,"Ultras Press"),R()()()()(),D(51,"div",15)(52,"div",4)(53,"h5",16),F(54,"Customer Service"),R(),D(55,"ul",17)(56,"li",18)(57,"a",19),F(58,"FAQ"),R()(),D(59,"li",18)(60,"a",19),F(61,"Contact"),R()(),D(62,"li",18)(63,"a",19),F(64,"Privacy Policy"),R()(),D(65,"li",18)(66,"a",19),F(67,"Returns & Refunds"),R()(),D(68,"li",18)(69,"a",19),F(70,"Cookie Guidelines"),R()(),D(71,"li",18)(72,"a",19),F(73,"Delivery Information"),R()()()()(),D(74,"div",15)(75,"div",4)(76,"h5",16),F(77,"Customer Service"),R(),D(78,"ul",17)(79,"li",18)(80,"a",19),F(81,"FAQ"),R()(),D(82,"li",18)(83,"a",19),F(84,"Contact"),R()(),D(85,"li",18)(86,"a",19),F(87,"Privacy Policy"),R()(),D(88,"li",18)(89,"a",19),F(90,"Returns & Refunds"),R()(),D(91,"li",18)(92,"a",19),F(93,"Cookie Guidelines"),R()(),D(94,"li",18)(95,"a",19),F(96,"Delivery Information"),R()()()()(),D(97,"div",3)(98,"div",4)(99,"h5",16),F(100,"Subscribe Us"),R(),D(101,"p"),F(102,"Subscribe to our newsletter to get updates about our grand offers."),R(),D(103,"form",20),z(104,"input",21),D(105,"button",22),F(106,"Subscribe"),R()()()()()()(),D(107,"div",23)(108,"div",1)(109,"div",2)(110,"div",24)(111,"p"),F(112,"\xA9 2024 SHOPFER. All rights reserved."),R()()()()())}})};function Yde(n,e){n&1&&z(0,"app-header")}function Wde(n,e){n&1&&z(0,"app-footer")}var pE=class n{constructor(e,t){this.router=e;this.as=t;this.router.events.subscribe(r=>{this.showNavbar=!(this.router.url.includes("/login")||this.router.url.includes("/sign-up"))})}title="shopfer";showNavbar=!0;ngOnInit(){this.as.user$.subscribe(e=>{e?this.as.currentUserSig.set({email:e.email,userName:e.userName}):this.as.currentUserSig.set(null)})}static \u0275fac=function(t){return new(t||n)(j($t),j(ft))};static \u0275cmp=Ke({type:n,selectors:[["app-root"]],standalone:!0,features:[$e],decls:13,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["xmlns","http://www.w3.org/2000/svg","id","cart","viewBox","0 0 24 24"],["fill","currentColor","d","M8.5 19a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 8.5 19ZM19 16H7a1 1 0 0 1 0-2h8.491a3.013 3.013 0 0 0 2.885-2.176l1.585-5.55A1 1 0 0 0 19 5H6.74a3.007 3.007 0 0 0-2.82-2H3a1 1 0 0 0 0 2h.921a1.005 1.005 0 0 1 .962.725l.155.545v.005l1.641 5.742A3 3 0 0 0 7 18h12a1 1 0 0 0 0-2Zm-1.326-9l-1.22 4.274a1.005 1.005 0 0 1-.963.726H8.754l-.255-.892L7.326 7ZM16.5 19a1.5 1.5 0 1 0 1.5 1.5a1.5 1.5 0 0 0-1.5-1.5Z"],["xmlns","http://www.w3.org/2000/svg","id","search","viewBox","0 0 24 24"],["fill","currentColor","d","M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"],["xmlns","http://www.w3.org/2000/svg","id","user","viewBox","0 0 24 24"],["fill","currentColor","d","M15.71 12.71a6 6 0 1 0-7.42 0a10 10 0 0 0-6.22 8.18a1 1 0 0 0 2 .22a8 8 0 0 1 15.9 0a1 1 0 0 0 1 .89h.11a1 1 0 0 0 .88-1.1a10 10 0 0 0-6.25-8.19ZM12 12a4 4 0 1 1 4-4a4 4 0 0 1-4 4Z"],["xmlns","http://www.w3.org/2000/svg","id","close","viewBox","0 0 15 15"],["fill","currentColor","d","M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"],[4,"ngIf"]],template:function(t,r){t&1&&(Me(),D(0,"svg",0)(1,"defs")(2,"symbol",1),z(3,"path",2),R(),D(4,"symbol",3),z(5,"path",4),R(),D(6,"symbol",5),z(7,"path",6),R(),D(8,"symbol",7),z(9,"path",8),R()()(),Ye(10,Yde,1,0,"app-header",9),nt(),z(11,"router-outlet"),Ye(12,Wde,1,0,"app-footer",9)),t&2&&(J(10),Be("ngIf",r.showNavbar),J(2),Be("ngIf",r.showNavbar))},dependencies:[fD,fE,gE,Kt,jr]})};var nu=class{product;qte;constructor(e,t){this.product=e,this.qte=t}};var Jde=n=>["/product/detail",n],mE=class n{constructor(e){this.cs=e}produit;quantity=1;Available=!1;ngOnInit(){this.Available=this.produit.stock>0}addToPanier(){if(this.produit){let e=new nu(this.produit,this.quantity);this.cs.addToCart(e),alert(`${this.produit.title} added to cart!`)}}getColor(){return this.produit.stock>0?"green":"red"}getState(){return!(this.produit.stock>0)}incrementQuantity(){this.quantity++}decrementQuantity(){this.quantity>1&&this.quantity--}static \u0275fac=function(t){return new(t||n)(j(Er))};static \u0275cmp=Ke({type:n,selectors:[["app-product-item"]],inputs:{produit:"produit"},standalone:!0,features:[$e],decls:32,vars:11,consts:[[1,"product-item"],[1,"badge","bg-success","position-absolute","m-3"],["href","#",1,"btn-wishlist"],["width","24","height","24"],[0,"xlink","href","#heart"],["title","Product Title",3,"routerLink"],[1,"tab-image",3,"src"],[1,"qty"],[1,"rating"],["width","24","height","24",1,"text-primary"],[0,"xlink","href","#star-solid"],[1,"price"],[1,"d-flex","align-items-center","justify-content-between"],[1,"input-group","product-qty"],[1,"input-group-btn"],["type","button","data-type","minus",1,"quantity-left-minus","btn","btn-danger","btn-number",3,"click"],["width","16","height","16"],[0,"xlink","href","#minus"],["type","text","id","quantity","name","quantity","value","1",1,"form-control","input-number",3,"ngModelChange","ngModel"],["type","button","data-type","plus",1,"quantity-right-plus","btn","btn-success","btn-number",3,"click"],[0,"xlink","href","#plus"],[1,"btn","btn-primary",2,"margin-left","5px","height","40px","width","100px","white-space","nowrap",3,"click","disabled"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"span",1),F(2),R(),D(3,"a",2),Me(),D(4,"svg",3),z(5,"use",4),R()(),nt(),D(6,"figure")(7,"a",5),z(8,"img",6),R()(),D(9,"h3"),F(10),R(),D(11,"span",7),F(12),R(),D(13,"span",8),Me(),D(14,"svg",9),z(15,"use",10),R(),F(16),R(),nt(),D(17,"span",11),F(18),R(),D(19,"div",12)(20,"div",13)(21,"span",14)(22,"button",15),Qe("click",function(){return r.decrementQuantity()}),Me(),D(23,"svg",16),z(24,"use",17),R()()(),nt(),D(25,"input",18),In("ngModelChange",function(s){return Cn(r.quantity,s)||(r.quantity=s),s}),R(),D(26,"span",14)(27,"button",19),Qe("click",function(){return r.incrementQuantity()}),Me(),D(28,"svg",16),z(29,"use",20),R()()()(),nt(),D(30,"button",21),Qe("click",function(){return r.addToPanier()}),F(31," Add to Cart "),R()()()),t&2&&(J(2),cn("-",r.produit==null?null:r.produit.discountPercentage,"%"),J(5),Be("routerLink",eD(9,Jde,r.produit==null?null:r.produit.id)),J(),Be("src",r.produit==null?null:r.produit.thumbnail,Pd),J(2),pt(r.produit==null?null:r.produit.title),J(2),cn("",r.produit==null?null:r.produit.stock," Unit"),J(4),cn(" ",r.produit==null?null:r.produit.rating," "),J(2),pt(r.produit==null?null:r.produit.price),J(7),En("ngModel",r.quantity),J(5),Be("disabled",r.getState()))},dependencies:[Kt,Kr,yn,jn,yr,La]})};function zde(n,e){if(n&1&&(D(0,"div",32),z(1,"app-product-item",33),R()),n&2){let t=e.$implicit;J(),Be("produit",t)}}var EE=class n{constructor(e){this.ps=e}products=[];searchQuery="";category="";ngOnInit(){this.getAllProducts(),this.ps.searchQuery$.subscribe(e=>{this.searchQuery=e,this.filterProducts()}),this.ps.category$.subscribe(e=>{this.category=e,this.filterProducts()})}getAllProducts(){this.ps.getAllProducts().subscribe(e=>{this.products=e.products})}filterProducts(){this.searchQuery?this.category&&this.category!=="All Categories"?this.ps.getProductBykey(this.searchQuery).subscribe(e=>{this.products=e.products.filter(t=>t.category===this.category)}):this.ps.getProductBykey(this.searchQuery).subscribe(e=>{this.products=e.products}):this.category&&this.category!=="All Categories"?this.ps.getProductBycategory(this.category).subscribe(e=>{this.products=e.products}):this.getAllProducts()}static \u0275fac=function(t){return new(t||n)(j(Kn))};static \u0275cmp=Ke({type:n,selectors:[["app-list-product"]],standalone:!0,features:[$e],decls:34,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["xmlns","http://www.w3.org/2000/svg","id","link","viewBox","0 0 24 24"],["fill","currentColor","d","M12 19a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm5 0a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm0-4a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm-5 0a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm7-12h-1V2a1 1 0 0 0-2 0v1H8V2a1 1 0 0 0-2 0v1H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3Zm1 17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-9h16Zm0-11H4V6a1 1 0 0 1 1-1h1v1a1 1 0 0 0 2 0V5h8v1a1 1 0 0 0 2 0V5h1a1 1 0 0 1 1 1ZM7 15a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm0 4a1 1 0 1 0-1-1a1 1 0 0 0 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","arrow-right","viewBox","0 0 24 24"],["fill","currentColor","d","M17.92 11.62a1 1 0 0 0-.21-.33l-5-5a1 1 0 0 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l5-5a1 1 0 0 0 .21-.33a1 1 0 0 0 0-.76Z"],["xmlns","http://www.w3.org/2000/svg","id","category","viewBox","0 0 24 24"],["fill","currentColor","d","M19 5.5h-6.28l-.32-1a3 3 0 0 0-2.84-2H5a3 3 0 0 0-3 3v13a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-10a3 3 0 0 0-3-3Zm1 13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-13a1 1 0 0 1 1-1h4.56a1 1 0 0 1 .95.68l.54 1.64a1 1 0 0 0 .95.68h7a1 1 0 0 1 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","calendar","viewBox","0 0 24 24"],["fill","currentColor","d","M19 4h-2V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3Zm1 15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-7h16Zm0-9H4V7a1 1 0 0 1 1-1h2v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h2a1 1 0 0 1 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","heart","viewBox","0 0 24 24"],["fill","currentColor","d","M20.16 4.61A6.27 6.27 0 0 0 12 4a6.27 6.27 0 0 0-8.16 9.48l7.45 7.45a1 1 0 0 0 1.42 0l7.45-7.45a6.27 6.27 0 0 0 0-8.87Zm-1.41 7.46L12 18.81l-6.75-6.74a4.28 4.28 0 0 1 3-7.3a4.25 4.25 0 0 1 3 1.25a1 1 0 0 0 1.42 0a4.27 4.27 0 0 1 6 6.05Z"],["xmlns","http://www.w3.org/2000/svg","id","plus","viewBox","0 0 24 24"],["fill","currentColor","d","M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2Z"],["xmlns","http://www.w3.org/2000/svg","id","minus","viewBox","0 0 24 24"],["fill","currentColor","d","M19 11H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2Z"],["xmlns","http://www.w3.org/2000/svg","id","cart","viewBox","0 0 24 24"],["fill","currentColor","d","M8.5 19a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 8.5 19ZM19 16H7a1 1 0 0 1 0-2h8.491a3.013 3.013 0 0 0 2.885-2.176l1.585-5.55A1 1 0 0 0 19 5H6.74a3.007 3.007 0 0 0-2.82-2H3a1 1 0 0 0 0 2h.921a1.005 1.005 0 0 1 .962.725l.155.545v.005l1.641 5.742A3 3 0 0 0 7 18h12a1 1 0 0 0 0-2Zm-1.326-9l-1.22 4.274a1.005 1.005 0 0 1-.963.726H8.754l-.255-.892L7.326 7ZM16.5 19a1.5 1.5 0 1 0 1.5 1.5a1.5 1.5 0 0 0-1.5-1.5Z"],["xmlns","http://www.w3.org/2000/svg","id","check","viewBox","0 0 24 24"],["fill","currentColor","d","M18.71 7.21a1 1 0 0 0-1.42 0l-7.45 7.46l-3.13-3.14A1 1 0 1 0 5.29 13l3.84 3.84a1 1 0 0 0 1.42 0l8.16-8.16a1 1 0 0 0 0-1.47Z"],["xmlns","http://www.w3.org/2000/svg","id","trash","viewBox","0 0 24 24"],["fill","currentColor","d","M10 18a1 1 0 0 0 1-1v-6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1ZM20 6h-4V5a3 3 0 0 0-3-3h-2a3 3 0 0 0-3 3v1H4a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2ZM10 5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1h-4Zm7 14a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8h10Zm-3-1a1 1 0 0 0 1-1v-6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","star-outline","viewBox","0 0 15 15"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","d","M7.5 9.804L5.337 11l.413-2.533L4 6.674l2.418-.37L7.5 4l1.082 2.304l2.418.37l-1.75 1.793L9.663 11L7.5 9.804Z"],["xmlns","http://www.w3.org/2000/svg","id","star-solid","viewBox","0 0 15 15"],["fill","currentColor","d","M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"],["xmlns","http://www.w3.org/2000/svg","id","search","viewBox","0 0 24 24"],["fill","currentColor","d","M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"],["xmlns","http://www.w3.org/2000/svg","id","user","viewBox","0 0 24 24"],["fill","currentColor","d","M15.71 12.71a6 6 0 1 0-7.42 0a10 10 0 0 0-6.22 8.18a1 1 0 0 0 2 .22a8 8 0 0 1 15.9 0a1 1 0 0 0 1 .89h.11a1 1 0 0 0 .88-1.1a10 10 0 0 0-6.25-8.19ZM12 12a4 4 0 1 1 4-4a4 4 0 0 1-4 4Z"],["xmlns","http://www.w3.org/2000/svg","id","close","viewBox","0 0 15 15"],[1,"product-grid","row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5",2,"margin-left","15px","margin-right","15px"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"produit"]],template:function(t,r){t&1&&(Me(),D(0,"svg",0)(1,"defs")(2,"symbol",1),z(3,"path",2),R(),D(4,"symbol",3),z(5,"path",4),R(),D(6,"symbol",5),z(7,"path",6),R(),D(8,"symbol",7),z(9,"path",8),R(),D(10,"symbol",9),z(11,"path",10),R(),D(12,"symbol",11),z(13,"path",12),R(),D(14,"symbol",13),z(15,"path",14),R(),D(16,"symbol",15),z(17,"path",16),R(),D(18,"symbol",17),z(19,"path",18),R(),D(20,"symbol",19),z(21,"path",20),R(),D(22,"symbol",21),z(23,"path",22),R(),D(24,"symbol",23),z(25,"path",24),R(),D(26,"symbol",25),z(27,"path",26),R(),D(28,"symbol",27),z(29,"path",28),R(),D(30,"symbol",29),z(31,"path",24),R()()(),nt(),D(32,"div",30),Ye(33,zde,2,1,"div",31),R()),t&2&&(J(33),Be("ngForOf",r.products))},dependencies:[mE,Kt,zr]})};var CE=class n{constructor(e,t){this.as=e;this.router=t}storageKey="comments";commentsSubject=new Wr(this.getCommentsFromLocalStorage());comments$=this.commentsSubject.asObservable();getCommentsByProductId(e){return this.commentsSubject.value.filter(t=>t.productId===e)}addComment(e){if(this.as.getAuthState()){let r=this.commentsSubject.value;r.push(e),this.commentsSubject.next(r),this.saveCommentsToLocalStorage(r),console.log("Comment added:",e)}else this.router.navigate(["/login"])}getCommentsFromLocalStorage(){let e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}saveCommentsToLocalStorage(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}static \u0275fac=function(t){return new(t||n)(Dt(ft),Dt($t))};static \u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"})};var ZG=()=>[1,2,3,4,5],Kde=(n,e)=>({"text-yellow-300":n,"text-gray-300 dark:text-gray-500":e}),$de=(n,e)=>({"text-yellow-300":n,"text-gray-300":e});function Zde(n,e){if(n&1&&(_E(0),Me(),D(1,"svg",16),z(2,"path",17),R(),ME()),n&2){let t=e.index,r=ct().$implicit;J(),Be("ngClass",LE(1,Kde,t<r.rating,t>=r.rating))}}function Xde(n,e){if(n&1&&(D(0,"article",6)(1,"div",7),z(2,"img",8),D(3,"div",9)(4,"div",10)(5,"p"),F(6),D(7,"time",11),Jr(8,"date"),F(9),Jr(10,"date"),R()()(),D(11,"div",12),Ye(12,Zde,3,4,"ng-container",13),R(),D(13,"h3",14),F(14),R(),D(15,"footer",15)(16,"p"),F(17,"Reviewed on "),D(18,"time"),Jr(19,"date"),F(20),Jr(21,"date"),R()()()()()()),n&2){let t=e.$implicit;J(6),cn("",t.userName," "),J(),Ma("datetime",ki(8,7,t.createdAt,"yyyy-MM-ddTHH:mm:ss")),J(2),cn(" ",ki(10,10,t.createdAt,"MMMM yyyy")," "),J(3),Be("ngForOf",FE(19,ZG)),J(2),pt(t.comment),J(4),Ma("datetime",ki(19,13,t.createdAt,"yyyy-MM-ddTHH:mm:ss")),J(2),pt(ki(21,16,t.createdAt,"longDate"))}}function ehe(n,e){if(n&1){let t=jt();_E(0),Me(),D(1,"svg",24),Qe("click",function(){let i=ot(t).$implicit,s=ct(2);return at(s.onStarClick(i))}),z(2,"path",17),R(),ME()}if(n&2){let t,r=e.$implicit,i=ct(2);J(),Be("ngClass",LE(1,$de,r<=((t=i.reviewForm.get("rating"))==null?null:t.value),r>((t=i.reviewForm.get("rating"))==null?null:t.value)))}}function the(n,e){if(n&1){let t=jt();D(0,"div",18)(1,"form",19),Qe("ngSubmit",function(){ot(t);let i=ct();return at(i.submitForm())}),D(2,"label",20),F(3,"Rating"),R(),D(4,"div",21),Ye(5,ehe,3,4,"ng-container",13),R(),D(6,"label",20),F(7,"Comment"),R(),z(8,"textarea",22),D(9,"button",23),F(10," Submit Review "),R()()()}if(n&2){let t=ct();J(),Be("formGroup",t.reviewForm),J(4),Be("ngForOf",FE(3,ZG)),J(4),Be("disabled",!t.reviewForm.valid)}}var IE=class n{constructor(e,t,r,i,s){this.commentService=e;this.route=t;this.fb=r;this.as=i;this.router=s;this.reviewForm=this.fb.group({rating:[5,Oa.required],comment:["",[Oa.required,Oa.minLength(5)]]})}productId;comments=[];showReviewForm=!1;reviewForm;commentsSubscription;ngOnInit(){this.productId&&(this.loadComments(),this.commentsSubscription=this.commentService.comments$.subscribe(e=>{console.log("Comments from service:",e),this.comments=this.commentService.getCommentsByProductId(this.productId),console.log("Filtered comments:",this.comments)}))}loadComments(){this.comments=this.commentService.getCommentsByProductId(this.productId)}openReviewForm(){this.as.getAuthState()?this.showReviewForm=!0:this.router.navigate(["/login"])}onStarClick(e){this.reviewForm.get("rating")?.setValue(e)}submitForm(){if(this.as.getAuthState()){let t={id:this.comments.length+1,productId:this.productId,userName:this.as.currentUserSig().userName,comment:this.reviewForm.get("comment")?.value,rating:this.reviewForm.get("rating")?.value,createdAt:new Date};this.commentService.addComment(t),this.reviewForm.reset(),this.showReviewForm=!1}else this.router.navigate(["/login"])}ngOnDestroy(){this.commentsSubscription&&this.commentsSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(j(CE),j(qd),j(XD),j(ft),j($t))};static \u0275cmp=Ke({type:n,selectors:[["app-comment"]],inputs:{productId:"productId"},standalone:!0,features:[$e],decls:7,vars:2,consts:[["href",ou`https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css`,"rel","stylesheet"],[1,"p-4","bg-white",2,"margin-left","50px","margin-right","50px"],["class","border-b last:border-0 pb-4 mb-4",4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-center",2,"margin-bottom","20px"],[1,"px-4","py-2","bg-blue-500","text-white","font-medium","rounded-lg","hover:bg-blue-600","focus:outline-none","focus:ring-4","focus:ring-blue-300","dark:bg-blue-700","dark:hover:bg-blue-800","dark:focus:ring-blue-900",3,"click"],["class","mt-6 flex justify-center",4,"ngIf"],[1,"border-b","last:border-0","pb-4","mb-4"],[1,"flex","items-start","mb-4"],["src","/path/to/default-avatar.jpg","alt","User Profile Picture",1,"w-10","h-10","rounded-full","mr-3"],[1,"flex-1"],[1,"font-medium","dark:text-white"],[1,"block","text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","mb-1"],[4,"ngFor","ngForOf"],[1,"text-sm","font-semibold","text-gray-900","dark:text-white"],[1,"mt-2","text-xs","text-gray-500","dark:text-gray-400"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 22 20",1,"w-4","h-4",3,"ngClass"],["d","M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"],[1,"mt-6","flex","justify-center"],[1,"max-w-md","w-full","p-4","border","rounded-lg","bg-gray-50","dark:bg-gray-800",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"flex","mb-4"],["formControlName","comment","rows","4",1,"mt-1","mb-4","block","w-full","py-2","px-3","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["type","submit",1,"px-4","py-2","bg-green-500","text-white","font-medium","rounded-lg","hover:bg-green-600","focus:outline-none","focus:ring-4","focus:ring-green-300","dark:bg-green-700","dark:hover:bg-green-800","dark:focus:ring-green-900",3,"disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 22 20",1,"w-6","h-6","cursor-pointer",3,"click","ngClass"]],template:function(t,r){t&1&&(z(0,"link",0),D(1,"div",1),Ye(2,Xde,22,20,"article",2),R(),D(3,"div",3)(4,"button",4),Qe("click",function(){return r.openReviewForm()}),F(5," Add Review "),R()(),Ye(6,the,11,4,"div",5)),t&2&&(J(2),Be("ngForOf",r.comments),J(4),Be("ngIf",r.showReviewForm))},dependencies:[Kt,aD,zr,jr,hs,eT,ms,yn,jn,ps,$E,ZE],encapsulation:2})};var yE=class n{constructor(e,t,r){this.ps=e;this.route=t;this.cs=r}produit;productId;quantity=1;ngOnInit(){this.route.paramMap.subscribe(e=>{this.productId=+e.get("id"),this.getProduct()})}getProduct(){this.ps.getProductById(this.productId).subscribe(e=>{this.produit=e})}addToPanier(){if(this.produit){let e=new nu(this.produit,this.quantity);this.cs.addToCart(e),alert(`${this.produit.title} added to cart!`)}}static \u0275fac=function(t){return new(t||n)(j(Kn),j(qd),j(Er))};static \u0275cmp=Ke({type:n,selectors:[["app-product-detail"]],standalone:!0,features:[$e],decls:27,vars:9,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["xmlns","http://www.w3.org/2000/svg","id","star-solid","viewBox","0 0 15 15"],["fill","currentColor","d","M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"],[1,"container","px-4","px-lg-5"],[1,"row","gx-4","gx-lg-5","align-items-center"],[1,"col-md-5"],[1,"card-img-top","mb-5","mb-md-0",3,"src","alt"],[1,"col-md-6",2,"margin-left","15px"],[1,"display-5","fw-bolder"],[1,"fs-5","mb-5"],["width","24","height","24",1,"text-primary"],[0,"xlink","href","#star-solid"],[1,"price","text-primary",2,"margin-left","15px"],[1,"lead"],[1,"d-flex"],["id","inputQuantity","type","number",1,"form-control","text-center","me-3",2,"max-width","3rem",3,"ngModelChange","ngModel","min"],["type","button",1,"btn","btn-success","flex-shrink-0",3,"click"],[1,"bi-cart-fill","me-1"],[3,"productId"]],template:function(t,r){if(t&1&&(Me(),D(0,"svg",0)(1,"defs")(2,"symbol",1),z(3,"path",2),R()()(),nt(),D(4,"section")(5,"div",3)(6,"div",4)(7,"div",5),z(8,"img",6),R(),D(9,"div",7)(10,"h1",8),F(11),R(),D(12,"div",9)(13,"span"),Me(),D(14,"svg",10),z(15,"use",11),R(),F(16),R(),nt(),D(17,"span",12),F(18),R()(),D(19,"p",13),F(20),R(),D(21,"div",14)(22,"input",15),In("ngModelChange",function(s){return Cn(r.quantity,s)||(r.quantity=s),s}),R(),D(23,"button",16),Qe("click",function(){return r.addToPanier()}),z(24,"i",17),F(25," Add to cart "),R()()()()(),z(26,"app-comment",18),R()),t&2){let i;J(8),$b("alt",r.produit==null?null:r.produit.title),Be("src",r.produit==null?null:r.produit.thumbnail,Pd),J(3),pt(r.produit==null?null:r.produit.title),J(5),cn(" ",r.produit==null?null:r.produit.rating," "),J(2),cn("",r.produit==null?null:r.produit.price," $"),J(2),pt(r.produit==null?null:r.produit.description),J(2),En("ngModel",r.quantity),Be("min",1),J(4),Be("productId",(i=r.productId)!==null&&i!==void 0?i:0)}},dependencies:[Kr,yn,KE,jn,XE,yr,IE]})};function nhe(n,e){if(n&1){let t=jt();D(0,"tr",6),Qe("click",function(){let i=ot(t).$implicit,s=ct();return at(s.showDetails(i))}),D(1,"td"),F(2),R(),D(3,"td"),F(4),Jr(5,"number"),R(),D(6,"td"),F(7),R()()}if(n&2){let t=e.$implicit;J(2),pt(t.id),J(2),pt(ki(5,3,t.montant,"1.2-2")),J(3),pt(t.dateCommande)}}function rhe(n,e){if(n&1&&(D(0,"li"),F(1),Jr(2,"async"),R()),n&2){let t=e.$implicit,r=ct(2);J(),Xb(" Product : ",tD(2,2,r.productNameMap.get(t.productid)),", Quantity: ",t.qte," ")}}function ihe(n,e){if(n&1){let t=jt();D(0,"div",7)(1,"div",8)(2,"h2",9),F(3,"Order Details"),R(),D(4,"h3",10),F(5,"Products in this order:"),R(),D(6,"ul"),Ye(7,rhe,3,4,"li",11),R(),D(8,"button",12),Qe("click",function(){ot(t);let i=ct();return at(i.closeDetails())}),F(9,"Close"),R()()()}if(n&2){let t=ct();J(7),Be("ngForOf",t.selectedCommande.details)}}var BE=class n{constructor(e,t,r,i){this.commandeService=e;this.ps=t;this.as=r;this.dp=i}commandes=[];selectedCommande=null;productNameMap=new Map;ngOnInit(){this.loadOrders()}loadOrders(){this.as.user$.subscribe(e=>{if(e){let t=e.uid;this.commandeService.getCommandesByUserId(t).subscribe(r=>{this.commandes=r.map(i=>W(_({},i),{dateCommande:this.dp.transform(i.dateCommande,"yyyy-MM-dd")||""}))})}})}showDetails(e){this.selectedCommande=e,this.loadProductNames()}closeDetails(){this.selectedCommande=null}loadProductNames(){if(this.selectedCommande){this.productNameMap.clear();for(let e of this.selectedCommande.details){let t=e.productid;this.productNameMap.set(t,this.fetchProductName(t))}}}fetchProductName(e){return new Promise(t=>{this.ps.getProductById(e).subscribe(r=>{t(r.title)})})}static \u0275fac=function(t){return new(t||n)(j(tu),j(Kn),j(ft),j(hs))};static \u0275cmp=Ke({type:n,selectors:[["app-orders"]],standalone:!0,features:[$e],decls:16,vars:2,consts:[["href",ou`https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css`,"rel","stylesheet"],["href",ou`https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.0/flowbite.min.css`,"rel","stylesheet"],[1,"container","mt-5"],["id","search-table",1,"table","table-striped"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],["class","fixed inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-gray-700","bg-opacity-50"],[1,"bg-white","p-5","rounded","shadow-lg","w-96"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-lg","mb-4"],[4,"ngFor","ngForOf"],[1,"mt-4","p-2","bg-red-500","text-white","rounded",3,"click"]],template:function(t,r){t&1&&(F(0,"!"),z(1,"link",0)(2,"link",1),D(3,"div",2)(4,"table",3)(5,"thead")(6,"tr")(7,"th"),F(8,"Order ID"),R(),D(9,"th"),F(10,"Total Amount"),R(),D(11,"th"),F(12,"Date"),R()()(),D(13,"tbody"),Ye(14,nhe,8,6,"tr",4),R()()(),Ye(15,ihe,10,1,"div",5)),t&2&&(J(14),Be("ngForOf",r.commandes),J(),Be("ngIf",r.selectedCommande))},dependencies:[Kt,zr,jr,cD,Gd]})};function she(n,e){if(n&1&&(D(0,"div",3),F(1),R()),n&2){let t=ct();J(),pt(t.errorMess)}}var QE=class n{constructor(e,t){this.as=e;this.r=t}email="";password="";errorMess=null;register(){this.email&&this.password?this.as.login(this.email,this.password).subscribe({next:()=>{this.r.navigateByUrl("/home")},error:e=>{this.errorMess=e.code}}):alert("Registration failed. Please fill all fields.")}static \u0275fac=function(t){return new(t||n)(j(ft),j($t))};static \u0275cmp=Ke({type:n,selectors:[["app-sign-in"]],standalone:!0,features:[$e],decls:29,vars:3,consts:[["f","ngForm"],[1,"container"],[1,"auth-form",3,"ngSubmit"],[1,"error-message"],["data-mdb-input-init","",1,"form-outline","mb-4"],["for","form2Example1",1,"form-label"],["type","email","id","form2Example1","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","form2Example2",1,"form-label"],["type","password","id","form2Example2","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-4"],[1,"col","d-flex","justify-content-center"],[1,"form-check"],["type","checkbox","value","","id","form2Example31","checked","",1,"form-check-input"],["for","form2Example31",1,"form-check-label"],[1,"col"],["href","#!"],[2,"display","flex","justify-content","center"],["type","submit",1,"btn","btn-primary","btn-block","mb-4"],[1,"text-center"],["routerLink","/sign-up"]],template:function(t,r){if(t&1){let i=jt();D(0,"div",1)(1,"form",2,0),Qe("ngSubmit",function(){return ot(i),at(r.register())}),Ye(3,she,2,1,"div",3),D(4,"div",4)(5,"label",5),F(6,"Email address"),R(),D(7,"input",6),In("ngModelChange",function(o){return ot(i),Cn(r.email,o)||(r.email=o),at(o)}),R()(),D(8,"div",4)(9,"label",7),F(10,"Password"),R(),D(11,"input",8),In("ngModelChange",function(o){return ot(i),Cn(r.password,o)||(r.password=o),at(o)}),R()(),D(12,"div",9)(13,"div",10)(14,"div",11),z(15,"input",12),D(16,"label",13),F(17," Remember me "),R()()(),D(18,"div",14)(19,"a",15),F(20,"Forgot password?"),R()()(),D(21,"div",16)(22,"button",17),F(23,"Sign in"),R()(),D(24,"div",18)(25,"p"),F(26,"Not a member? "),D(27,"a",19),F(28,"Register"),R()()()()()}t&2&&(J(3),Vd(r.errorMess?3:-1),J(4),En("ngModel",r.email),J(4),En("ngModel",r.password))},dependencies:[Kr,ms,yn,jn,ps,gu,yr,So,La],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f8f9fa;max-width:100%}.auth-form[_ngcontent-%COMP%]{width:400px;padding:20px;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:8px}.form-outline[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:45px;border-color:#ced4da}.form-outline[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:14px;color:#495057}.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;font-size:14px}.error-message[_ngcontent-%COMP%]{color:red;background-color:#f8d7da;border:1px solid #f5c2c7;padding:10px;border-radius:4px;margin-bottom:15px;font-size:14px;text-align:center}"]})};var wE=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return this.authService.getAuthState()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||n)(Dt(ft),Dt($t))};static \u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"})};function ohe(n,e){if(n&1&&(D(0,"div",3),F(1),R()),n&2){let t=ct();J(),pt(t.errorMess)}}var vE=class n{constructor(e,t){this.as=e;this.r=t}email="";userName="";password="";errorMess=null;register(){this.email&&this.userName&&this.password?this.as.register(this.email,this.userName,this.password).subscribe({next:()=>{this.r.navigateByUrl("/home")},error:e=>{this.errorMess=e.code}}):alert("Registration failed. Please fill all fields.")}static \u0275fac=function(t){return new(t||n)(j(ft),j($t))};static \u0275cmp=Ke({type:n,selectors:[["app-sign-up"]],standalone:!0,features:[$e],decls:24,vars:4,consts:[["f","ngForm"],[1,"container"],[1,"auth-form",3,"ngSubmit"],[1,"error-message"],["data-mdb-input-init","",1,"form-outline","mb-4"],["for","form2Example1",1,"form-label"],["type","email","id","form2Example1","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","form2Example3",1,"form-label"],["type","text","id","form2Example3","name","userName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","form2Example2",1,"form-label"],["type","password","id","form2Example2","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-4"],[1,"col","d-flex","justify-content-center"],[1,"form-check"],["type","checkbox","value","","id","form2Example31","checked","",1,"form-check-input"],["for","form2Example31",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","mb-4"]],template:function(t,r){if(t&1){let i=jt();D(0,"div",1)(1,"form",2,0),Qe("ngSubmit",function(){return ot(i),at(r.register())}),Ye(3,ohe,2,1,"div",3),D(4,"div",4)(5,"label",5),F(6,"Email address"),R(),D(7,"input",6),In("ngModelChange",function(o){return ot(i),Cn(r.email,o)||(r.email=o),at(o)}),R()(),D(8,"div",4)(9,"label",7),F(10,"User Name"),R(),D(11,"input",8),In("ngModelChange",function(o){return ot(i),Cn(r.userName,o)||(r.userName=o),at(o)}),R()(),D(12,"div",4)(13,"label",9),F(14,"Password"),R(),D(15,"input",10),In("ngModelChange",function(o){return ot(i),Cn(r.password,o)||(r.password=o),at(o)}),R()(),D(16,"div",11)(17,"div",12)(18,"div",13),z(19,"input",14),D(20,"label",15),F(21," Remember me "),R()()()(),D(22,"button",16),F(23,"Register"),R()()()}t&2&&(J(3),Vd(r.errorMess?3:-1),J(4),En("ngModel",r.email),J(4),En("ngModel",r.userName),J(4),En("ngModel",r.password))},dependencies:[Kr,ms,yn,jn,ps,gu,yr,So],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f8f9fa;max-width:100%}.auth-form[_ngcontent-%COMP%]{width:400px;padding:20px;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:8px}.form-outline[_ngcontent-%COMP%]{position:relative}.form-control[_ngcontent-%COMP%]{padding:10px;border:1px solid #ced4da;border-radius:4px;transition:border-color .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}.form-label[_ngcontent-%COMP%]{font-size:14px;margin-bottom:5px;color:#6c757d}.form-check-input[_ngcontent-%COMP%]{margin-top:.3rem}.form-check-label[_ngcontent-%COMP%]{margin-left:5px;font-size:14px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;padding:10px 20px;border-radius:4px;width:100%;font-size:16px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-link[_ngcontent-%COMP%]{color:#007bff;font-size:20px;transition:color .3s ease}.btn-link[_ngcontent-%COMP%]:hover{color:#0056b3}.text-center[_ngcontent-%COMP%]{margin-top:20px}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:10px;max-width:90%}}.error-message[_ngcontent-%COMP%]{color:red;background-color:#f8d7da;border:1px solid #f5c2c7;padding:10px;border-radius:4px;margin-bottom:15px;font-size:14px;text-align:center}"]})};var XG=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:EE},{path:"product/detail/:id",component:yE},{path:"orders",component:BE,canActivate:[wE]},{path:"login",component:QE},{path:"sign-up",component:vE}];var ahe={apiKey:"AIzaSyBCuzVw8DQihbmLvRgi_5VSrsNZ6yGs5pw",authDomain:"shopfer-19be5.firebaseapp.com",projectId:"shopfer-19be5",storageBucket:"shopfer-19be5.appspot.com",messagingSenderId:"606811884047",appId:"1:606811884047:web:33a572072271edc35fb17a"},eq={providers:[gD(XG),dD(),Kn,Er,uD(),ft,bT(()=>DT(ahe)),ML(()=>xL()),qG(()=>JG()),hs]};var che={providers:[hD()]},tq=oD(eq,che);var lhe=()=>AD(pE,tq),G0e=lhe;export{G0e as a};
