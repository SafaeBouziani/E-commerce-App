var VN=Object.defineProperty,jN=Object.defineProperties;var UN=Object.getOwnPropertyDescriptors;var gl=Object.getOwnPropertySymbols,BN=Object.getPrototypeOf,jE=Object.prototype.hasOwnProperty,UE=Object.prototype.propertyIsEnumerable,$N=Reflect.get;var VE=(t,e,n)=>e in t?VN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})jE.call(e,n)&&VE(t,n,e[n]);if(gl)for(var n of gl(e))UE.call(e,n)&&VE(t,n,e[n]);return t},me=(t,e)=>jN(t,UN(e));var BE=(t,e)=>{var n={};for(var r in t)jE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&gl)for(var r of gl(t))e.indexOf(r)<0&&UE.call(t,r)&&(n[r]=t[r]);return n};var di=(t,e,n)=>$N(BN(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function $E(t,e){return Object.is(t,e)}var lt=null,yl=!1,vl=1,Ar=Symbol("SIGNAL");function Ie(t){let e=lt;return lt=t,e}function HE(){return lt}var oc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cm(t){if(yl)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(t);let e=lt.nextProducerIndex++;if(El(lt),e<lt.producerNode.length&&lt.producerNode[e]!==t&&ic(lt)){let n=lt.producerNode[e];Il(n,lt.producerIndexOfThis[e])}lt.producerNode[e]!==t&&(lt.producerNode[e]=t,lt.producerIndexOfThis[e]=ic(lt)?WE(t,lt,e):0),lt.producerLastReadVersion[e]=t.version}function HN(){vl++}function qE(t){if(!(ic(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vl)){if(!t.producerMustRecompute(t)&&!Sm(t)){t.dirty=!1,t.lastCleanEpoch=vl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vl}}function zE(t){if(t.liveConsumerNode===void 0)return;let e=yl;yl=!0;try{for(let n of t.liveConsumerNode)n.dirty||qN(n)}finally{yl=e}}function GE(){return lt?.consumerAllowSignalWrites!==!1}function qN(t){t.dirty=!0,zE(t),t.consumerMarkedDirty?.(t)}function wl(t){return t&&(t.nextProducerIndex=0),Ie(t)}function Tm(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ic(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Il(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Sm(t){El(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(qE(n),r!==n.version))return!0}return!1}function Am(t){if(El(t),ic(t))for(let e=0;e<t.producerNode.length;e++)Il(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function WE(t,e,n){if(KE(t),t.liveConsumerNode.length===0&&QE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=WE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Il(t,e){if(KE(t),t.liveConsumerNode.length===1&&QE(t))for(let r=0;r<t.producerNode.length;r++)Il(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];El(i),i.producerIndexOfThis[r]=e}}function ic(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function El(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function KE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function QE(t){return t.producerNode!==void 0}function YE(t){let e=Object.create(zN);e.computation=t;let n=()=>{if(qE(e),Cm(e),e.value===_l)throw e.error;return e.value};return n[Ar]=e,n}var bm=Symbol("UNSET"),Dm=Symbol("COMPUTING"),_l=Symbol("ERRORED"),zN=me(U({},oc),{value:bm,dirty:!0,error:null,equal:$E,producerMustRecompute(t){return t.value===bm||t.value===Dm},producerRecomputeValue(t){if(t.value===Dm)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Dm;let n=wl(t),r;try{r=t.computation()}catch(i){r=_l,t.error=i}finally{Tm(t,n)}if(e!==bm&&e!==_l&&r!==_l&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function GN(){throw new Error}var ZE=GN;function JE(){ZE()}function XE(t){ZE=t}var WN=null;function eb(t){let e=Object.create(nb);e.value=t;let n=()=>(Cm(e),e.value);return n[Ar]=e,n}function Rm(t,e){GE()||JE(),t.equal(t.value,e)||(t.value=e,KN(t))}function tb(t,e){GE()||JE(),Rm(t,e(t.value))}var nb=me(U({},oc),{equal:$E,value:void 0});function KN(t){t.version++,HN(),zE(t),WN?.()}function se(t){return typeof t=="function"}function rs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var bl=rs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function oo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof bl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{rb(o)}catch(s){e=e??[],s instanceof bl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new bl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&oo(n,e)}remove(e){let{_finalizers:n}=this;n&&oo(n,e),e instanceof t&&e._removeParent(this)}};Ke.EMPTY=(()=>{let t=new Ke;return t.closed=!0,t})();var Mm=Ke.EMPTY;function Dl(t){return t instanceof Ke||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function rb(t){se(t)?t():t.unsubscribe()}var Pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var is={setTimeout(t,e,...n){let{delegate:r}=is;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Cl(t){is.setTimeout(()=>{let{onUnhandledError:e}=Pn;if(e)e(t);else throw t})}function sc(){}var ib=xm("C",void 0,void 0);function ob(t){return xm("E",void 0,t)}function sb(t){return xm("N",t,void 0)}function xm(t,e,n){return{kind:t,value:e,error:n}}var so=null;function os(t){if(Pn.useDeprecatedSynchronousErrorHandling){let e=!so;if(e&&(so={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=so;if(so=null,n)throw r}}else t()}function ab(t){Pn.useDeprecatedSynchronousErrorHandling&&so&&(so.errorThrown=!0,so.error=t)}var ao=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dl(e)&&e.add(this)):this.destination=ZN}static create(e,n,r){return new ss(e,n,r)}next(e){this.isStopped?Pm(sb(e),this):this._next(e)}error(e){this.isStopped?Pm(ob(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pm(ib,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QN=Function.prototype.bind;function Nm(t,e){return QN.call(t,e)}var Om=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tl(r)}else Tl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tl(n)}}},ss=class extends ao{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Nm(e.next,o),error:e.error&&Nm(e.error,o),complete:e.complete&&Nm(e.complete,o)}):i=e}this.destination=new Om(i)}};function Tl(t){Pn.useDeprecatedSynchronousErrorHandling?ab(t):Cl(t)}function YN(t){throw t}function Pm(t,e){let{onStoppedNotification:n}=Pn;n&&is.setTimeout(()=>n(t,e))}var ZN={closed:!0,next:sc,error:YN,complete:sc};var as=typeof Symbol=="function"&&Symbol.observable||"@@observable";function nn(t){return t}function Sl(...t){return km(t)}function km(t){return t.length===0?nn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=XN(n)?n:new ss(n,r,i);return os(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=cb(r),new r((i,o)=>{let s=new ss({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[as](){return this}pipe(...n){return km(n)(this)}toPromise(n){return n=cb(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function cb(t){var e;return(e=t??Pn.Promise)!==null&&e!==void 0?e:Promise}function JN(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function XN(t){return t&&t instanceof ao||JN(t)&&Dl(t)}function Fm(t){return se(t?.lift)}function ge(t){return e=>{if(Fm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new Lm(t,e,n,r,i)}var Lm=class extends ao{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function cs(){return ge((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var us=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Fm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return cs()(this)}};var ub=rs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mt=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Al(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ub}next(n){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mm:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,oo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new Al(e,n),t})(),Al=class extends mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Mm}};var Oe=class extends mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vm={now(){return(Vm.delegate||Date).now()},delegate:void 0};var Rl=class extends Ke{constructor(e,n){super()}schedule(e,n=0){return this}};var ac={setInterval(t,e,...n){let{delegate:r}=ac;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ac;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ls=class extends Rl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ac.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ac.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ds=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ds.now=Vm.now;var hs=class extends ds{constructor(e,n=ds.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var cc=new hs(ls);var Ml=class extends ls{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var xl=class extends hs{};var jm=new xl(Ml);var rn=new ue(t=>t.complete());function lb(t){return t&&se(t.schedule)}function db(t){return t[t.length-1]}function Nl(t){return se(db(t))?t.pop():void 0}function hi(t){return lb(db(t))?t.pop():void 0}function Um(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fb(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function hb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function co(t){return this instanceof co?(this.v=t,this):new co(t)}function pb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(M,V){o.push([y,N,M,V])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){g(o[0][3],N)}}function l(y){y.value instanceof co?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function mb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hb=="function"?hb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Pl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ol(t){return se(t?.then)}function kl(t){return se(t[as])}function Fl(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function Ll(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vl=eP();function jl(t){return se(t?.[Vl])}function Ul(t){return pb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield co(n.read());if(i)return yield co(void 0);yield yield co(r)}}finally{n.releaseLock()}})}function Bl(t){return se(t?.getReader)}function ot(t){if(t instanceof ue)return t;if(t!=null){if(kl(t))return tP(t);if(Pl(t))return nP(t);if(Ol(t))return rP(t);if(Fl(t))return gb(t);if(jl(t))return iP(t);if(Bl(t))return oP(t)}throw Ll(t)}function tP(t){return new ue(e=>{let n=t[as]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nP(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function rP(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Cl)})}function iP(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gb(t){return new ue(e=>{sP(t,e).catch(n=>e.error(n))})}function oP(t){return gb(Ul(t))}function sP(t,e){var n,r,i,o;return fb(this,void 0,void 0,function*(){try{for(n=mb(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Gt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function fi(t,e=0){return ge((n,r)=>{n.subscribe(fe(r,i=>Gt(r,t,()=>r.next(i),e),()=>Gt(r,t,()=>r.complete(),e),i=>Gt(r,t,()=>r.error(i),e)))})}function pi(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function yb(t,e){return ot(t).pipe(pi(e),fi(e))}function vb(t,e){return ot(t).pipe(pi(e),fi(e))}function _b(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function wb(t,e){return new ue(n=>{let r;return Gt(n,e,()=>{r=t[Vl](),Gt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function $l(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{Gt(n,e,()=>{let r=t[Symbol.asyncIterator]();Gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ib(t,e){return $l(Ul(t),e)}function Eb(t,e){if(t!=null){if(kl(t))return yb(t,e);if(Pl(t))return _b(t,e);if(Ol(t))return vb(t,e);if(Fl(t))return $l(t,e);if(jl(t))return wb(t,e);if(Bl(t))return Ib(t,e)}throw Ll(t)}function Ne(t,e){return e?Eb(t,e):ot(t)}function ee(...t){let e=hi(t);return Ne(t,e)}function fs(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Bm(t){return!!t&&(t instanceof ue||se(t.lift)&&se(t.subscribe))}var Rr=rs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return ge((n,r)=>{let i=0;n.subscribe(fe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:aP}=Array;function cP(t,e){return aP(e)?t(...e):t(e)}function Hl(t){return re(e=>cP(t,e))}var{isArray:uP}=Array,{getPrototypeOf:lP,prototype:dP,keys:hP}=Object;function ql(t){if(t.length===1){let e=t[0];if(uP(e))return{args:e,keys:null};if(fP(e)){let n=hP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function fP(t){return t&&typeof t=="object"&&lP(t)===dP}function zl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Gl(...t){let e=hi(t),n=Nl(t),{args:r,keys:i}=ql(t);if(r.length===0)return Ne([],e);let o=new ue(pP(r,e,i?s=>zl(i,s):nn));return n?o.pipe(Hl(n)):o}function pP(t,e,n=nn){return r=>{bb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)bb(e,()=>{let l=Ne(t[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function bb(t,e,n){t?Gt(n,t,e):e()}function Db(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let M=!1;ot(n(N,h++)).subscribe(fe(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let V=u.shift();s?Gt(e,s,()=>C(V)):C(V)}g()}catch(V){e.error(V)}}))};return t.subscribe(fe(e,y,()=>{p=!0,g()})),()=>{a?.()}}function dt(t,e,n=1/0){return se(e)?dt((r,i)=>re((o,s)=>e(r,o,i,s))(ot(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>Db(r,i,t,n)))}function $m(t=1/0){return dt(nn,t)}function Cb(){return $m(1)}function ps(...t){return Cb()(Ne(t,hi(t)))}function Wl(t){return new ue(e=>{ot(t()).subscribe(e)})}function Hm(...t){let e=Nl(t),{args:n,keys:r}=ql(t),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ot(n[h]).subscribe(fe(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?zl(r,a):a),o.complete())}))}});return e?i.pipe(Hl(e)):i}function Wt(t,e){return ge((n,r)=>{let i=0;n.subscribe(fe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function mi(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(fe(n,void 0,void 0,s=>{o=ot(t(s,mi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Tb(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function gi(t,e){return se(e)?dt(t,e,1):dt(t,1)}function uc(t,e=cc){return ge((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(fe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function yi(t){return ge((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Mr(t){return t<=0?()=>rn:ge((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qm(t){return re(()=>t)}function Kl(t=mP){return ge((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mP(){return new Rr}function uo(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function On(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,o)=>t(i,o,r)):nn,Mr(1),n?yi(e):Kl(()=>new Rr))}function ms(t){return t<=0?()=>rn:ge((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,o)=>t(i,o,r)):nn,ms(1),n?yi(e):Kl(()=>new Rr))}function Ql(t,e){return ge(Tb(t,e,arguments.length>=2,!0))}function Yl(...t){let e=hi(t);return ge((n,r)=>{(e?ps(t,n,e):ps(t,n)).subscribe(r)})}function on(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;ot(t(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Gm(t){return ge((e,n)=>{ot(t).subscribe(fe(n,()=>n.complete(),sc)),!n.closed&&e.subscribe(n)})}function rt(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):nn}var fD="https://g.co/ng/security#xss",K=class extends Error{constructor(e,n){super(Ud(e,n)),this.code=e}};function Ud(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ic(t){return{toString:t}.toString()}var Zl="__parameters__";function gP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pD(t,e,n){return Ic(()=>{let r=gP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Zl)?u[Zl]:Object.defineProperty(u,Zl,{value:[]})[Zl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var xr=globalThis;function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function yP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Sb(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var vP=ke({__forward_ref__:ke});function cn(t){return t.__forward_ref__=cn,t.toString=function(){return Ut(this())},t}function jt(t){return mD(t)?t():t}function mD(t){return typeof t=="function"&&t.hasOwnProperty(vP)&&t.__forward_ref__===cn}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bd(t){return Ab(t,yD)||Ab(t,vD)}function gD(t){return Bd(t)!==null}function Ab(t,e){return t.hasOwnProperty(e)?t[e]:null}function _P(t){let e=t&&(t[yD]||t[vD]);return e||null}function Rb(t){return t&&(t.hasOwnProperty(Mb)||t.hasOwnProperty(wP))?t[Mb]:null}var yD=ke({\u0275prov:ke}),Mb=ke({\u0275inj:ke}),vD=ke({ngInjectableDef:ke}),wP=ke({ngInjectorDef:ke}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _D(t){return t&&!!t.\u0275providers}var IP=ke({\u0275cmp:ke}),EP=ke({\u0275dir:ke}),bP=ke({\u0275pipe:ke}),DP=ke({\u0275mod:ke}),dd=ke({\u0275fac:ke}),hc=ke({__NG_ELEMENT_ID__:ke}),xb=ke({__NG_ENV_ID__:ke});function Is(t){return typeof t=="string"?t:t==null?"":String(t)}function CP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Is(t)}function TP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new K(-200,t)}function Jg(t,e){throw new K(-201,!1)}var he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{}),ug;function wD(){return ug}function Kt(t){let e=ug;return ug=t,e}function ID(t,e,n){let r=Bd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&he.Optional)return null;if(e!==void 0)return e;Jg(t,"Injector")}var SP={},fc=SP,lg="__NG_DI_FLAG__",hd="ngTempTokenPath",AP="ngTokenPath",RP=/\n/gm,MP="\u0275",Nb="__source",_s;function xP(){return _s}function vi(t){let e=_s;return _s=t,e}function NP(t,e=he.Default){if(_s===void 0)throw new K(-203,!1);return _s===null?ID(t,void 0,e):_s.get(t,e&he.Optional?null:void 0,e)}function Q(t,e=he.Default){return(wD()||NP)(jt(t),e)}function k(t,e=he.Default){return Q(t,$d(e))}function $d(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dg(t){let e=[];for(let n=0;n<t.length;n++){let r=jt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=he.Default;for(let s=0;s<r.length;s++){let a=r[s],u=PP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function ED(t,e){return t[lg]=e,t.prototype[lg]=e,t}function PP(t){return t[lg]}function OP(t,e,n,r){let i=t[hd];throw e[Nb]&&i.unshift(e[Nb]),t.message=kP(`
`+t.message,i,n,r),t[AP]=i,t[hd]=null,t}function kP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==MP?t.slice(2):t;let i=Ut(e);if(Array.isArray(e))i=e.map(Ut).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ut(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(RP,`
  `)}`}var Bt=ED(pD("Optional"),8);var bD=ED(pD("SkipSelf"),4);function fo(t,e){let n=t.hasOwnProperty(dd);return n?t[dd]:null}function Xg(t,e){t.forEach(n=>Array.isArray(n)?Xg(n,e):e(n))}function DD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function FP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function LP(t,e,n){let r=Ec(t,e);return r>=0?t[r|1]=n:(r=~r,FP(t,r,e,n)),r}function Wm(t,e){let n=Ec(t,e);if(n>=0)return t[n|1]}function Ec(t,e){return VP(t,e,1)}function VP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Es={},sn=[],po=new G(""),CD=new G("",-1),TD=new G(""),pd=class{get(e,n=fc){if(n===fc){let r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return n}},SD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(SD||{}),Jn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jn||{}),wi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(wi||{});function jP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function hg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];UP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function AD(t){return t===3||t===4||t===6}function UP(t){return t.charCodeAt(0)===64}function pc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Pb(t,n,i,null,e[++r]):Pb(t,n,i,null,null))}}return t}function Pb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var RD="ng-template";function BP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ey(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ey(t){return t.type===4&&t.value!==RD}function $P(t,e,n){let r=t.type===4&&!n?RD:t.value;return e===r}function HP(t,e,n){let r=4,i=t.attrs,o=i!==null?GP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!kn(r)&&!kn(u))return!1;if(s&&kn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!$P(t,u,n)||u===""&&e.length===1){if(kn(r))return!1;s=!0}}else if(r&8){if(i===null||!BP(t,i,u,n)){if(kn(r))return!1;s=!0}}else{let l=e[++a],h=qP(u,i,ey(t),n);if(h===-1){if(kn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(kn(r))return!1;s=!0}}}}return kn(r)||s}function kn(t){return(t&1)===0}function qP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return WP(e,t)}function zP(t,e,n=!1){for(let r=0;r<e.length;r++)if(HP(t,e[r],n))return!0;return!1}function GP(t){for(let e=0;e<t.length;e++){let n=t[e];if(AD(n))return e}return t.length}function WP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ob(t,e){return t?":not("+e.trim()+")":e}function KP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!kn(s)&&(e+=Ob(o,i),i=""),r=s,o=o||!kn(r);n++}return i!==""&&(e+=Ob(o,i)),e}function QP(t){return t.map(KP).join(",")}function YP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!kn(i))break;i=o}r++}return{attrs:e,classes:n}}function Le(t){return Ic(()=>{let e=OD(t),n=me(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===SD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jn.Emulated,styles:t.styles||sn,_:null,schemas:t.schemas||null,tView:null,id:""});kD(n);let r=t.dependencies;return n.directiveDefs=Fb(r,!1),n.pipeDefs=Fb(r,!0),n.id=XP(n),n})}function ZP(t){return mo(t)||MD(t)}function JP(t){return t!==null}function Vr(t){return Ic(()=>({type:t.type,bootstrap:t.bootstrap||sn,declarations:t.declarations||sn,imports:t.imports||sn,exports:t.exports||sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kb(t,e){if(t==null)return Es;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=wi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==wi.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ve(t){return Ic(()=>{let e=OD(t);return kD(e),e})}function Hd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function mo(t){return t[IP]||null}function MD(t){return t[EP]||null}function xD(t){return t[bP]||null}function ND(t){let e=mo(t)||MD(t)||xD(t);return e!==null?e.standalone:!1}function PD(t,e){let n=t[DP]||null;if(!n&&e===!0)throw new Error(`Type ${Ut(t)} does not have '\u0275mod' property.`);return n}function OD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Es,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kb(t.inputs,e),outputs:kb(t.outputs),debugInfo:null}}function kD(t){t.features?.forEach(e=>e(t))}function Fb(t,e){if(!t)return null;let n=e?xD:ZP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(JP)}function XP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function un(t){return{\u0275providers:t}}function eO(...t){return{\u0275providers:FD(!0,t),\u0275fromNgModule:!0}}function FD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Xg(e,s=>{let a=s;fg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&LD(i,o),n}function LD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ty(i,o=>{e(o,r)})}}function fg(t,e,n,r){if(t=jt(t),!t)return!1;let i=null,o=Rb(t),s=!o&&mo(t);if(!o&&!s){let u=t.ngModule;if(o=Rb(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)fg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Xg(o.imports,h=>{fg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&LD(l,e)}if(!a){let l=fo(i)||(()=>new i);e({provide:i,useFactory:l,deps:sn},i),e({provide:TD,useValue:i,multi:!0},i),e({provide:po,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;ty(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ty(t,e){for(let n of t)_D(n)&&(n=n.\u0275providers),Array.isArray(n)?ty(n,e):e(n)}var tO=ke({provide:String,useValue:ke});function VD(t){return t!==null&&typeof t=="object"&&tO in t}function nO(t){return!!(t&&t.useExisting)}function rO(t){return!!(t&&t.useFactory)}function bs(t){return typeof t=="function"}function iO(t){return!!t.useClass}var qd=new G(""),sd={},oO={},Km;function ny(){return Km===void 0&&(Km=new pd),Km}var Yt=class{},mc=class extends Yt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mg(e,s=>this.processProvider(s)),this.records.set(CD,gs(void 0,this)),i.has("environment")&&this.records.set(Yt,gs(void 0,this));let o=this.records.get(qd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TD,sn,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=vi(this),r=Kt(void 0),i;try{return e()}finally{vi(n),Kt(r)}}get(e,n=fc,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xb))return e[xb](this);r=$d(r);let i,o=vi(this),s=Kt(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=lO(e)&&Bd(e);l&&this.injectableDefInScope(l)?u=gs(pg(e),sd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&he.Self?ny():this.parent;return n=r&he.Optional&&n===fc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[hd]=a[hd]||[]).unshift(Ut(e)),o)throw a;return OP(a,e,"R3InjectorError",this.source)}else throw a}finally{Kt(s),vi(o)}}resolveInjectorInitializers(){let e=Ie(null),n=vi(this),r=Kt(void 0),i;try{let o=this.get(po,sn,he.Self);for(let s of o)s()}finally{vi(n),Kt(r),Ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=jt(e);let n=bs(e)?e:jt(e&&e.provide),r=aO(e);if(!bs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=gs(void 0,sd,!0),i.factory=()=>dg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ie(null);try{return n.value===sd&&(n.value=oO,n.value=n.factory()),typeof n.value=="object"&&n.value&&uO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pg(t){let e=Bd(t),n=e!==null?e.factory:fo(t);if(n!==null)return n;if(t instanceof G)throw new K(204,!1);if(t instanceof Function)return sO(t);throw new K(204,!1)}function sO(t){if(t.length>0)throw new K(204,!1);let n=_P(t);return n!==null?()=>n.factory(t):()=>new t}function aO(t){if(VD(t))return gs(void 0,t.useValue);{let e=jD(t);return gs(e,sd)}}function jD(t,e,n){let r;if(bs(t)){let i=jt(t);return fo(i)||pg(i)}else if(VD(t))r=()=>jt(t.useValue);else if(rO(t))r=()=>t.useFactory(...dg(t.deps||[]));else if(nO(t))r=()=>Q(jt(t.useExisting));else{let i=jt(t&&(t.useClass||t.provide));if(cO(t))r=()=>new i(...dg(t.deps));else return fo(i)||pg(i)}return r}function gs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cO(t){return!!t.deps}function uO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function lO(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function mg(t,e){for(let n of t)Array.isArray(n)?mg(n,e):n&&_D(n)?mg(n.\u0275providers,e):e(n)}function jn(t,e){t instanceof mc&&t.assertNotDestroyed();let n,r=vi(t),i=Kt(void 0);try{return e()}finally{vi(r),Kt(i)}}function dO(){return wD()!==void 0||xP()!=null}function hO(t){return typeof t=="function"}var an=0,le=1,ie=2,Mt=3,Fn=4,Un=5,Xn=6,md=7,In=8,Ds=9,er=10,He=11,gc=12,Lb=13,Ps=14,En=15,Cs=16,ys=17,Ts=18,zd=19,UD=20,_i=21,Qm=22,wn=23,it=25,BD=1,yc=6,Nr=7,gd=8,yd=9,Qt=10,vd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(vd||{});function Ln(t){return Array.isArray(t)&&typeof t[BD]=="object"}function tr(t){return Array.isArray(t)&&t[BD]===!0}function ry(t){return(t.flags&4)!==0}function bc(t){return t.componentOffset>-1}function Gd(t){return(t.flags&1)===1}function Ii(t){return!!t.template}function _d(t){return(t[ie]&512)!==0}var gg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function $D(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function nr(){return HD}function HD(t){return t.type.prototype.ngOnChanges&&(t.setInput=pO),fO}nr.ngInherit=!0;function fO(){let t=zD(this),e=t?.current;if(e){let n=t.previous;if(n===Es)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function pO(t,e,n,r,i){let o=this.declaredInputs[r],s=zD(t)||mO(t,{previous:Es,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new gg(l&&l.currentValue,n,u===Es),$D(t,e,i,n)}var qD="__ngSimpleChanges__";function zD(t){return t[qD]||null}function mO(t,e){return t[qD]=e}var Vb=null;var Yn=function(t,e,n){Vb?.(t,e,n)},GD="svg",gO="math";function Vn(t){for(;Array.isArray(t);)t=t[an];return t}function WD(t,e){return Vn(e[t])}function ln(t,e){return Vn(e[t.index])}function iy(t,e){return t.data[e]}function oy(t,e){return t[e]}function Di(t,e){let n=e[t];return Ln(n)?n:n[an]}function sy(t){return(t[ie]&128)===128}function yO(t){return tr(t[Mt])}function Ss(t,e){return e==null?null:t[e]}function KD(t){t[ys]=0}function QD(t){t[ie]&1024||(t[ie]|=1024,sy(t)&&Kd(t))}function vO(t,e){for(;t>0;)e=e[Ps],t--;return e}function Wd(t){return!!(t[ie]&9216||t[wn]?.dirty)}function yg(t){t[er].changeDetectionScheduler?.notify(8),t[ie]&64&&(t[ie]|=1024),Wd(t)&&Kd(t)}function Kd(t){t[er].changeDetectionScheduler?.notify(0);let e=go(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!sy(e)));)e=go(e)}function YD(t,e){if((t[ie]&256)===256)throw new K(911,!1);t[_i]===null&&(t[_i]=[]),t[_i].push(e)}function _O(t,e){if(t[_i]===null)return;let n=t[_i].indexOf(e);n!==-1&&t[_i].splice(n,1)}function go(t){let e=t[Mt];return tr(e)?e[Mt]:e}var ae={lFrame:sC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ZD=!1;function wO(){return ae.lFrame.elementDepthCount}function IO(){ae.lFrame.elementDepthCount++}function EO(){ae.lFrame.elementDepthCount--}function JD(){return ae.bindingsEnabled}function Dc(){return ae.skipHydrationRootTNode!==null}function bO(t){return ae.skipHydrationRootTNode===t}function DO(t){ae.skipHydrationRootTNode=t}function CO(){ae.skipHydrationRootTNode=null}function Ee(){return ae.lFrame.lView}function _t(){return ae.lFrame.tView}function Ye(t){return ae.lFrame.contextLView=t,t[In]}function Ze(t){return ae.lFrame.contextLView=null,t}function Nt(){let t=XD();for(;t!==null&&t.type===64;)t=t.parent;return t}function XD(){return ae.lFrame.currentTNode}function TO(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Io(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function ay(){return ae.lFrame.isParent}function eC(){ae.lFrame.isParent=!1}function SO(){return ae.lFrame.contextLView}function tC(){return ZD}function jb(t){ZD=t}function Cc(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function AO(){return ae.lFrame.bindingIndex}function RO(t){return ae.lFrame.bindingIndex=t}function Tc(){return ae.lFrame.bindingIndex++}function nC(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function MO(){return ae.lFrame.inI18n}function xO(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,vg(e)}function NO(){return ae.lFrame.currentDirectiveIndex}function vg(t){ae.lFrame.currentDirectiveIndex=t}function PO(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rC(t){ae.lFrame.currentQueryIndex=t}function OO(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[Un]:null}function iC(t,e,n){if(n&he.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&he.Host);)if(i=OO(o),i===null||(o=o[Ps],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=oC();return r.currentTNode=e,r.lView=t,!0}function cy(t){let e=oC(),n=t[le];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oC(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?sC(t):e}function sC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aC(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cC=aC;function uy(){let t=aC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kO(t){return(ae.lFrame.contextLView=vO(t,ae.lFrame.contextLView))[In]}function Eo(){return ae.lFrame.selectedIndex}function yo(t){ae.lFrame.selectedIndex=t}function Qd(){let t=ae.lFrame;return iy(t.tView,t.selectedIndex)}function Ae(){ae.lFrame.currentNamespace=GD}function Ge(){FO()}function FO(){ae.lFrame.currentNamespace=null}function uC(){return ae.lFrame.currentNamespace}var lC=!0;function Yd(){return lC}function Ci(t){lC=t}function LO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=HD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Zd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ad(t,e,n){dC(t,e,3,n)}function cd(t,e,n,r){(t[ie]&3)===n&&dC(t,e,n,r)}function Ym(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function dC(t,e,n,r){let i=r!==void 0?t[ys]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ys]+=65536),(a<o||o==-1)&&(VO(t,n,e,u),t[ys]=(t[ys]&4294901760)+u+2),u++}function Ub(t,e){Yn(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),Yn(5,t,e)}}function VO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ie]>>14<t[ys]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,Ub(a,o)):Ub(a,o)}var ws=-1,vo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function jO(t){return t instanceof vo}function UO(t){return(t.flags&8)!==0}function BO(t){return(t.flags&16)!==0}var Zm={},_g=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$d(r);let i=this.injector.get(e,Zm,r);return i!==Zm||n===Zm?i:this.parentInjector.get(e,n,r)}};function hC(t){return t!==ws}function wd(t){return t&32767}function $O(t){return t>>16}function Id(t,e){let n=$O(t),r=e;for(;n>0;)r=r[Ps],n--;return r}var wg=!0;function Ed(t){let e=wg;return wg=t,e}var HO=256,fC=HO-1,pC=5,qO=0,Zn={};function zO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(hc)&&(r=n[hc]),r==null&&(r=n[hc]=qO++);let i=r&fC,o=1<<i;e.data[t+(i>>pC)]|=o}function bd(t,e){let n=mC(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,Jm(r.data,t),Jm(e,null),Jm(r.blueprint,null));let i=ly(t,e),o=t.injectorIndex;if(hC(i)){let s=wd(i),a=Id(i,e),u=a[le].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Jm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ly(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=wC(i),r===null)return ws;if(n++,i=i[Ps],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ws}function Ig(t,e,n){zO(t,e,n)}function GO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(AD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function gC(t,e,n){if(n&he.Optional||t!==void 0)return t;Jg(e,"NodeInjector")}function yC(t,e,n,r){if(n&he.Optional&&r===void 0&&(r=null),!(n&(he.Self|he.Host))){let i=t[Ds],o=Kt(void 0);try{return i?i.get(e,r,n&he.Optional):ID(e,r,n&he.Optional)}finally{Kt(o)}}return gC(r,e,n)}function vC(t,e,n,r=he.Default,i){if(t!==null){if(e[ie]&2048&&!(r&he.Self)){let s=ZO(t,e,n,r,Zn);if(s!==Zn)return s}let o=_C(t,e,n,r,Zn);if(o!==Zn)return o}return yC(e,n,r,i)}function _C(t,e,n,r,i){let o=QO(n);if(typeof o=="function"){if(!iC(e,t,r))return r&he.Host?gC(i,n,r):yC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&he.Optional))Jg(n);else return s}finally{cC()}}else if(typeof o=="number"){let s=null,a=mC(t,e),u=ws,l=r&he.Host?e[En][Un]:null;for((a===-1||r&he.SkipSelf)&&(u=a===-1?ly(t,e):e[a+8],u===ws||!$b(r,!1)?a=-1:(s=e[le],a=wd(u),e=Id(u,e)));a!==-1;){let h=e[le];if(Bb(o,a,h.data)){let p=WO(a,e,n,s,r,l);if(p!==Zn)return p}u=e[a+8],u!==ws&&$b(r,e[le].data[a+8]===l)&&Bb(o,a,e)?(s=h,a=wd(u),e=Id(u,e)):a=-1}}return i}function WO(t,e,n,r,i,o){let s=e[le],a=s.data[t+8],u=r==null?bc(a)&&wg:r!=s&&(a.type&3)!==0,l=i&he.Host&&o===a,h=KO(a,s,n,u,l);return h!==null?As(e,s,h,a):Zn}function KO(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&Ii(y)&&y.type===n)return u}return null}function As(t,e,n,r){let i=t[n],o=e.data;if(jO(i)){let s=i;s.resolving&&TP(CP(o[n]));let a=Ed(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Kt(s.injectImpl):null,h=iC(t,r,he.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&LO(n,o[n],e)}finally{l!==null&&Kt(l),Ed(a),s.resolving=!1,cC()}}return i}function QO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(hc)?t[hc]:void 0;return typeof e=="number"?e>=0?e&fC:YO:e}function Bb(t,e,n){let r=1<<t;return!!(n[e+(t>>pC)]&r)}function $b(t,e){return!(t&he.Self)&&!(t&he.Host&&e)}var ho=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vC(this._tNode,this._lView,e,$d(r),n)}};function YO(){return new ho(Nt(),Ee())}function rr(t){return Ic(()=>{let e=t.prototype.constructor,n=e[dd]||Eg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[dd]||Eg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eg(t){return mD(t)?()=>{let e=Eg(jt(t));return e&&e()}:fo(t)}function ZO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!(s[ie]&512);){let a=_C(o,s,n,r|he.Self,Zn);if(a!==Zn)return a;let u=o.parent;if(!u){let l=s[UD];if(l){let h=l.get(n,Zn,r);if(h!==Zn)return h}u=wC(s),s=s[Ps]}o=u}return i}function wC(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[Un]:null}function dy(t){return GO(Nt(),t)}function Hb(t,e=null,n=null,r){let i=IC(t,e,n,r);return i.resolveInjectorInitializers(),i}function IC(t,e=null,n=null,r,i=new Set){let o=[n||sn,eO(t)];return r=r||(typeof t=="object"?void 0:Ut(t)),new mc(o,e||ny(),r||null,i)}var xt=class t{static{this.THROW_IF_NOT_FOUND=fc}static{this.NULL=new pd}static create(e,n){if(Array.isArray(e))return Hb({name:""},n,e,"");{let r=e.name??"";return Hb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=q({token:t,providedIn:"any",factory:()=>Q(CD)})}static{this.__NG_ELEMENT_ID__=-1}};var JO=new G("");JO.__NG_ELEMENT_ID__=t=>{let e=Nt();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(t&he.Optional)return null;throw new K(204,!1)};var XO="ngOriginalError";function Xm(t){return t[XO]}var EC=!0,bC=(()=>{class t{static{this.__NG_ELEMENT_ID__=ek}static{this.__NG_ENV_ID__=n=>n}}return t})(),bg=class extends bC{constructor(e){super(),this._lView=e}onDestroy(e){return YD(this._lView,e),()=>_O(this._lView,e)}};function ek(){return new bg(Ee())}var Ti=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Oe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Dg=class extends mt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,dO()&&(this.destroyRef=k(bC,{optional:!0})??void 0,this.pendingTasks=k(Ti,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Qe=Dg;function Dd(...t){}function DC(t){let e,n;function r(){t=Dd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function qb(t){return queueMicrotask(()=>t()),()=>{t=Dd}}var hy="isAngularZone",Cd=hy+"_ID",tk=0,Me=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=EC}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ik(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new K(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nk,Dd,Dd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},nk={};function fy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){DC(()=>{t.callbackScheduled=!1,Cg(t),t.isCheckStableRunning=!0,fy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Cg(t)}function ik(t){let e=()=>{rk(t)},n=tk++;t._inner=t._inner.fork({name:"angular",properties:{[hy]:!0,[Cd]:n,[Cd+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(ok(u))return r.invokeTask(o,s,a,u);try{return zb(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Gb(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return zb(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!sk(u)&&e(),Gb(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Cg(t),fy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Cg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gb(t){t._nesting--,fy(t)}var Tg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ok(t){return CC(t,"__ignore_ng_zone__")}function sk(t){return CC(t,"__scheduler_tick__")}function CC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Pr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Xm(e);for(;n&&Xm(n);)n=Xm(n);return n||null}},ak=new G("",{providedIn:"root",factory:()=>{let t=k(Me),e=k(Pr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function ck(){return Jd(Nt(),Ee())}function Jd(t,e){return new Bn(ln(t,e))}var Bn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=ck}}return t})();var uk="ngSkipHydration",lk="ngskiphydration";function TC(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===lk)return!0}return!1}function SC(t){return t.hasAttribute(uk)}function Td(t){return(t.flags&128)===128}function dk(t){if(Td(t))return!0;let e=t.parent;for(;e;){if(Td(t)||TC(e))return!0;e=e.parent}return!1}var AC=new Map,hk=0;function fk(){return hk++}function pk(t){AC.set(t[zd],t)}function Sg(t){AC.delete(t[zd])}var Wb="__ngContext__";function Ei(t,e){Ln(e)?(t[Wb]=e[zd],pk(e)):t[Wb]=e}function RC(t){return xC(t[gc])}function MC(t){return xC(t[Fn])}function xC(t){for(;t!==null&&!tr(t);)t=t[Fn];return t}var Ag;function NC(t){Ag=t}function Xd(){if(Ag!==void 0)return Ag;if(typeof document<"u")return document;throw new K(210,!1)}var eh=new G("",{providedIn:"root",factory:()=>mk}),mk="ng",py=new G(""),dn=new G("",{providedIn:"platform",factory:()=>"unknown"});var my=new G("",{providedIn:"root",factory:()=>Xd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function gk(){let t=new Os;return k(dn)==="browser"&&(t.store=yk(Xd(),k(eh))),t}var Os=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=q({token:t,providedIn:"root",factory:gk})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function yk(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var PC="h",OC="b",Rg=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Rg||{}),vk="e",_k="t",gy="c",kC="x",Sd="r",wk="i",Ik="n",FC="d";var Ek="__nghData__",LC=Ek,eg="ngh",bk="nghm",VC=()=>null;function Dk(t,e,n=!1){let r=t.getAttribute(eg);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let h=e.get(Os,null,{optional:!0});h!==null&&(u=h.get(LC,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,th(l,0,t.nextSibling)),a?t.setAttribute(eg,a):t.removeAttribute(eg),l}function Ck(){VC=Dk}function yy(t,e,n=!1){return VC(t,e,n)}function Tk(t){let e=t._lView;return e[le].type===2?null:(_d(e)&&(e=e[it]),e)}function Sk(t){return t.textContent?.replace(/\s/gm,"")}function Ak(t){let e=Xd(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=Sk(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function th(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Mg(t,e){return t.segmentHeads?.[e]??null}function Rk(t,e){let n=t.data,r=n[vk]?.[e]??null;return r===null&&n[gy]?.[e]&&(r=vy(t,e)),r}function jC(t,e){return t.data[gy]?.[e]??null}function vy(t,e){let n=jC(t,e)??[],r=0;for(let i of n)r+=i[Sd]*(i[kC]??1);return r}function Mk(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[FC];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Sc(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[FC];t.disconnectedNodes=n?new Set(n):null}return!!Mk(t)?.has(e)}var Jl=new G(""),UC=!1,BC=new G("",{providedIn:"root",factory:()=>UC});var Xl;function xk(){if(Xl===void 0&&(Xl=null,xr.trustedTypes))try{Xl=xr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xl}function Nk(t){return xk()?.createScriptURL(t)||t}var ed;function Pk(){if(ed===void 0&&(ed=null,xr.trustedTypes))try{ed=xr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ed}function Kb(t){return Pk()?.createScriptURL(t)||t}var Ad=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fD})`}};function Ac(t){return t instanceof Ad?t.changingThisBreaksApplicationSecurity:t}function _y(t,e){let n=Ok(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fD})`)}return n===e}function Ok(t){return t instanceof Ad&&t.getTypeName()||null}var kk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $C(t){return t=String(t),t.match(kk)?t:"unsafe:"+t}var nh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nh||{});function Rc(t){let e=qC();return e?e.sanitize(nh.URL,t)||"":_y(t,"URL")?Ac(t):$C(Is(t))}function Fk(t){let e=qC();if(e)return Kb(e.sanitize(nh.RESOURCE_URL,t)||"");if(_y(t,"ResourceURL"))return Kb(Ac(t));throw new K(904,!1)}function Mc(t){return Nk(t[0])}function Lk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Fk:Rc}function HC(t,e,n){return Lk(e,n)(t)}function qC(){let t=Ee();return t&&t[er].sanitizer}var Vk=/^>|^->|<!--|-->|--!>|<!-$/g,jk=/(<|>)/g,Uk="\u200B$1\u200B";function Bk(t){return t.replace(Vk,e=>e.replace(jk,Uk))}function $k(t){return t.ownerDocument.body}function zC(t){return t instanceof Function?t():t}function td(t){return(t??k(xt)).get(dn)==="browser"}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Or||{}),Hk;function wy(t,e){return Hk(t,e)}function vs(t,e,n,r,i){if(r!=null){let o,s=!1;tr(r)?o=r:Ln(r)&&(s=!0,r=r[an]);let a=Vn(r);t===0&&n!==null?i==null?YC(e,n,a):Md(e,n,a,i||null,!0):t===1&&n!==null?Md(e,n,a,i||null,!0):t===2?Dy(e,a,s):t===3&&e.destroyNode(a),o!=null&&iF(e,t,o,n,i)}}function GC(t,e){return t.createText(e)}function qk(t,e,n){t.setValue(e,n)}function WC(t,e){return t.createComment(Bk(e))}function Iy(t,e,n){return t.createElement(e,n)}function zk(t,e){KC(t,e),e[an]=null,e[Un]=null}function Gk(t,e,n,r,i,o){r[an]=i,r[Un]=e,ih(t,r,n,1,i,o)}function KC(t,e){e[er].changeDetectionScheduler?.notify(9),ih(t,e,e[He],2,null,null)}function Wk(t){let e=t[gc];if(!e)return tg(t[le],t);for(;e;){let n=null;if(Ln(e))n=e[gc];else{let r=e[Qt];r&&(n=r)}if(!n){for(;e&&!e[Fn]&&e!==t;)Ln(e)&&tg(e[le],e),e=e[Mt];e===null&&(e=t),Ln(e)&&tg(e[le],e),n=e&&e[Fn]}e=n}}function Kk(t,e,n,r){let i=Qt+r,o=n.length;r>0&&(n[i-1][Fn]=e),r<o-Qt?(e[Fn]=n[i],DD(n,Qt+r,e)):(n.push(e),e[Fn]=null),e[Mt]=n;let s=e[Cs];s!==null&&n!==s&&QC(s,e);let a=e[Ts];a!==null&&a.insertView(t),yg(e),e[ie]|=128}function QC(t,e){let n=t[yd],r=e[Mt];if(Ln(r))t[ie]|=vd.HasTransplantedViews;else{let i=r[Mt][En];e[En]!==i&&(t[ie]|=vd.HasTransplantedViews)}n===null?t[yd]=[e]:n.push(e)}function Ey(t,e){let n=t[yd],r=n.indexOf(e);n.splice(r,1)}function Rd(t,e){if(t.length<=Qt)return;let n=Qt+e,r=t[n];if(r){let i=r[Cs];i!==null&&i!==t&&Ey(i,r),e>0&&(t[n-1][Fn]=r[Fn]);let o=fd(t,Qt+e);zk(r[le],r);let s=o[Ts];s!==null&&s.detachView(o[le]),r[Mt]=null,r[Fn]=null,r[ie]&=-129}return r}function by(t,e){if(!(e[ie]&256)){let n=e[He];n.destroyNode&&ih(t,e,n,3,null,null),Wk(e)}}function tg(t,e){if(e[ie]&256)return;let n=Ie(null);try{e[ie]&=-129,e[ie]|=256,e[wn]&&Am(e[wn]),Yk(t,e),Qk(t,e),e[le].type===1&&e[He].destroy();let r=e[Cs];if(r!==null&&tr(e[Mt])){r!==e[Mt]&&Ey(r,e);let i=e[Ts];i!==null&&i.detachView(t)}Sg(e)}finally{Ie(n)}}function Qk(t,e){let n=t.cleanup,r=e[md];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[md]=null);let i=e[_i];if(i!==null){e[_i]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Yk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof vo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Yn(4,a,u);try{u.call(a)}finally{Yn(5,a,u)}}else{Yn(4,i,o);try{o.call(i)}finally{Yn(5,i,o)}}}}}function Zk(t,e,n){return Jk(t,e.parent,n)}function Jk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[an];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Jn.None||o===Jn.Emulated)return null}return ln(r,n)}}function Md(t,e,n,r,i){t.insertBefore(e,n,r,i)}function YC(t,e,n){t.appendChild(e,n)}function Qb(t,e,n,r,i){r!==null?Md(t,e,n,r,i):YC(t,e,n)}function ZC(t,e){return t.parentNode(e)}function Xk(t,e){return t.nextSibling(e)}function eF(t,e,n){return nF(t,e,n)}function tF(t,e,n){return t.type&40?ln(t,n):null}var nF=tF,Yb;function rh(t,e,n,r){let i=Zk(t,r,e),o=e[He],s=r.parent||e[Un],a=eF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Qb(o,i,n[u],a,!1);else Qb(o,i,n,a,!1);Yb!==void 0&&Yb(o,r,e,n,i)}function lc(t,e){if(e!==null){let n=e.type;if(n&3)return ln(e,t);if(n&4)return xg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return lc(t,r);{let i=t[e.index];return tr(i)?xg(-1,i):Vn(i)}}else{if(n&128)return lc(t,e.next);if(n&32)return wy(e,t)()||Vn(t[e.index]);{let r=JC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=go(t[En]);return lc(i,r)}else return lc(t,e.next)}}}return null}function JC(t,e){if(e!==null){let r=t[En][Un],i=e.projection;return r.projection[i]}return null}function xg(t,e){let n=Qt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return lc(r,i)}return e[Nr]}function Dy(t,e,n){t.removeChild(null,e,n)}function XC(t){t.textContent=""}function Cy(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ei(Vn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Cy(t,e,n.child,r,i,o,!1),vs(e,t,i,a,o);else if(u&32){let l=wy(n,r),h;for(;h=l();)vs(e,t,i,h,o);vs(e,t,i,a,o)}else u&16?rF(t,e,r,n,i,o):vs(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ih(t,e,n,r,i,o){Cy(n,r,t.firstChild,e,i,o,!1)}function rF(t,e,n,r,i,o){let s=n[En],u=s[Un].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];vs(e,t,i,h,o)}else{let l=u,h=s[Mt];Td(r)&&(l.flags|=128),Cy(t,e,l,h,i,o,!0)}}function iF(t,e,n,r,i){let o=n[Nr],s=Vn(n);o!==s&&vs(e,t,r,o,i);for(let a=Qt;a<n.length;a++){let u=n[a];ih(u[le],u,t,e,r,o)}}function oF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Or.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Or.Important),t.setStyle(n,r,i,o))}}function sF(t,e,n){t.setAttribute(e,"style",n)}function eT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function tT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&hg(t,e,r),i!==null&&eT(t,e,i),o!==null&&sF(t,e,o)}var bn={};function H(t=1){nT(_t(),Ee(),Eo()+t,!1)}function nT(t,e,n,r){if(!r)if((e[ie]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ad(e,o,n)}else{let o=t.preOrderHooks;o!==null&&cd(e,o,0,n)}yo(n)}function F(t,e=he.Default){let n=Ee();if(n===null)return Q(t,e);let r=Nt();return vC(r,n,jt(t),e)}function rT(t,e,n,r,i,o){let s=Ie(null);try{let a=null;i&wi.SignalBased&&(a=e[r][Ar]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&wi.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):$D(e,a,r,o)}finally{Ie(s)}}function aF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)yo(~i);else{let o=i,s=n[++r],a=n[++r];xO(s,o);let u=e[o];a(2,u)}}}finally{yo(-1)}}function oh(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[an]=i,p[ie]=r|4|128|8|64,(l!==null||t&&t[ie]&2048)&&(p[ie]|=2048),KD(p),p[Mt]=p[Ps]=t,p[In]=n,p[er]=s||t&&t[er],p[He]=a||t&&t[He],p[Ds]=u||t&&t[Ds]||null,p[Un]=o,p[zd]=fk(),p[Xn]=h,p[UD]=l,p[En]=e.type==2?t[En]:p,p}function xc(t,e,n,r,i){let o=t.data[e];if(o===null)o=cF(t,e,n,r,i),MO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=TO();o.injectorIndex=s===null?-1:s.injectorIndex}return Io(o,!0),o}function cF(t,e,n,r,i){let o=XD(),s=ay(),a=s?o:o&&o.parent,u=t.data[e]=pF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function iT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function oT(t,e,n,r,i){let o=Eo(),s=r&2;try{yo(-1),s&&e.length>it&&nT(t,e,it,!1),Yn(s?2:0,i),n(r,i)}finally{yo(o),Yn(s?3:1,i)}}function Ty(t,e,n){if(ry(e)){let r=Ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Ie(r)}}}function Sy(t,e,n){JD()&&(wF(t,e,n,ln(n,e)),(n.flags&64)===64&&uT(t,e,n))}function Ay(t,e,n=ln){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function sT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ry(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ry(t,e,n,r,i,o,s,a,u,l,h){let p=it+r,g=p+i,y=uF(p,g),C=typeof l=="function"?l():l;return y[le]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function uF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:bn);return n}function lF(t,e,n,r){let o=r.get(BC,UC)||n===Jn.ShadowDom,s=t.selectRootElement(e,o);return dF(s),s}function dF(t){aT(t)}var aT=()=>null;function hF(t){SC(t)?XC(t):Ak(t)}function fF(){aT=hF}function pF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Dc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zb(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=wi.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Jb(r,n,l,a,u):Jb(r,n,l,a)}return r}function Jb(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function mF(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,y=g?g.inputs:null,C=g?g.outputs:null;u=Zb(0,p.inputs,h,u,y),l=Zb(1,p.outputs,h,l,C);let N=u!==null&&s!==null&&!ey(e)?xF(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function gF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function My(t,e,n,r,i,o,s,a){let u=ln(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Ny(t,n,h,r,i),bc(e)&&yF(n,e.index)):e.type&3?(r=gF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function yF(t,e){let n=Di(e,t);n[ie]&16||(n[ie]|=64)}function xy(t,e,n,r){if(JD()){let i=r===null?null:{"":-1},o=EF(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&cT(t,e,n,s,i,a),i&&bF(n,r,i)}n.mergedAttrs=pc(n.mergedAttrs,n.attrs)}function cT(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Ig(bd(n,e),t,r[l].type);CF(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=iT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=pc(n.mergedAttrs,h.hostAttrs),TF(t,n,e,u,h),DF(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}mF(t,n,o)}function vF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;_F(s)!=a&&s.push(a),s.push(n,r,o)}}function _F(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function wF(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;bc(n)&&SF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||bd(n,e),Ei(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=As(e,t,a,n);if(Ei(l,e),s!==null&&MF(e,a-i,l,u,n,s),Ii(u)){let h=Di(n.index,e);h[In]=As(e,t,a,n)}}}function uT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=NO();try{yo(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];vg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&IF(u,l)}}finally{yo(-1),vg(s)}}function IF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function EF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(zP(e,s.selectors,!1))if(r||(r=[]),Ii(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Ng(t,e,u)}else r.unshift(s),Ng(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ng(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}}function DF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ii(e)&&(n[""]=t)}}function CF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function TF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=fo(i.type,!0)),s=new vo(o,Ii(i),F);t.blueprint[r]=s,n[r]=s,vF(t,e,r,iT(t,n,i.hostVars,bn),i)}function SF(t,e,n){let r=ln(e,t),i=sT(n),o=t[er].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=sh(t,oh(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function AF(t,e,n,r,i,o){let s=ln(t,e);RF(e[He],s,o,t.value,n,r,i)}function RF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Is(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function MF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];rT(r,n,u,l,h,p)}}function xF(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function lT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function dT(t,e){let n=t.contentQueries;if(n!==null){let r=Ie(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];rC(o),a.contentQueries(2,e[s],s)}}}finally{Ie(r)}}}function sh(t,e){return t[gc]?t[Lb][Fn]=e:t[gc]=e,t[Lb]=e,e}function Pg(t,e,n){rC(0);let r=Ie(null);try{e(t,n)}finally{Ie(r)}}function NF(t){return t[md]??=[]}function PF(t){return t.cleanup??=[]}function hT(t,e){let n=t[Ds],r=n?n.get(Pr,null):null;r&&r.handleError(e)}function Ny(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];rT(h,l,r,a,u,i)}}function fT(t,e,n){let r=WD(e,t);qk(t[He],r,n)}function OF(t,e){let n=Di(e,t),r=n[le];kF(r,n);let i=n[an];i!==null&&n[Xn]===null&&(n[Xn]=yy(i,n[Ds])),Py(r,n,n[In])}function kF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Py(t,e,n){cy(e);try{let r=t.viewQuery;r!==null&&Pg(1,r,n);let i=t.template;i!==null&&oT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ts]?.finishViewCreation(t),t.staticContentQueries&&dT(t,e),t.staticViewQueries&&Pg(2,t.viewQuery,n);let o=t.components;o!==null&&FF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,uy()}}function FF(t,e){for(let n=0;n<e.length;n++)OF(t,e[n])}function pT(t,e,n,r){let i=Ie(null);try{let o=e.tView,a=t[ie]&4096?4096:16,u=oh(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Cs]=l;let h=t[Ts];return h!==null&&(u[Ts]=h.createEmbeddedView(o)),Py(o,u,n),u}finally{Ie(i)}}function LF(t,e){let n=Qt+e;if(n<t.length)return t[n]}function Og(t,e){return!e||e.firstChild===null||Td(t)}function mT(t,e,n,r=!0){let i=e[le];if(Kk(i,e,t,n),r){let s=xg(n,t),a=e[He],u=ZC(a,t[Nr]);u!==null&&Gk(i,t[Un],a,e,u,s)}let o=e[Xn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function VF(t,e){let n=Rd(t,e);return n!==void 0&&by(n[le],n),n}function xd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Vn(o)),tr(o)&&jF(o,r);let s=n.type;if(s&8)xd(t,e,n.child,r);else if(s&32){let a=wy(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=JC(e,n);if(Array.isArray(a))r.push(...a);else{let u=go(e[En]);xd(u[le],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function jF(t,e){for(let n=Qt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&xd(r[le],r,i,e)}t[Nr]!==t[an]&&e.push(t[Nr])}var gT=[];function UF(t){return t[wn]??BF(t)}function BF(t){let e=gT.pop()??Object.create(HF);return e.lView=t,e}function $F(t){t.lView[wn]!==t&&(t.lView=null,gT.push(t))}var HF=me(U({},oc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kd(t.lView)},consumerOnSignalRead(){this.lView[wn]=this}});function qF(t){let e=t[wn]??Object.create(zF);return e.lView=t,e}var zF=me(U({},oc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=go(t.lView);for(;e&&!yT(e[le]);)e=go(e);e&&QD(e)},consumerOnSignalRead(){this.lView[wn]=this}});function yT(t){return t.type!==2}var GF=100;function vT(t,e=!0,n=0){let r=t[er],i=r.rendererFactory,o=!1;o||i.begin?.();try{WF(t,n)}catch(s){throw e&&hT(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function WF(t,e){let n=tC();try{jb(!0),kg(t,e);let r=0;for(;Wd(t);){if(r===GF)throw new K(103,!1);r++,kg(t,1)}}finally{jb(n)}}function KF(t,e,n,r){let i=e[ie];if((i&256)===256)return;let o=!1,s=!1;!o&&e[er].inlineEffectRunner?.flush(),cy(e);let a=!0,u=null,l=null;o||(yT(t)?(l=UF(e),u=wl(l)):HE()===null?(a=!1,l=qF(e),u=wl(l)):e[wn]&&(Am(e[wn]),e[wn]=null));try{KD(e),RO(t.bindingStartIndex),n!==null&&oT(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&ad(e,y,null)}else{let y=t.preOrderHooks;y!==null&&cd(e,y,0,null),Ym(e,0)}if(s||QF(e),_T(e,0),t.contentQueries!==null&&dT(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&ad(e,y)}else{let y=t.contentHooks;y!==null&&cd(e,y,1),Ym(e,1)}aF(t,e);let p=t.components;p!==null&&IT(e,p,0);let g=t.viewQuery;if(g!==null&&Pg(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&ad(e,y)}else{let y=t.viewHooks;y!==null&&cd(e,y,2),Ym(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qm]){for(let y of e[Qm])y();e[Qm]=null}o||(e[ie]&=-73)}catch(h){throw o||Kd(e),h}finally{l!==null&&(Tm(l,u),a&&$F(l)),uy()}}function _T(t,e){for(let n=RC(t);n!==null;n=MC(n))for(let r=Qt;r<n.length;r++){let i=n[r];wT(i,e)}}function QF(t){for(let e=RC(t);e!==null;e=MC(e)){if(!(e[ie]&vd.HasTransplantedViews))continue;let n=e[yd];for(let r=0;r<n.length;r++){let i=n[r];QD(i)}}}function YF(t,e,n){let r=Di(e,t);wT(r,n)}function wT(t,e){sy(t)&&kg(t,e)}function kg(t,e){let r=t[le],i=t[ie],o=t[wn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Sm(o)),s||=!1,o&&(o.dirty=!1),t[ie]&=-9217,s)KF(r,t,r.template,t[In]);else if(i&8192){_T(t,1);let a=r.components;a!==null&&IT(t,a,1)}}function IT(t,e,n){for(let r=0;r<e.length;r++)YF(t,e[r],n)}function Oy(t,e){let n=tC()?64:1088;for(t[er].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=go(t);if(_d(t)&&!r)return t;t=r}return null}var _o=class{get rootNodes(){let e=this._lView,n=e[le];return xd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[In]}set context(e){this._lView[In]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Mt];if(tr(e)){let n=e[gd],r=n?n.indexOf(this):-1;r>-1&&(Rd(e,r),fd(n,r))}this._attachedToViewContainer=!1}by(this._lView[le],this._lView)}onDestroy(e){YD(this._lView,e)}markForCheck(){Oy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){yg(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,vT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_d(this._lView),n=this._lView[Cs];n!==null&&!e&&Ey(n,this._lView),KC(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let n=_d(this._lView),r=this._lView[Cs];r!==null&&!n&&QC(r,this._lView),yg(this._lView)}},ah=(()=>{class t{static{this.__NG_ELEMENT_ID__=XF}}return t})(),ZF=ah,JF=class extends ZF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=pT(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new _o(i)}};function XF(){return ET(Nt(),Ee())}function ET(t,e){return t.type&4?new JF(e,t,Jd(t,e)):null}var eL=new RegExp(`^(\\d+)*(${OC}|${PC})*(.*)`);function tL(t){let e=t.match(eL),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function nL(t){return!t.prev&&t.parent?.type===8}function ng(t){return t.index-it}function rL(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function ch(t,e,n,r){let i=ng(r),o=rL(t,i);if(o===void 0){let s=t.data[Ik];if(s?.[i])o=oL(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(nL(r)){let l=ng(r.parent);o=Mg(t,l)}else{let l=ln(u,n);if(a)o=l.firstChild;else{let h=ng(u),p=Mg(t,h);if(u.type===2&&p){let y=vy(t,h)+1;o=uh(y,p)}else o=l.nextSibling}}}}return o}function uh(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function iL(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Rg.FirstChild:n=n.firstChild;break;case Rg.NextSibling:n=n.nextSibling;break}}return n}function oL(t,e){let[n,...r]=tL(t),i;if(n===PC)i=e[En][an];else if(n===OC)i=$k(e[En][an]);else{let o=Number(n);i=Vn(e[o+it])}return iL(i,r)}var sL=!1;function aL(t){sL=t}function cL(t){let e=t[Xn];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[He];for(let o of r.values())uL(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function uL(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-it);i&&Dy(t,i,!1)}}function bT(t){let e=t[yc]??[],r=t[Mt][He];for(let i of e)lL(i,r);t[yc]=sn}function lL(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Sd];for(;n<i;){let o=r.nextSibling;Dy(e,r,!1),r=o,n++}}}function DT(t){bT(t);let e=t[an];Ln(e)&&Nd(e);for(let n=Qt;n<t.length;n++)Nd(t[n])}function Nd(t){cL(t);let e=t[le];for(let n=it;n<e.bindingStartIndex;n++)if(tr(t[n])){let r=t[n];DT(r)}else Ln(t[n])&&Nd(t[n])}function dL(t){let e=t._views;for(let n of e){let r=Tk(n);r!==null&&r[an]!==null&&(Ln(r)?Nd(r):DT(r))}}function hL(t,e){let n=[];for(let r of e)for(let i=0;i<(r[kC]??1);i++){let o={data:r,firstChild:null};r[Sd]>0&&(o.firstChild=t,t=uh(r[Sd],t)),n.push(o)}return[t,n]}var CT=()=>null;function fL(t,e){let n=t[yc];return!e||n===null||n.length===0?null:n[0].data[wk]===e?n.shift():(bT(t),null)}function pL(){CT=fL}function Fg(t,e){return CT(t,e)}var Rs=class{},ky=new G("",{providedIn:"root",factory:()=>!1});var TT=new G(""),ST=new G(""),Lg=class{},Pd=class{};function mL(t){let e=Error(`No component factory found for ${Ut(t)}.`);return e[gL]=t,e}var gL="ngComponent";var Vg=class{resolveComponentFactory(e){throw mL(e)}},Ms=class{static{this.NULL=new Vg}},xs=class{},ir=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>yL()}}return t})();function yL(){let t=Ee(),e=Nt(),n=Di(e.index,t);return(Ln(n)?n:t)[He]}var vL=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>null})}}return t})();function Od(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Sb(i,a);else if(o==2){let u=a,l=e[++s];r=Sb(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var kd=class extends Ms{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mo(e);return new vc(n,this.ngModule)}};function Xb(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:wi.None;e?n.push({propName:s,templateName:r,isSignal:(a&wi.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function _L(t){let e=t.toLowerCase();return e==="svg"?GD:e==="math"?gO:null}var vc=class extends Pd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Xb(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Xb(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=QP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ie(null);try{i=i||this.ngModule;let s=i instanceof Yt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new _g(e,s):e,u=a.get(xs,null);if(u===null)throw new K(407,!1);let l=a.get(vL,null),h=a.get(Rs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?lF(g,r,this.componentDef.encapsulation,a):Iy(g,y,_L(y)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let M=null;C!==null&&(M=yy(C,a,!0));let V=Ry(0,null,null,1,0,null,null,null,null,null,null),z=oh(null,V,null,N,null,null,p,g,a,null,M);cy(z);let $,Z,we=null;try{let X=this.componentDef,b,v=null;X.findHostDirectiveDefs?(b=[],v=new Map,X.findHostDirectiveDefs(X,b,v),b.push(X)):b=[X];let w=wL(z,C);we=IL(w,C,X,b,z,p,g),Z=iy(V,it),C&&DL(g,X,C,r),n!==void 0&&CL(Z,this.ngContentSelectors,n),$=bL(we,X,b,v,z,[TL]),Py(V,z,null)}catch(X){throw we!==null&&Sg(we),Sg(z),X}finally{uy()}return new jg(this.componentType,$,Jd(Z,z),z,Z)}finally{Ie(o)}}},jg=class extends Lg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new _o(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Ny(o[le],o,i,e,n),this.previousInputValues.set(e,n);let s=Di(this._tNode.index,o);Oy(s,1)}}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function wL(t,e){let n=t[le],r=it;return t[r]=e,xc(n,r,2,"#host",null)}function IL(t,e,n,r,i,o,s){let a=i[le];EL(r,t,e,s);let u=null;e!==null&&(u=yy(e,i[Ds]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=oh(i,sT(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Ng(a,t,r.length-1),sh(i,p),i[t.index]=p}function EL(t,e,n,r){for(let i of t)e.mergedAttrs=pc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Od(e,e.mergedAttrs,!0),n!==null&&tT(r,n,e))}function bL(t,e,n,r,i,o){let s=Nt(),a=i[le],u=ln(s,i);cT(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=As(i,a,p,s);Ei(g,i)}uT(a,i,s),u&&Ei(u,i);let l=As(i,a,s.directiveStart+s.componentOffset,s);if(t[In]=i[In]=l,o!==null)for(let h of o)h(l,e);return Ty(a,s,i),l}function DL(t,e,n,r){if(r)hg(t,n,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=YP(e.selectors[0]);i&&hg(t,n,i),o&&o.length>0&&eT(t,n,o.join(" "))}}function CL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function TL(){let t=Nt();Zd(Ee()[le],t)}var ks=(()=>{class t{static{this.__NG_ELEMENT_ID__=SL}}return t})();function SL(){let t=Nt();return RL(t,Ee())}var AL=ks,AT=class extends AL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){let e=ly(this._hostTNode,this._hostLView);if(hC(e)){let n=Id(e,this._hostLView),r=wd(e),i=n[le].data[r+8];return new ho(i,n)}else return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=eD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Fg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Og(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!hO(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new vc(mo(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Yt,null);N&&(o=N)}let h=mo(u.componentType??{}),p=Fg(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,Og(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(yO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Mt],l=new AT(u,u[Un],u[Mt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return mT(s,i,o,r),e.attachToViewContainerRef(),DD(rg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=eD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Rd(this._lContainer,n);r&&(fd(rg(this._lContainer),n),by(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=Rd(this._lContainer,n);return r&&fd(rg(this._lContainer),n)!=null?new _o(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function eD(t){return t[gd]}function rg(t){return t[gd]||(t[gd]=[])}function RL(t,e){let n,r=e[t.index];return tr(r)?n=r:(n=lT(r,e,null,t),e[t.index]=n,sh(e,n)),RT(n,e,t,r),new AT(n,t,e)}function ML(t,e){let n=t[He],r=n.createComment(""),i=ln(e,t),o=ZC(n,i);return Md(n,o,r,Xk(n,i),!1),r}var RT=MT,Fy=()=>!1;function xL(t,e,n){return Fy(t,e,n)}function MT(t,e,n,r){if(t[Nr])return;let i;n.type&8?i=Vn(r):i=ML(e,n),t[Nr]=i}function NL(t,e,n){if(t[Nr]&&t[yc])return!0;let r=n[Xn],i=e.index-it;if(!r||dk(e)||Sc(r,i))return!1;let s=Mg(r,i),a=r.data[gy]?.[i],[u,l]=hL(s,a);return t[Nr]=u,t[yc]=l,!0}function PL(t,e,n,r){Fy(t,n,e)||MT(t,e,n,r)}function OL(){RT=PL,Fy=NL}var tD=new Set;function Si(t){tD.has(t)||(tD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function kL(t){return typeof t=="function"&&t[Ar]!==void 0}function Ai(t,e){Si("NgSignals");let n=eb(t),r=n[Ar];return e?.equal&&(r.equal=e.equal),n.set=i=>Rm(r,i),n.update=i=>tb(r,i),n.asReadonly=FL.bind(n),n}function FL(){let t=this[Ar];if(t.readonlyFn===void 0){let e=()=>this();e[Ar]=t,t.readonlyFn=e}return t.readonlyFn}function xT(t){return kL(t)&&typeof t.set=="function"}function LL(t){return Object.getPrototypeOf(t.prototype).constructor}function $t(t){let e=LL(t.type),n=!0,r=[t];for(;e;){let i;if(Ii(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=nd(t.inputs),s.inputTransforms=nd(t.inputTransforms),s.declaredInputs=nd(t.declaredInputs),s.outputs=nd(t.outputs);let a=i.hostBindings;a&&$L(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&UL(t,u),l&&BL(t,l),VL(t,i),yP(t.outputs,i.outputs),Ii(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===$t&&(n=!1)}}e=Object.getPrototypeOf(e)}jL(r)}function VL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function jL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pc(i.hostAttrs,n=pc(n,i.hostAttrs))}}function nd(t){return t===Es?{}:t===sn?[]:t}function UL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function BL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function $L(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ly(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var bi=class{},_c=class{};var Ug=class extends bi{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kd(this);let o=PD(e);this._bootstrapComponents=zC(o.bootstrap),this._r3Injector=IC(e,n,[{provide:bi,useValue:this},{provide:Ms,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bg=class extends _c{constructor(e){super(),this.moduleType=e}create(e){return new Ug(this.moduleType,e,[])}};var Fd=class extends bi{constructor(e){super(),this.componentFactoryResolver=new kd(this),this.instance=null;let n=new mc([...e.providers,{provide:bi,useValue:this},{provide:Ms,useValue:this.componentFactoryResolver}],e.parent||ny(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vy(t,e,n=null){return new Fd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function NT(t){return qL(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function HL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function qL(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jy(t,e,n){return t[e]=n}function zL(t,e){return t[e]}function kr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function PT(t,e,n,r){let i=kr(t,e,n);return kr(t,e+1,r)||i}function Nc(t){return(t.flags&32)===32}function GL(t,e,n,r,i,o,s,a,u){let l=e.consts,h=xc(e,t,4,s||null,a||null);xy(e,n,h,Ss(l,u)),Zd(e,h);let p=h.tView=Ry(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function WL(t,e,n,r,i,o,s,a,u,l){let h=n+it,p=e.firstCreatePass?GL(h,e,t,r,i,o,s,a,u):e.data[h];Io(p,!1);let g=OT(e,t,p,n);Yd()&&rh(e,t,g,p),Ei(g,t);let y=lT(g,t,g,p);return t[h]=y,sh(t,y),xL(y,p,t),Gd(p)&&Sy(e,t,p),u!=null&&Ay(t,p,l),p}function je(t,e,n,r,i,o,s,a){let u=Ee(),l=_t(),h=Ss(l.consts,o);return WL(u,l,t,e,n,r,i,h,s,a),je}var OT=kT;function kT(t,e,n,r){return Ci(!0),e[He].createComment("")}function KL(t,e,n,r){let i=e[Xn],o=!i||Dc()||Nc(n)||Sc(i,r);if(Ci(o),o)return kT(t,e,n,r);let s=i.data[_k]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=ch(i,t,e,n);th(i,r,a);let u=vy(i,r);return uh(u,a)}function QL(){OT=KL}var dc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(dc||{}),YL=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}}return t})(),nD=class t{constructor(){this.ngZone=k(Me),this.scheduler=k(Rs),this.errorHandler=k(Pr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[dc.EarlyRead,dc.Write,dc.MixedReadWrite,dc.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}};function jr(t,e,n,r){let i=Ee(),o=Tc();if(kr(i,o,e)){let s=_t(),a=Qd();AF(a,i,t,e,n,r)}return jr}function FT(t,e,n,r){return kr(t,Tc(),n)?e+Is(n)+r:bn}function ZL(t,e,n,r,i,o){let s=AO(),a=PT(t,s,n,i);return nC(2),a?e+Is(n)+r+Is(i)+o:bn}function rd(t,e){return t<<17|e<<2}function wo(t){return t>>17&32767}function JL(t){return(t&2)==2}function XL(t,e){return t&131071|e<<17}function $g(t){return t|2}function Ns(t){return(t&131068)>>2}function ig(t,e){return t&-131069|e<<2}function eV(t){return(t&1)===1}function Hg(t){return t|1}function tV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=wo(s),u=Ns(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ec(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=wo(t[a+1]);t[r+1]=rd(g,a),g!==0&&(t[g+1]=ig(t[g+1],r)),t[a+1]=XL(t[a+1],r)}else t[r+1]=rd(a,0),a!==0&&(t[a+1]=ig(t[a+1],r)),a=r;else t[r+1]=rd(u,0),a===0?a=r:t[u+1]=ig(t[u+1],r),u=r;l&&(t[r+1]=$g(t[r+1])),rD(t,h,r,!0),rD(t,h,r,!1),nV(e,h,t,r,o),s=rd(a,u),o?e.classBindings=s:e.styleBindings=s}function nV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ec(o,e)>=0&&(n[r+1]=Hg(n[r+1]))}function rD(t,e,n,r){let i=t[n+1],o=e===null,s=r?wo(i):Ns(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];rV(u,e)&&(a=!0,t[s+1]=r?Hg(l):$g(l)),s=r?wo(l):Ns(l)}a&&(t[n+1]=r?$g(i):Hg(i))}function rV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ec(t,e)>=0:!1}function ye(t,e,n){let r=Ee(),i=Tc();if(kr(r,i,e)){let o=_t(),s=Qd();My(o,s,r,t,e,r[He],n,!1)}return ye}function iD(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Ny(t,n,o[s],s,r)}function lh(t,e){return iV(t,e,null,!0),lh}function iV(t,e,n,r){let i=Ee(),o=_t(),s=nC(2);if(o.firstUpdatePass&&sV(o,t,s,r),e!==bn&&kr(i,s,e)){let a=o.data[Eo()];dV(o,a,i,i[He],t,i[s+1]=hV(e,n),r,s)}}function oV(t,e){return e>=t.expandoStartIndex}function sV(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Eo()],s=oV(t,n);fV(o,r)&&e===null&&!s&&(e=!1),e=aV(i,o,e,r),tV(i,o,e,n,s,r)}}function aV(t,e,n,r){let i=PO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=og(null,t,e,n,r),n=wc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=og(i,t,e,n,r),o===null){let u=cV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=og(null,t,e,u[1],r),u=wc(u,e.attrs,r),uV(t,e,r,u))}else o=lV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function cV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ns(r)!==0)return t[wo(r)]}function uV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[wo(i)]=r}function lV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=wc(r,s,n)}return wc(r,e.attrs,n)}function og(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=wc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function wc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),LP(t,s,n?!0:e[++o]))}return t===void 0?null:t}function dV(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=eV(l)?oD(u,e,n,i,Ns(l),s):void 0;if(!Ld(h)){Ld(o)||JL(l)&&(o=oD(u,null,n,i,a,s));let p=WD(Eo(),n);oF(r,s,p,i,o)}}function oD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===bn&&(g=p?sn:void 0);let y=p?Wm(g,r):h===r?g:void 0;if(l&&!Ld(y)&&(y=Wm(u,r)),Ld(y)&&(a=y,s))return a;let C=t[i+1];i=s?wo(C):Ns(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Wm(u,r))}return a}function Ld(t){return t!==void 0}function hV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ut(Ac(t)))),t}function fV(t,e){return(t.flags&(e?8:16))!==0}function dh(t,e){Si("NgControlFlow");let n=Ee(),r=Tc(),i=n[r]!==bn?n[r]:-1,o=i!==-1?sD(n,it+i):void 0,s=0;if(kr(n,r,t)){let a=Ie(null);try{if(o!==void 0&&VF(o,s),t!==-1){let u=it+t,l=sD(n,u),h=pV(n[le],u),p=Fg(l,h.tView.ssrId),g=pT(n,h,e,{dehydratedView:p});mT(l,g,s,Og(h,p))}}finally{Ie(a)}}else if(o!==void 0){let a=LF(o,s);a!==void 0&&(a[In]=e)}}function sD(t,e){return t[e]}function pV(t,e){return iy(t,e)}function mV(t,e,n,r,i,o){let s=e.consts,a=Ss(s,i),u=xc(e,t,2,r,a);return xy(e,n,u,Ss(s,o)),u.attrs!==null&&Od(u,u.attrs,!1),u.mergedAttrs!==null&&Od(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function E(t,e,n,r){let i=Ee(),o=_t(),s=it+t,a=i[He],u=o.firstCreatePass?mV(s,o,i,e,n,r):o.data[s],l=LT(o,i,u,a,e,t);i[s]=l;let h=Gd(u);return Io(u,!0),tT(a,l,u),!Nc(u)&&Yd()&&rh(o,i,l,u),wO()===0&&Ei(l,i),IO(),h&&(Sy(o,i,u),Ty(o,u,i)),r!==null&&Ay(i,u),E}function S(){let t=Nt();ay()?eC():(t=t.parent,Io(t,!1));let e=t;bO(e)&&CO(),EO();let n=_t();return n.firstCreatePass&&(Zd(n,t),ry(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&UO(e)&&iD(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&BO(e)&&iD(n,e,Ee(),e.stylesWithoutHost,!1),S}function B(t,e,n,r){return E(t,e,n,r),S(),B}var LT=(t,e,n,r,i,o)=>(Ci(!0),Iy(r,i,uC()));function gV(t,e,n,r,i,o){let s=e[Xn],a=!s||Dc()||Nc(n)||Sc(s,o);if(Ci(a),a)return Iy(r,i,uC());let u=ch(s,t,e,n);return jC(s,o)&&th(s,o,u.nextSibling),s&&(TC(n)||SC(u))&&bc(n)&&(DO(n),XC(u)),u}function yV(){LT=gV}function vV(t,e,n,r,i){let o=e.consts,s=Ss(o,r),a=xc(e,t,8,"ng-container",s);s!==null&&Od(a,s,!0);let u=Ss(o,i);return xy(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function hh(t,e,n){let r=Ee(),i=_t(),o=t+it,s=i.firstCreatePass?vV(o,i,r,e,n):i.data[o];Io(s,!0);let a=VT(i,r,s,t);return r[o]=a,Yd()&&rh(i,r,a,s),Ei(a,r),Gd(s)&&(Sy(i,r,s),Ty(i,s,r)),n!=null&&Ay(r,s),hh}function fh(){let t=Nt(),e=_t();return ay()?eC():(t=t.parent,Io(t,!1)),e.firstCreatePass&&(Zd(e,t),ry(t)&&e.queries.elementEnd(t)),fh}var VT=(t,e,n,r)=>(Ci(!0),WC(e[He],""));function _V(t,e,n,r){let i,o=e[Xn],s=!o||Dc()||Sc(o,r)||Nc(n);if(Ci(s),s)return WC(e[He],"");let a=ch(o,t,e,n),u=Rk(o,r);return th(o,r,a),i=uh(u,a),i}function wV(){VT=_V}function Pt(){return Ee()}var lo=void 0;function IV(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var EV=["en",[["a","p"],["AM","PM"],lo],[["AM","PM"],lo,lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lo,"{1} 'at' {0}",lo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",IV],sg={};function hn(t){let e=bV(t),n=aD(e);if(n)return n;let r=e.split("-")[0];if(n=aD(r),n)return n;if(r==="en")return EV;throw new K(701,!1)}function aD(t){return t in sg||(sg[t]=xr.ng&&xr.ng.common&&xr.ng.common.locales&&xr.ng.common.locales[t]),sg[t]}var Je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Je||{});function bV(t){return t.toLowerCase().replace(/_/g,"-")}var Vd="en-US";var DV=Vd;function CV(t){typeof t=="string"&&(DV=t.toLowerCase().replace(/_/g,"-"))}var TV=(t,e,n)=>{};function pe(t,e,n,r){let i=Ee(),o=_t(),s=Nt();return jT(o,i,i[He],s,t,e,r),pe}function SV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[md],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function jT(t,e,n,r,i,o,s){let a=Gd(r),l=t.firstCreatePass&&PF(t),h=e[In],p=NF(e),g=!0;if(r.type&3||s){let N=ln(r,e),M=s?s(N):N,V=p.length,z=s?Z=>s(Vn(Z[r.index])):r.index,$=null;if(!s&&a&&($=SV(t,e,i,r.index)),$!==null){let Z=$.__ngLastListenerFn__||$;Z.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,g=!1}else{o=uD(r,e,h,o),TV(N,i,o);let Z=n.listen(M,i,o);p.push(o,Z),l&&l.push(i,z,V,V+1)}}else o=uD(r,e,h,o);let y=r.outputs,C;if(g&&y!==null&&(C=y[i])){let N=C.length;if(N)for(let M=0;M<N;M+=2){let V=C[M],z=C[M+1],we=e[V][z].subscribe(o),X=p.length;p.push(o,we),l&&l.push(i,r.index,X,-(X+1))}}}function cD(t,e,n,r){let i=Ie(null);try{return Yn(6,e,n),n(r)!==!1}catch(o){return hT(t,o),!1}finally{Yn(7,e,n),Ie(i)}}function uD(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Di(t.index,e):e;Oy(s,5);let a=cD(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=cD(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Xe(t=1){return kO(t)}function Uy(t,e,n){return UT(t,"",e,"",n),Uy}function UT(t,e,n,r,i){let o=Ee(),s=FT(o,e,n,r);if(s!==bn){let a=_t(),u=Qd();My(a,u,o,t,s,o[He],i,!1)}return UT}function AV(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function BT(t){let e=SO();return oy(e,it+t)}function P(t,e=""){let n=Ee(),r=_t(),i=t+it,o=r.firstCreatePass?xc(r,i,1,e,null):r.data[i],s=$T(r,n,o,e,t);n[i]=s,Yd()&&rh(r,n,s,o),Io(o,!1)}var $T=(t,e,n,r,i)=>(Ci(!0),GC(e[He],r));function RV(t,e,n,r,i){let o=e[Xn],s=!o||Dc()||Nc(n)||Sc(o,i);return Ci(s),s?GC(e[He],r):ch(o,t,e,n)}function MV(){$T=RV}function et(t){return wt("",t,""),et}function wt(t,e,n){let r=Ee(),i=FT(r,t,e,n);return i!==bn&&fT(r,Eo(),i),wt}function By(t,e,n,r,i){let o=Ee(),s=ZL(o,t,e,n,r,i);return s!==bn&&fT(o,Eo(),s),By}function Ht(t,e,n){xT(e)&&(e=e());let r=Ee(),i=Tc();if(kr(r,i,e)){let o=_t(),s=Qd();My(o,s,r,t,e,r[He],n,!1)}return Ht}function Zt(t,e){let n=xT(t);return n&&t.set(e),n}function qt(t,e){let n=Ee(),r=_t(),i=Nt();return jT(r,n,n[He],i,t,e),qt}function xV(t,e,n){let r=_t();if(r.firstCreatePass){let i=Ii(t);qg(n,r.data,r.blueprint,i,!0),qg(e,r.data,r.blueprint,i,!1)}}function qg(t,e,n,r,i){if(t=jt(t),Array.isArray(t))for(let o=0;o<t.length;o++)qg(t[o],e,n,r,i);else{let o=_t(),s=Ee(),a=Nt(),u=bs(t)?t:jt(t.provide),l=jD(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(bs(t)||!t.multi){let y=new vo(l,i,F),C=cg(u,e,i?h:h+g,p);C===-1?(Ig(bd(a,s),o,u),ag(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[C]=y,s[C]=y)}else{let y=cg(u,e,h+g,p),C=cg(u,e,h,h+g),N=y>=0&&n[y],M=C>=0&&n[C];if(i&&!M||!i&&!N){Ig(bd(a,s),o,u);let V=OV(i?PV:NV,n.length,i,r,l);!i&&M&&(n[C].providerFactory=V),ag(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=HT(n[i?C:y],l,!i&&r);ag(o,t,y>-1?y:C,V)}!i&&r&&M&&n[C].componentProviders++}}}function ag(t,e,n,r){let i=bs(e),o=iO(e);if(i||o){let u=(o?jt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function HT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function NV(t,e,n,r){return zg(this.multi,[])}function PV(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=As(n,n[le],this.providerFactory.index,r);o=a.slice(0,s),zg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],zg(i,o);return o}function zg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function OV(t,e,n,r,i){let o=new vo(t,n,F);return o.multi=[],o.index=e,o.componentProviders=0,HT(o,i,r&&!n),o}function $n(t,e=[]){return n=>{n.providersResolver=(r,i)=>xV(r,i?i(t):t,e)}}var kV=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=FD(!1,n.type),i=r.length>0?Vy([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(Q(Yt))})}}return t})();function Ue(t){Si("NgStandalone"),t.getStandaloneInjector=e=>e.get(kV).getOrCreateStandaloneInjector(t)}function $y(t,e,n){let r=Cc()+t,i=Ee();return i[r]===bn?jy(i,r,n?e.call(n):e()):zL(i,r)}function qT(t,e,n,r){return GT(Ee(),Cc(),t,e,n,r)}function Hy(t,e,n,r,i){return WT(Ee(),Cc(),t,e,n,r,i)}function zT(t,e){let n=t[e];return n===bn?void 0:n}function GT(t,e,n,r,i,o){let s=e+n;return kr(t,s,i)?jy(t,s+1,o?r.call(o,i):r(i)):zT(t,s+1)}function WT(t,e,n,r,i,o,s){let a=e+n;return PT(t,a,i,o)?jy(t,a+2,s?r.call(s,i,o):r(i,o)):zT(t,a+2)}function or(t,e){let n=_t(),r,i=t+it;n.firstCreatePass?(r=FV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=fo(r.type,!0)),s,a=Kt(F);try{let u=Ed(!1),l=o();return Ed(u),AV(n,Ee(),i,l),l}finally{Kt(a)}}function FV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function KT(t,e,n){let r=t+it,i=Ee(),o=oy(i,r);return QT(i,r)?GT(i,Cc(),e,o.transform,n,o):o.transform(n)}function Ur(t,e,n,r){let i=t+it,o=Ee(),s=oy(o,i);return QT(o,i)?WT(o,Cc(),e,s.transform,n,r,s):s.transform(n,r)}function QT(t,e){return t[le].data[e].pure}function YT(t,e){return ET(t,e)}var Fr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ZT=new Fr("18.2.8");var ph=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var JT=new G("");function Ri(t){return!!t&&typeof t.then=="function"}function qy(t){return!!t&&typeof t.subscribe=="function"}var XT=new G(""),eS=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(XT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Ri(o))n.push(o);else if(qy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fs=new G("");function LV(){XE(()=>{throw new K(600,!1)})}function VV(t){return t.isBoundToModule}var jV=10;function UV(t,e,n){try{let r=n();return Ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var sr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(ak),this.afterRenderManager=k(YL),this.zonelessEnabled=k(ky),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new mt,this.afterTick=new mt,this.componentTypes=[],this.components=[],this.isStable=k(Ti).hasPendingTasks.pipe(re(n=>!n)),this._injector=k(Yt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Pd;if(!this._injector.get(eS).done){let g=!i&&ND(n),y=!1;throw new K(405,y)}let s;i?s=n:s=this._injector.get(Ms).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=VV(s)?void 0:this._injector.get(bi),u=r||s.selector,l=s.create(xt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(JT,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),ud(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new K(101,!1);let n=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ie(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(xs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<jV;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)BV(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Wd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ud(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Fs,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ud(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new K(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ud(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var id;function mh(t){id??=new WeakMap;let e=id.get(t);if(e)return e;let n=t.isStable.pipe(On(r=>r)).toPromise().then(()=>{});return id.set(t,n),t.onDestroy(()=>id?.delete(t)),n}function BV(t,e,n,r){if(!n&&!Wd(t))return;vT(t,e,n&&!r?0:1)}var Gg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},zy=(()=>{class t{compileModuleSync(n){return new Bg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=PD(n),o=zC(i.declarations).reduce((s,a)=>{let u=mo(a);return u&&s.push(new vc(u)),s},[]);return new Gg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $V=(()=>{class t{constructor(){this.zone=k(Me),this.changeDetectionScheduler=k(Rs),this.applicationRef=k(sr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function HV({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Me(me(U({},qV()),{scheduleInRootZone:n})),[{provide:Me,useFactory:t},{provide:po,multi:!0,useFactory:()=>{let r=k($V,{optional:!0});return()=>r.initialize()}},{provide:po,multi:!0,useFactory:()=>{let r=k(zV);return()=>{r.initialize()}}},e===!0?{provide:TT,useValue:!0}:[],{provide:ST,useValue:n??EC}]}function qV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zV=(()=>{class t{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=k(Me),this.pendingTasks=k(Ti)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var GV=(()=>{class t{constructor(){this.appRef=k(sr),this.taskService=k(Ti),this.ngZone=k(Me),this.zonelessEnabled=k(ky),this.disableScheduling=k(TT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ke,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Cd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(ST,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?qb:DC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Cd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function WV(){return typeof $localize<"u"&&$localize.locale||Vd}var Pc=new G("",{providedIn:"root",factory:()=>k(Pc,he.Optional|he.SkipSelf)||WV()});var Wg=new G("");function od(t){return!t.moduleRef}function KV(t){let e=od(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Me);return n.run(()=>{od(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Pr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),od(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Wg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Wg);s.add(o),t.moduleRef.onDestroy(()=>{ud(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return UV(r,n,()=>{let o=e.get(eS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Pc,Vd);if(CV(s||Vd),od(t)){let a=e.get(sr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return QV(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function QV(t,e){let n=t.injector.get(sr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new K(-403,!1);e.push(t)}var ld=null;function YV(t=[],e){return xt.create({name:e,providers:[{provide:qd,useValue:"platform"},{provide:Wg,useValue:new Set([()=>ld=null])},...t]})}function ZV(t=[]){if(ld)return ld;let e=YV(t);return ld=e,LV(),JV(e),e}function JV(t){t.get(py,null)?.forEach(n=>n())}var Mi=(()=>{class t{static{this.__NG_ELEMENT_ID__=XV}}return t})();function XV(t){return e2(Nt(),Ee(),(t&16)===16)}function e2(t,e,n){if(bc(t)&&!n){let r=Di(t.index,e);return new _o(r,r)}else if(t.type&175){let r=e[En];return new _o(r,e)}return null}var Kg=class{constructor(){}supports(e){return NT(e)}create(e){return new Qg(e)}},t2=(t,e)=>e,Qg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||t2}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<lD(r,i,o)?n:r,a=lD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,C=y+g;h<=C&&C<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!NT(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,HL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Yg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new jd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Zg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},jd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Zg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function lD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function dD(){return new Gy([new Kg])}var Gy=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:dD})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||dD()),deps:[[t,new bD,new Bt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new K(901,!1)}}return t})();function tS(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ZV(r),o=[HV({}),{provide:Rs,useExisting:GV},...n||[]],s=new Fd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return KV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var hD=!1;function n2(){hD||(hD=!0,Ck(),yV(),MV(),wV(),QL(),OL(),pL(),fF())}function r2(t,e){return mh(t)}function nS(){return un([{provide:Jl,useFactory:()=>{let t=!0;return td()&&(t=!!k(Os,{optional:!0})?.get(LC,null)),t&&Si("NgHydration"),t}},{provide:po,useValue:()=>{aL(!1),td()&&k(Jl)&&(i2(),n2())},multi:!0},{provide:BC,useFactory:()=>td()&&k(Jl)},{provide:Fs,useFactory:()=>{if(td()&&k(Jl)){let t=k(sr),e=k(xt);return()=>{r2(t,e).then(()=>{dL(t)})}}return()=>{}},multi:!0}])}function i2(){let t=Xd(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===bk){e=n;break}if(!e)throw new K(-507,!1)}function xi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ls(t,e){Si("NgSignals");let n=YE(t);return e?.equal&&(n[Ar].equal=e.equal),n}function Dn(t){let e=Ie(null);try{return t()}finally{Ie(e)}}var lS=null;function qr(){return lS}function dS(t){lS??=t}var Dh=class{};var Jt=new G(""),hS=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(o2),providedIn:"platform"})}}return t})();var o2=(()=>{class t extends hS{constructor(){super(),this._doc=k(Jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qr().getBaseHref(this._doc)}onPopState(n){let r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function fS(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function rS(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function bo(t){return t&&t[0]!=="?"?"?"+t:t}var js=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(pS),providedIn:"root"})}}return t})(),s2=new G(""),pS=(()=>{class t extends js{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return fS(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+bo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+bo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+bo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Q(hS),Q(s2,8))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var kc=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=u2(rS(iS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+bo(r))}normalize(n){return t.stripTrailingSlash(c2(this._basePath,iS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+bo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+bo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=bo}static{this.joinWithSlash=fS}static{this.stripTrailingSlash=rS}static{this.\u0275fac=function(r){return new(r||t)(Q(js))}}static{this.\u0275prov=q({token:t,factory:()=>a2(),providedIn:"root"})}}return t})();function a2(){return new kc(Q(js))}function c2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function iS(t){return t.replace(/\/index.html$/,"")}function u2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var mS=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(mS||{});var zt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(zt||{}),Fe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Fe||{}),fn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(fn||{}),pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function l2(t){return hn(t)[Je.LocaleId]}function d2(t,e,n){let r=hn(t),i=[r[Je.DayPeriodsFormat],r[Je.DayPeriodsStandalone]],o=Cn(i,e);return Cn(o,n)}function h2(t,e,n){let r=hn(t),i=[r[Je.DaysFormat],r[Je.DaysStandalone]],o=Cn(i,e);return Cn(o,n)}function f2(t,e,n){let r=hn(t),i=[r[Je.MonthsFormat],r[Je.MonthsStandalone]],o=Cn(i,e);return Cn(o,n)}function p2(t,e){let r=hn(t)[Je.Eras];return Cn(r,e)}function gh(t,e){let n=hn(t);return Cn(n[Je.DateFormat],e)}function yh(t,e){let n=hn(t);return Cn(n[Je.TimeFormat],e)}function vh(t,e){let r=hn(t)[Je.DateTimeFormat];return Cn(r,e)}function $r(t,e){let n=hn(t),r=n[Je.NumberSymbols][e];if(typeof r>"u"){if(e===pn.CurrencyDecimal)return n[Je.NumberSymbols][pn.Decimal];if(e===pn.CurrencyGroup)return n[Je.NumberSymbols][pn.Group]}return r}function m2(t,e){return hn(t)[Je.NumberFormats][e]}function gS(t){if(!t[Je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function g2(t){let e=hn(t);return gS(e),(e[Je.ExtraData][2]||[]).map(r=>typeof r=="string"?Wy(r):[Wy(r[0]),Wy(r[1])])}function y2(t,e,n){let r=hn(t);gS(r);let i=[r[Je.ExtraData][0],r[Je.ExtraData][1]],o=Cn(i,e)||[];return Cn(o,n)||[]}function Cn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Wy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var v2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_h={},_2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Hr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Hr||{}),Se=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Se||{}),Te=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Te||{});function w2(t,e,n,r){let i=R2(t);e=Br(n,e)||e;let s=[],a;for(;e;)if(a=_2.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=vS(r,u),i=A2(i,r,!0));let l="";return s.forEach(h=>{let p=T2(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ch(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Br(t,e){let n=l2(t);if(_h[n]??={},_h[n][e])return _h[n][e];let r="";switch(e){case"shortDate":r=gh(t,fn.Short);break;case"mediumDate":r=gh(t,fn.Medium);break;case"longDate":r=gh(t,fn.Long);break;case"fullDate":r=gh(t,fn.Full);break;case"shortTime":r=yh(t,fn.Short);break;case"mediumTime":r=yh(t,fn.Medium);break;case"longTime":r=yh(t,fn.Long);break;case"fullTime":r=yh(t,fn.Full);break;case"short":let i=Br(t,"shortTime"),o=Br(t,"shortDate");r=wh(vh(t,fn.Short),[i,o]);break;case"medium":let s=Br(t,"mediumTime"),a=Br(t,"mediumDate");r=wh(vh(t,fn.Medium),[s,a]);break;case"long":let u=Br(t,"longTime"),l=Br(t,"longDate");r=wh(vh(t,fn.Long),[u,l]);break;case"full":let h=Br(t,"fullTime"),p=Br(t,"fullDate");r=wh(vh(t,fn.Full),[h,p]);break}return r&&(_h[n][e]=r),r}function wh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Hn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function I2(t,e){return Hn(t,3).substring(0,e)}function st(t,e,n=0,r=!1,i=!1){return function(o,s){let a=E2(t,o);if((n>0||a>-n)&&(a+=n),t===Se.Hours)a===0&&n===-12&&(a=12);else if(t===Se.FractionalSeconds)return I2(a,e);let u=$r(s,pn.MinusSign);return Hn(a,e,u,r,i)}}function E2(t,e){switch(t){case Se.FullYear:return e.getFullYear();case Se.Month:return e.getMonth();case Se.Date:return e.getDate();case Se.Hours:return e.getHours();case Se.Minutes:return e.getMinutes();case Se.Seconds:return e.getSeconds();case Se.FractionalSeconds:return e.getMilliseconds();case Se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Be(t,e,n=zt.Format,r=!1){return function(i,o){return b2(i,o,t,e,n,r)}}function b2(t,e,n,r,i,o){switch(n){case Te.Months:return f2(e,i,r)[t.getMonth()];case Te.Days:return h2(e,i,r)[t.getDay()];case Te.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=g2(e),h=y2(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,C]=g,N=s>=y.hours&&a>=y.minutes,M=s<C.hours||s===C.hours&&a<C.minutes;if(y.hours<C.hours){if(N&&M)return!0}else if(N||M)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return d2(e,i,r)[s<12?0:1];case Te.Eras:return p2(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Ih(t){return function(e,n,r){let i=-1*r,o=$r(n,pn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Hr.Short:return(i>=0?"+":"")+Hn(s,2,o)+Hn(Math.abs(i%60),2,o);case Hr.ShortGMT:return"GMT"+(i>=0?"+":"")+Hn(s,1,o);case Hr.Long:return"GMT"+(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);case Hr.Extended:return r===0?"Z":(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var D2=0,bh=4;function C2(t){let e=Ch(t,D2,1).getDay();return Ch(t,0,1+(e<=bh?bh:bh+7)-e)}function yS(t){let e=t.getDay(),n=e===0?-3:bh-e;return Ch(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Ky(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=yS(n),s=C2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Hn(i,t,$r(r,pn.MinusSign))}}function Eh(t,e=!1){return function(n,r){let o=yS(n).getFullYear();return Hn(o,t,$r(r,pn.MinusSign),e)}}var Qy={};function T2(t){if(Qy[t])return Qy[t];let e;switch(t){case"G":case"GG":case"GGG":e=Be(Te.Eras,Fe.Abbreviated);break;case"GGGG":e=Be(Te.Eras,Fe.Wide);break;case"GGGGG":e=Be(Te.Eras,Fe.Narrow);break;case"y":e=st(Se.FullYear,1,0,!1,!0);break;case"yy":e=st(Se.FullYear,2,0,!0,!0);break;case"yyy":e=st(Se.FullYear,3,0,!1,!0);break;case"yyyy":e=st(Se.FullYear,4,0,!1,!0);break;case"Y":e=Eh(1);break;case"YY":e=Eh(2,!0);break;case"YYY":e=Eh(3);break;case"YYYY":e=Eh(4);break;case"M":case"L":e=st(Se.Month,1,1);break;case"MM":case"LL":e=st(Se.Month,2,1);break;case"MMM":e=Be(Te.Months,Fe.Abbreviated);break;case"MMMM":e=Be(Te.Months,Fe.Wide);break;case"MMMMM":e=Be(Te.Months,Fe.Narrow);break;case"LLL":e=Be(Te.Months,Fe.Abbreviated,zt.Standalone);break;case"LLLL":e=Be(Te.Months,Fe.Wide,zt.Standalone);break;case"LLLLL":e=Be(Te.Months,Fe.Narrow,zt.Standalone);break;case"w":e=Ky(1);break;case"ww":e=Ky(2);break;case"W":e=Ky(1,!0);break;case"d":e=st(Se.Date,1);break;case"dd":e=st(Se.Date,2);break;case"c":case"cc":e=st(Se.Day,1);break;case"ccc":e=Be(Te.Days,Fe.Abbreviated,zt.Standalone);break;case"cccc":e=Be(Te.Days,Fe.Wide,zt.Standalone);break;case"ccccc":e=Be(Te.Days,Fe.Narrow,zt.Standalone);break;case"cccccc":e=Be(Te.Days,Fe.Short,zt.Standalone);break;case"E":case"EE":case"EEE":e=Be(Te.Days,Fe.Abbreviated);break;case"EEEE":e=Be(Te.Days,Fe.Wide);break;case"EEEEE":e=Be(Te.Days,Fe.Narrow);break;case"EEEEEE":e=Be(Te.Days,Fe.Short);break;case"a":case"aa":case"aaa":e=Be(Te.DayPeriods,Fe.Abbreviated);break;case"aaaa":e=Be(Te.DayPeriods,Fe.Wide);break;case"aaaaa":e=Be(Te.DayPeriods,Fe.Narrow);break;case"b":case"bb":case"bbb":e=Be(Te.DayPeriods,Fe.Abbreviated,zt.Standalone,!0);break;case"bbbb":e=Be(Te.DayPeriods,Fe.Wide,zt.Standalone,!0);break;case"bbbbb":e=Be(Te.DayPeriods,Fe.Narrow,zt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(Te.DayPeriods,Fe.Abbreviated,zt.Format,!0);break;case"BBBB":e=Be(Te.DayPeriods,Fe.Wide,zt.Format,!0);break;case"BBBBB":e=Be(Te.DayPeriods,Fe.Narrow,zt.Format,!0);break;case"h":e=st(Se.Hours,1,-12);break;case"hh":e=st(Se.Hours,2,-12);break;case"H":e=st(Se.Hours,1);break;case"HH":e=st(Se.Hours,2);break;case"m":e=st(Se.Minutes,1);break;case"mm":e=st(Se.Minutes,2);break;case"s":e=st(Se.Seconds,1);break;case"ss":e=st(Se.Seconds,2);break;case"S":e=st(Se.FractionalSeconds,1);break;case"SS":e=st(Se.FractionalSeconds,2);break;case"SSS":e=st(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ih(Hr.Short);break;case"ZZZZZ":e=Ih(Hr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ih(Hr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ih(Hr.Long);break;default:return null}return Qy[t]=e,e}function vS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function S2(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function A2(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=vS(e,i);return S2(t,r*(o-i))}function R2(t){if(oS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Ch(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(v2))return M2(r)}let e=new Date(t);if(!oS(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function M2(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function oS(t){return t instanceof Date&&!isNaN(t.valueOf())}var x2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,sS=22,Th=".",Oc="0",N2=";",P2=",",Yy="#";function O2(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=$r(n,pn.Infinity);else{let l=V2(t);s&&(l=L2(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let z=o.match(x2);if(z===null)throw new Error(`${o} is not a valid digit info`);let $=z[1],Z=z[3],we=z[5];$!=null&&(h=Zy($)),Z!=null&&(p=Zy(Z)),we!=null?g=Zy(we):Z!=null&&p>g&&(g=p)}j2(l,p,g);let y=l.digits,C=l.integerLen,N=l.exponent,M=[];for(u=y.every(z=>!z);C<h;C++)y.unshift(0);for(;C<0;C++)y.unshift(0);C>0?M=y.splice(C,y.length):(M=y,y=[0]);let V=[];for(y.length>=e.lgSize&&V.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)V.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&V.unshift(y.join("")),a=V.join($r(n,r)),M.length&&(a+=$r(n,i)+M.join("")),N&&(a+=$r(n,pn.Exponential)+"+"+N)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function k2(t,e,n){let r=m2(e,mS.Decimal),i=F2(r,$r(e,pn.MinusSign));return O2(t,i,e,pn.Group,pn.Decimal,n)}function F2(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(N2),i=r[0],o=r[1],s=i.indexOf(Th)!==-1?i.split(Th):[i.substring(0,i.lastIndexOf(Oc)+1),i.substring(i.lastIndexOf(Oc)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Yy));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Oc?n.minFrac=n.maxFrac=h+1:p===Yy?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(P2);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Yy);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function L2(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function V2(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Th))>-1&&(e=e.replace(Th,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Oc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Oc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>sS&&(r=r.splice(0,sS-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function j2(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,y,C){return g=g+p,C[y]=g<10?g:g-10,u&&(C[y]===0&&y>=l?C.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Zy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Sh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Jy=/\s+/,aS=[],_S=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=aS,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Jy):aS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Jy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Jy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(F(Bn),F(ir))}}static{this.\u0275dir=Ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Xy=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ar=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xy(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),cS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);cS(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(F(ks),F(ah),F(Gy))}}static{this.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function cS(t,e){t.context.$implicit=e.item}var cr=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new ev,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){uS("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){uS("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(F(ks),F(ah))}}static{this.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),ev=class{constructor(){this.$implicit=null,this.ngIf=null}};function uS(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ut(e)}'.`)}function rv(t,e){return new K(2100,!1)}var tv=class{createSubscription(e,n){return Dn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Dn(()=>e.unsubscribe())}},nv=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},U2=new nv,B2=new tv,wS=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Ri(n))return U2;if(qy(n))return B2;throw rv(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(F(Mi,16))}}static{this.\u0275pipe=Hd({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var $2="mediumDate",H2=new G(""),q2=new G(""),Us=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??$2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return w2(n,s,o||this.locale,a)}catch(s){throw rv(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(F(Pc,16),F(H2,24),F(q2,24))}}static{this.\u0275pipe=Hd({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Ah=(()=>{class t{constructor(n){this._locale=n}transform(n,r,i){if(!z2(n))return null;i||=this._locale;try{let o=G2(n);return k2(o,i,r)}catch(o){throw rv(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(F(Pc,16))}}static{this.\u0275pipe=Hd({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function z2(t){return!(t==null||t===""||t!==t)}function G2(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var It=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=Lr({})}}return t})(),IS="browser",W2="server";function Fc(t){return t===W2}var Vs=class{};var Vc=class{},xh=class{},lr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ov=class{encodeKey(e){return ES(e)}encodeValue(e){return ES(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function K2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var Q2=/%(\d[a-f0-9])/gi,Y2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ES(t){return encodeURIComponent(t).replace(Q2,(e,n)=>Y2[n]??e)}function Rh(t){return`${t}`}var Pi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ov,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=K2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Rh):[Rh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Rh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Rh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var sv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Z2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function bS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function DS(t){return typeof Blob<"u"&&t instanceof Blob}function CS(t){return typeof FormData<"u"&&t instanceof FormData}function J2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Lc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Z2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new lr,this.context??=new sv,!this.params)this.params=new Pi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||bS(this.body)||DS(this.body)||CS(this.body)||J2(this.body)?this.body:this.body instanceof Pi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||CS(this.body)?null:DS(this.body)?this.body.type||null:bS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Pi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Oi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Oi||{}),jc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new lr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Nh=class t extends jc{constructor(e={}){super(e),this.type=Oi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Do=class t extends jc{constructor(e={}){super(e),this.type=Oi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ni=class extends jc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},FS=200,X2=204;function iv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var uv=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Lc)o=n;else{let u;i.headers instanceof lr?u=i.headers:u=new lr(i.headers);let l;i.params&&(i.params instanceof Pi?l=i.params:l=new Pi({fromObject:i.params})),o=new Lc(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ee(o).pipe(gi(u=>this.handler.handle(u)));if(n instanceof Lc||i.observe==="events")return s;let a=s.pipe(Wt(u=>u instanceof Do));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(re(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(re(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(re(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Pi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,iv(i,r))}post(n,r,i={}){return this.request("POST",n,iv(i,r))}put(n,r,i={}){return this.request("PUT",n,iv(i,r))}static{this.\u0275fac=function(r){return new(r||t)(Q(Vc))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),ej=/^\)\]\}',?\n/,tj="X-Request-URL";function TS(t){if(t.url)return t.url;let e=tj.toLocaleLowerCase();return t.headers.get(e)}var nj=(()=>{class t{constructor(){this.fetchImpl=k(av,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=k(Me)}handle(n){return new ue(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(cv,o=>r.error(new Ni({error:o}))),()=>i.abort()})}doRequest(n,r,i){return _(this,null,function*(){let o=this.createRequestInit(n),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,U({signal:r},o)));rj(y),i.next({type:Oi.Sent}),s=yield y}catch(y){i.error(new Ni({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new lr(s.headers),u=s.statusText,l=TS(s)??n.urlWithParams,h=s.status,p=null;if(n.reportProgress&&i.next(new Nh({headers:a,status:h,statusText:u,url:l})),s.body){let y=s.headers.get("content-length"),C=[],N=s.body.getReader(),M=0,V,z,$=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:we,value:X}=yield N.read();if(we)break;if(C.push(X),M+=X.length,n.reportProgress){z=n.responseType==="text"?(z??"")+(V??=new TextDecoder).decode(X,{stream:!0}):void 0;let b=()=>i.next({type:Oi.DownloadProgress,total:y?+y:void 0,loaded:M,partialText:z});$?$.run(b):b()}}}));let Z=this.concatChunks(C,M);try{let we=s.headers.get("Content-Type")??"";p=this.parseBody(n,Z,we)}catch(we){i.error(new Ni({error:we,headers:new lr(s.headers),status:s.status,statusText:s.statusText,url:TS(s)??n.urlWithParams}));return}}h===0&&(h=p?FS:0),h>=200&&h<300?(i.next(new Do({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Ni({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(ej,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),av=class{};function cv(){}function rj(t){t.then(cv,cv)}function ij(t,e){return e(t)}function oj(t,e,n){return(r,i)=>jn(n,()=>e(r,o=>t(o,i)))}var LS=new G(""),VS=new G(""),sj=new G("",{providedIn:"root",factory:()=>!0});var SS=(()=>{class t extends Vc{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=k(Ti),this.contributeToStability=k(sj)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(LS),...this.injector.get(VS,[])]));this.chain=r.reduceRight((i,o)=>oj(i,o,this.injector),ij)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(uo(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(Q(xh),Q(Yt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();var aj=/^\)\]\}',?\n/;function cj(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var AS=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ne(r.\u0275loadImpl()):ee(null)).pipe(on(()=>new ue(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((N,M)=>s.setRequestHeader(N,M.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&s.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",M=new lr(s.getAllResponseHeaders()),V=cj(s)||n.url;return u=new Nh({headers:M,status:s.status,statusText:N,url:V}),u},h=()=>{let{headers:N,status:M,statusText:V,url:z}=l(),$=null;M!==X2&&($=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=$?FS:0);let Z=M>=200&&M<300;if(n.responseType==="json"&&typeof $=="string"){let we=$;$=$.replace(aj,"");try{$=$!==""?JSON.parse($):null}catch(X){$=we,Z&&(Z=!1,$={error:X,text:$})}}Z?(o.next(new Do({body:$,headers:N,status:M,statusText:V,url:z||void 0})),o.complete()):o.error(new Ni({error:$,headers:N,status:M,statusText:V,url:z||void 0}))},p=N=>{let{url:M}=l(),V=new Ni({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(V)},g=!1,y=N=>{g||(o.next(l()),g=!0);let M={type:Oi.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(M.total=N.total),n.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},C=N=>{let M={type:Oi.UploadProgress,loaded:N.loaded};N.lengthComputable&&(M.total=N.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:Oi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(Q(Vs))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),jS=new G(""),uj="XSRF-TOKEN",lj=new G("",{providedIn:"root",factory:()=>uj}),dj="X-XSRF-TOKEN",hj=new G("",{providedIn:"root",factory:()=>dj}),Ph=class{},fj=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sh(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(Q(Jt),Q(dn),Q(lj))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function pj(t,e){let n=t.url.toLowerCase();if(!k(jS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k(Ph).getToken(),i=k(hj);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function US(...t){let e=[uv,AS,SS,{provide:Vc,useExisting:SS},{provide:xh,useFactory:()=>k(nj,{optional:!0})??k(AS)},{provide:LS,useValue:pj,multi:!0},{provide:jS,useValue:!0},{provide:Ph,useClass:fj}];for(let n of t)e.push(...n.\u0275providers);return un(e)}var mj=new G(""),RS="b",MS="h",xS="s",NS="st",PS="u",OS="rt",Mh=new G(""),gj=["GET","HEAD"];function yj(t,e){let y=k(Mh),{isCacheActive:n}=y,r=BE(y,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!gj.includes(o)||!r.includeRequestsWithAuthHeaders&&vj(t)||r.filter?.(t)===!1)return e(t);let s=k(Os),a=k(mj,{optional:!0}),u=Fc(k(dn));if(a&&!u)throw new K(2803,!1);let l=u&&a?Ej(t.url,a):t.url,h=wj(t,l),p=s.get(h,null),g=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(g=i.includeHeaders),p){let{[RS]:C,[OS]:N,[MS]:M,[xS]:V,[NS]:z,[PS]:$}=p,Z=C;switch(N){case"arraybuffer":Z=new TextEncoder().encode(C).buffer;break;case"blob":Z=new Blob([C]);break}let we=new lr(M);return ee(new Do({body:Z,headers:we,status:V,statusText:z,url:$}))}return e(t).pipe(rt(C=>{C instanceof Do&&u&&s.set(h,{[RS]:C.body,[MS]:_j(C.headers,g),[xS]:C.status,[NS]:C.statusText,[PS]:l,[OS]:t.responseType})}))}function vj(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function _j(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function kS(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function wj(t,e){let{params:n,method:r,responseType:i}=t,o=kS(n),s=t.serializeBody();s instanceof URLSearchParams?s=kS(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=Ij(a);return u}function Ij(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function BS(t){return[{provide:Mh,useFactory:()=>(Si("NgHttpTransferCache"),U({isCacheActive:!0},t))},{provide:VS,useValue:yj,multi:!0,deps:[Os,Mh]},{provide:Fs,multi:!0,useFactory:()=>{let e=k(sr),n=k(Mh);return()=>{mh(e).then(()=>{n.isCacheActive=!1})}}}]}function Ej(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var hv=class extends Dh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},fv=class t extends hv{static makeCurrent(){dS(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Dj();return n==null?null:Cj(n)}resetBaseElement(){Uc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Sh(document.cookie,e)}},Uc=null;function Dj(){return Uc=Uc||document.querySelector("base"),Uc?Uc.getAttribute("href"):null}function Cj(t){return new URL(t,document.baseURI).pathname}var Tj=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),pv=new G(""),zS=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Q(pv),Q(Me))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Oh=class{constructor(e){this._doc=e}},lv="ng-app-id",GS=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fc(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${lv}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(lv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(lv,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Q(Jt),Q(eh),Q(my,8),Q(dn))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yv=/%COMP%/g,WS="%COMP%",Sj=`_nghost-${WS}`,Aj=`_ngcontent-${WS}`,Rj=!0,Mj=new G("",{providedIn:"root",factory:()=>Rj});function xj(t){return Aj.replace(yv,t)}function Nj(t){return Sj.replace(yv,t)}function KS(t,e){return e.map(n=>n.replace(yv,t))}var $S=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Fc(a),this.defaultRenderer=new Bc(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jn.ShadowDom&&(r=me(U({},r),{encapsulation:Jn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof kh?i.applyToHost(n):i instanceof $c&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Jn.Emulated:o=new kh(u,l,r,this.appId,h,s,a,p);break;case Jn.ShadowDom:return new mv(u,l,n,r,s,a,this.nonce,p);default:o=new $c(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Q(zS),Q(GS),Q(eh),Q(Mj),Q(Jt),Q(dn),Q(Me),Q(my))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Bc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(dv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(HS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(HS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=dv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=dv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Or.DashCase|Or.Important)?e.style.setProperty(n,r,i&Or.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Or.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=qr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function HS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var mv=class extends Bc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=KS(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$c=class extends Bc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?KS(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},kh=class extends $c{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=xj(l),this.hostAttr=Nj(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Pj=(()=>{class t extends Oh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Q(Jt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),qS=["alt","control","meta","shift"],Oj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Fj=(()=>{class t extends Oh{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=Oj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),qS.forEach(s=>{if(s!==i){let a=kj[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Q(Jt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function QS(t,e){return tS(U({rootComponent:t},Lj(e)))}function Lj(t){return{appProviders:[...$j,...t?.providers??[]],platformProviders:Bj}}function Vj(){fv.makeCurrent()}function jj(){return new Pr}function Uj(){return NC(document),document}var Bj=[{provide:dn,useValue:IS},{provide:py,useValue:Vj,multi:!0},{provide:Jt,useFactory:Uj,deps:[]}];var $j=[{provide:qd,useValue:"root"},{provide:Pr,useFactory:jj,deps:[]},{provide:pv,useClass:Pj,multi:!0,deps:[Jt,Me,dn]},{provide:pv,useClass:Fj,multi:!0,deps:[Jt]},$S,GS,zS,{provide:xs,useExisting:$S},{provide:Vs,useClass:Tj,deps:[]},[]];var YS=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Q(Jt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var gv=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(gv||{});function ZS(...t){let e=[],n=new Set,r=n.has(gv.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return un([[],nS(),n.has(gv.NoHttpTransferCache)||r?[]:BS({}),e])}var de="primary",iu=Symbol("RouteTitle"),Ev=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Gs(t){return new Ev(t)}function qj(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dr(t[n],e[n]))return!1;return!0}function dr(t,e){let n=t?bv(t):void 0,r=e?bv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!oA(t[i],e[i]))return!1;return!0}function bv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function oA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function sA(t){return t.length>0?t[t.length-1]:null}function Fi(t){return Bm(t)?t:Ri(t)?Ne(Promise.resolve(t)):ee(t)}var Gj={exact:cA,subset:uA},aA={exact:Wj,subset:Kj,ignored:()=>!0};function JS(t,e,n){return Gj[n.paths](t.root,e.root,n.matrixParams)&&aA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Wj(t,e){return dr(t,e)}function cA(t,e,n){if(!To(t.segments,e.segments)||!Vh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cA(t.children[r],e.children[r],n))return!1;return!0}function Kj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oA(t[n],e[n]))}function uA(t,e,n){return lA(t,e,e.segments,n)}function lA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!To(i,n)||e.hasChildren()||!Vh(i,n,r))}else if(t.segments.length===n.length){if(!To(t.segments,n)||!Vh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!uA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!To(t.segments,i)||!Vh(t.segments,i,r)||!t.children[de]?!1:lA(t.children[de],e,o,r)}}function Vh(t,e,n){return e.every((r,i)=>aA[n](t[i].parameters,r.parameters))}var Gr=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gs(this.queryParams),this._queryParamMap}toString(){return Zj.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jh(this)}},Co=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Gs(this.parameters),this._parameterMap}toString(){return hA(this)}};function Qj(t,e){return To(t,e)&&t.every((n,r)=>dr(n.parameters,e[r].parameters))}function To(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Yj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===de&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==de&&(n=n.concat(e(i,r)))}),n}var Qv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new Qc,providedIn:"root"})}}return t})(),Qc=class{parse(e){let n=new Cv(e);return new Gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Hc(e.root,!0)}`,r=eU(e.queryParams),i=typeof e.fragment=="string"?`#${Jj(e.fragment)}`:"";return`${n}${r}${i}`}},Zj=new Qc;function jh(t){return t.segments.map(e=>hA(e)).join("/")}function Hc(t,e){if(!t.hasChildren())return jh(t);if(e){let n=t.children[de]?Hc(t.children[de],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${Hc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Yj(t,(r,i)=>i===de?[Hc(t.children[de],!1)]:[`${i}:${Hc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[de]!=null?`${jh(t)}/${n[0]}`:`${jh(t)}/(${n.join("//")})`}}function dA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fh(t){return dA(t).replace(/%3B/gi,";")}function Jj(t){return encodeURI(t)}function Dv(t){return dA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uh(t){return decodeURIComponent(t)}function XS(t){return Uh(t.replace(/\+/g,"%20"))}function hA(t){return`${Dv(t.path)}${Xj(t.parameters)}`}function Xj(t){return Object.entries(t).map(([e,n])=>`;${Dv(e)}=${Dv(n)}`).join("")}function eU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Fh(n)}=${Fh(i)}`).join("&"):`${Fh(n)}=${Fh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var tU=/^[^\/()?;#]+/;function vv(t){let e=t.match(tU);return e?e[0]:""}var nU=/^[^\/()?;=#]+/;function rU(t){let e=t.match(nU);return e?e[0]:""}var iU=/^[^=?&#]+/;function oU(t){let e=t.match(iU);return e?e[0]:""}var sU=/^[^&#]+/;function aU(t){let e=t.match(sU);return e?e[0]:""}var Cv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[de]=new Re(e,n)),r}parseSegment(){let e=vv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new Co(Uh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=rU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=vv(this.remaining);i&&(r=i,this.capture(r))}e[Uh(n)]=Uh(r)}parseQueryParam(e){let n=oU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=aU(this.remaining);s&&(r=s,this.capture(r))}let i=XS(n),o=XS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=de);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[de]:new Re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function fA(t){return t.segments.length>0?new Re([],{[de]:t}):t}function pA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=pA(i);if(r===de&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Re(t.segments,e);return cU(n)}function cU(t){if(t.numberOfChildren===1&&t.children[de]){let e=t.children[de];return new Re(t.segments.concat(e.segments),e.children)}return t}function So(t){return t instanceof Gr}function uU(t,e,n=null,r=null){let i=mA(t);return gA(i,e,n,r)}function mA(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Re(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=fA(r);return e??i}function gA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return _v(i,i,i,n,r);let o=lU(e);if(o.toRoot())return _v(i,i,new Re([],{}),n,r);let s=dU(o,i,t),a=s.processChildren?Gc(s.segmentGroup,s.index,o.commands):vA(s.segmentGroup,s.index,o.commands);return _v(i,s.segmentGroup,a,n,r)}function Bh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Yc(t){return typeof t=="object"&&t!=null&&t.outlets}function _v(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=yA(t,e,n);let a=fA(pA(s));return new Gr(a,o,i)}function yA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=yA(o,e,n)}),new Re(t.segments,r)}var $h=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bh(r[0]))throw new K(4003,!1);let i=r.find(Yc);if(i&&i!==sA(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $h(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $h(n,e,r)}var Hs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function dU(t,e,n){if(t.isAbsolute)return new Hs(e,!0,0);if(!n)return new Hs(e,!1,NaN);if(n.parent===null)return new Hs(n,!0,0);let r=Bh(t.commands[0])?0:1,i=n.segments.length-1+r;return hU(n,i,t.numberOfDoubleDots)}function hU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Hs(r,!1,i-o)}function fU(t){return Yc(t[0])?t[0].outlets:{[de]:t}}function vA(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return Gc(t,e,n);let r=pU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Re(t.segments.slice(0,r.pathIndex),{});return o.children[de]=new Re(t.segments.slice(r.pathIndex),t.children),Gc(o,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?Tv(t,e,n):r.match?Gc(t,0,i):Tv(t,e,n)}function Gc(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=fU(n),i={};if(Object.keys(r).some(o=>o!==de)&&t.children[de]&&t.numberOfChildren===1&&t.children[de].segments.length===0){let o=Gc(t.children[de],e,n);return new Re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=vA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(t.segments,i)}}function pU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Yc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!tA(u,l,s))return o;r+=2}else{if(!tA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Tv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Yc(o)){let u=mU(o.outlets);return new Re(r,u)}if(i===0&&Bh(n[0])){let u=t.segments[e];r.push(new Co(u.path,eA(n[0]))),i++;continue}let s=Yc(o)?o.outlets[de]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bh(a)?(r.push(new Co(s,eA(a))),i+=2):(r.push(new Co(s,{})),i++)}return new Re(r,{})}function mU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Tv(new Re([],{}),0,r))}),e}function eA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tA(t,e,n){return t==n.path&&dr(e,n.parameters)}var Wc="imperative",Et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Et||{}),Tn=class{constructor(e,n){this.id=e,this.url=n}},Zc=class extends Tn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ki=class extends Tn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(gn||{}),Sv=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Sv||{}),zr=class extends Tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ao=class extends Tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Et.NavigationSkipped}},Jc=class extends Tn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hh=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Av=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rv=class extends Tn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mv=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xv=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nv=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pv=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ov=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kv=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fv=class{constructor(e){this.snapshot=e,this.type=Et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lv=class{constructor(e){this.snapshot=e,this.type=Et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xc=class{},Ws=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function gU(t,e){return t.providers&&!t._injector&&(t._injector=Vy(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qn(t){return t.outlet||de}function yU(t,e){let n=t.filter(r=>qn(r)===e);return n.push(...t.filter(r=>qn(r)!==e)),n}function ou(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Vv=class{get injector(){return ou(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Yh(this.rootInjector),this.attachRef=null}},Yh=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Vv(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Q(Yt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=jv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=jv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Uv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uv(e,this._root).map(n=>n.value)}};function jv(t,e){if(t===e.value)return e;for(let n of e.children){let r=jv(t,n);if(r)return r}return null}function Uv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Uv(t,n);if(r.length)return r.unshift(e),r}return[]}var mn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function $s(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var zh=class extends qh{constructor(e,n){super(e),this.snapshot=n,Yv(this,e)}toString(){return this.snapshot.toString()}};function _A(t){let e=vU(t),n=new Oe([new Co("",{})]),r=new Oe({}),i=new Oe({}),o=new Oe({}),s=new Oe(""),a=new zn(n,r,o,s,i,de,t,e.root);return a.snapshot=e.root,new zh(new mn(a,[]),e)}function vU(t){let e={},n={},r={},i="",o=new qs([],e,r,i,n,de,t,null,{});return new Wh("",new mn(o,[]))}var zn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[iu]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Gs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Gs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&IA(i)&&(r.resolve[iu]=i.title),r}var qs=class{get title(){return this.data?.[iu]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Wh=class extends qh{constructor(e,n){super(n),this.url=e,Yv(this,n)}toString(){return wA(this._root)}};function Yv(t,e){e.value._routerState=t,e.children.forEach(n=>Yv(t,n))}function wA(t){let e=t.children.length>0?` { ${t.children.map(wA).join(", ")} } `:"";return`${t.value}${e}`}function wv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),dr(e.params,n.params)||t.paramsSubject.next(n.params),zj(e.url,n.url)||t.urlSubject.next(n.url),dr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Bv(t,e){let n=dr(t.params,e.params)&&Qj(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Bv(t.parent,e.parent))}function IA(t){return typeof t.title=="string"||t.title===null}var Zv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=k(Yh),this.location=k(ks),this.changeDetector=k(Mi),this.inputBinder=k(Jv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $v(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]})}}return t})(),$v=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===zn?this.route:e===Yh?this.childContexts:this.parent.get(e,n)}},Jv=new G("");function _U(t,e,n){let r=eu(t,e._root,n?n._root:void 0);return new zh(r,e)}function eu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=wU(t,e,n);return new mn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>eu(t,a)),s}}let r=IU(e.value),i=e.children.map(o=>eu(t,o));return new mn(r,i)}}function wU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return eu(t,r,i);return eu(t,r)})}function IU(t){return new zn(new Oe(t.url),new Oe(t.params),new Oe(t.queryParams),new Oe(t.fragment),new Oe(t.data),t.outlet,t.component,t)}var tu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},EA="ngNavigationCancelingError";function Kh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=So(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bA(!1,gn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function bA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[EA]=!0,n.cancellationCode=e,n}function EU(t){return DA(t)&&So(t.url)}function DA(t){return!!t&&t[EA]}var bU=(t,e,n,r)=>re(i=>(new Hv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Hv=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=$s(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=$s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=$s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=$s(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new kv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(wv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Qh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},zs=class{constructor(e,n){this.component=e,this.route=n}};function DU(t,e,n){let r=t._root,i=e?e._root:null;return qc(r,i,n,[r.value])}function CU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Qs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!gD(t)?t:e.get(t):r}function qc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$s(e);return t.children.forEach(s=>{TU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kc(a,n.getContext(s),i)),i}function TU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=SU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Qh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qc(t,e,a?a.children:null,r,i):qc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zs(a.outlet.component,s))}else s&&Kc(e,a,i),i.canActivateChecks.push(new Qh(r)),o.component?qc(t,null,a?a.children:null,r,i):qc(t,null,n,r,i);return i}function SU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!To(t.url,e.url);case"pathParamsOrQueryParamsChange":return!To(t.url,e.url)||!dr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bv(t,e)||!dr(t.queryParams,e.queryParams);case"paramsChange":default:return!Bv(t,e)}}function Kc(t,e,n){let r=$s(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Kc(s,e.children.getContext(o),n):Kc(s,null,n):Kc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new zs(e.outlet.component,i)):n.canDeactivateChecks.push(new zs(null,i)):n.canDeactivateChecks.push(new zs(null,i))}function su(t){return typeof t=="function"}function AU(t){return typeof t=="boolean"}function RU(t){return t&&su(t.canLoad)}function MU(t){return t&&su(t.canActivate)}function xU(t){return t&&su(t.canActivateChild)}function NU(t){return t&&su(t.canDeactivate)}function PU(t){return t&&su(t.canMatch)}function CA(t){return t instanceof Rr||t?.name==="EmptyError"}var Lh=Symbol("INITIAL_VALUE");function Ks(){return on(t=>Gl(t.map(e=>e.pipe(Mr(1),Yl(Lh)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===Lh)return Lh;if(n===!1||OU(n))return n}return!0}),Wt(e=>e!==Lh),Mr(1)))}function OU(t){return So(t)||t instanceof tu}function kU(t,e){return dt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ee(me(U({},n),{guardsResult:!0})):FU(s,r,i,t).pipe(dt(a=>a&&AU(a)?LU(r,o,t,e):ee(a)),re(a=>me(U({},n),{guardsResult:a})))})}function FU(t,e,n,r){return Ne(t).pipe(dt(i=>$U(i.component,i.route,n,e,r)),On(i=>i!==!0,!0))}function LU(t,e,n,r){return Ne(e).pipe(gi(i=>ps(jU(i.route.parent,r),VU(i.route,r),BU(t,i.path,n),UU(t,i.route,n))),On(i=>i!==!0,!0))}function VU(t,e){return t!==null&&e&&e(new Fv(t)),ee(!0)}function jU(t,e){return t!==null&&e&&e(new Ov(t)),ee(!0)}function UU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>Wl(()=>{let s=ou(e)??n,a=Qs(o,s),u=MU(a)?a.canActivate(e,t):jn(s,()=>a(e,t));return Fi(u).pipe(On())}));return ee(i).pipe(Ks())}function BU(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>CU(s)).filter(s=>s!==null).map(s=>Wl(()=>{let a=s.guards.map(u=>{let l=ou(s.node)??n,h=Qs(u,l),p=xU(h)?h.canActivateChild(r,t):jn(l,()=>h(r,t));return Fi(p).pipe(On())});return ee(a).pipe(Ks())}));return ee(o).pipe(Ks())}function $U(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let u=ou(e)??i,l=Qs(a,u),h=NU(l)?l.canDeactivate(t,e,n,r):jn(u,()=>l(t,e,n,r));return Fi(h).pipe(On())});return ee(s).pipe(Ks())}function HU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=Qs(s,t),u=RU(a)?a.canLoad(e,n):jn(t,()=>a(e,n));return Fi(u)});return ee(o).pipe(Ks(),TA(r))}function TA(t){return Sl(rt(e=>{if(typeof e!="boolean")throw Kh(t,e)}),re(e=>e===!0))}function qU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=Qs(s,t),u=PU(a)?a.canMatch(e,n):jn(t,()=>a(e,n));return Fi(u)});return ee(o).pipe(Ks(),TA(r))}var nu=class{constructor(e){this.segmentGroup=e||null}},ru=class extends Error{constructor(e){super(),this.urlTree=e}};function Bs(t){return fs(new nu(t))}function zU(t){return fs(new K(4e3,!1))}function GU(t){return fs(bA(!1,gn.GuardRejected))}var qv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[de])return zU(`${e.redirectTo}`);i=i.children[de]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:C,title:N}=i,M=jn(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:N}));if(M instanceof Gr)throw new ru(M);n=M}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ru(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Gr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},zv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WU(t,e,n,r,i){let o=SA(t,e,n);return o.matched?(r=gU(e,r),qU(r,e,n,i).pipe(re(s=>s===!0?o:U({},zv)))):ee(o)}function SA(t,e,n){if(e.path==="**")return KU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},zv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qj)(n,t,e);if(!i)return U({},zv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function KU(t){return{matched:!0,parameters:t.length>0?sA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function nA(t,e,n,r){return n.length>0&&ZU(t,n,r)?{segmentGroup:new Re(e,YU(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&JU(t,n,r)?{segmentGroup:new Re(t.segments,QU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function QU(t,e,n,r){let i={};for(let o of n)if(Zh(t,e,o)&&!r[qn(o)]){let s=new Re([],{});i[qn(o)]=s}return U(U({},r),i)}function YU(t,e){let n={};n[de]=e;for(let r of t)if(r.path===""&&qn(r)!==de){let i=new Re([],{});n[qn(r)]=i}return n}function ZU(t,e,n){return n.some(r=>Zh(t,e,r)&&qn(r)!==de)}function JU(t,e,n){return n.some(r=>Zh(t,e,r))}function Zh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function XU(t,e,n){return e.length===0&&!t.children[n]}var Gv=class{};function eB(t,e,n,r,i,o,s="emptyOnly"){return new Wv(t,e,n,r,i,s,o).recognize()}var tB=31,Wv=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new qv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=nA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new mn(r,n),o=new Wh("",i),s=uU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new qs([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),de,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,de,n).pipe(re(r=>({children:r,rootSnapshot:n})),mi(r=>{if(r instanceof ru)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(re(s=>s instanceof mn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(gi(s=>{let a=r.children[s],u=yU(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ql((s,a)=>(s.push(...a),s)),yi(null),zm(),dt(s=>{if(s===null)return Bs(r);let a=AA(s);return nB(a),ee(a)}))}processSegment(e,n,r,i,o,s,a){return Ne(n).pipe(gi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(mi(l=>{if(l instanceof nu)return ee(null);throw l}))),On(u=>!!u),mi(u=>{if(CA(u))return XU(r,i,o)?ee(new Gv):Bs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return qn(r)!==s&&(s===de||!Zh(i,o,r))?Bs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Bs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=SA(n,i,o);if(!u)return Bs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tB&&(this.allowRedirects=!1));let y=new qs(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,rA(i),qn(i),i.component??i._loadedComponent??null,i,iA(i)),C=Gh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(dt(M=>this.processSegment(e,r,n,M.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=WU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(on(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(on(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,C=new qs(g,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,rA(r),qn(r),r.component??r._loadedComponent??null,r,iA(r)),N=Gh(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:M,slicedSegments:V}=nA(n,g,y,l);if(V.length===0&&M.hasChildren())return this.processChildren(h,l,M,C).pipe(re($=>new mn(C,$)));if(l.length===0&&V.length===0)return ee(new mn(C,[]));let z=qn(r)===o;return this.processSegment(h,l,M,V,z?de:o,!0,C).pipe(re($=>new mn(C,$ instanceof mn?[$]:[])))}))):Bs(n)))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):HU(e,n,r,this.urlSerializer).pipe(dt(i=>i?this.configLoader.loadChildren(e,n).pipe(rt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):GU(n))):ee({routes:[],injector:e})}};function nB(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}function rB(t){let e=t.value.routeConfig;return e&&e.path===""}function AA(t){let e=[],n=new Set;for(let r of t){if(!rB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=AA(r.children);e.push(new mn(r.value,i))}return e.filter(r=>!n.has(r))}function rA(t){return t.data||{}}function iA(t){return t.resolve||{}}function iB(t,e,n,r,i,o){return dt(s=>eB(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:u})=>me(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function oB(t,e){return dt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of RA(u))s.add(l);let a=0;return Ne(s).pipe(gi(u=>o.has(u)?sB(u,r,t,e):(u.data=Gh(u,u.parent,t).resolve,ee(void 0))),rt(()=>a++),ms(1),dt(u=>a===s.size?ee(n):rn))})}function RA(t){let e=t.children.map(n=>RA(n)).flat();return[t,...e]}function sB(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!IA(i)&&(o[iu]=i.title),aB(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=Gh(t,t.parent,n).resolve,null)))}function aB(t,e,n,r){let i=bv(t);if(i.length===0)return ee({});let o={};return Ne(i).pipe(dt(s=>cB(t[s],e,n,r).pipe(On(),rt(a=>{if(a instanceof tu)throw Kh(new Qc,a);o[s]=a}))),ms(1),qm(o),mi(s=>CA(s)?rn:fs(s)))}function cB(t,e,n,r){let i=ou(e)??r,o=Qs(t,i),s=o.resolve?o.resolve(e,n):jn(i,()=>o(e,n));return Fi(s)}function Iv(t){return on(e=>{let n=t(e);return n?Ne(n).pipe(re(()=>e)):ee(e)})}var MA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[iu]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(uB),providedIn:"root"})}}return t})(),uB=(()=>{class t extends MA{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Q(YS))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xv=new G("",{providedIn:"root",factory:()=>({})}),lB=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Le({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ue],decls:1,vars:0,template:function(r,i){r&1&&B(0,"router-outlet")},dependencies:[Zv],encapsulation:2})}}return t})();function e_(t){let e=t.children&&t.children.map(e_),n=e?me(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=lB),n}var t_=new G(""),dB=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(zy)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Fi(n.loadComponent()).pipe(re(xA),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),uo(()=>{this.componentLoaders.delete(n)})),i=new us(r,()=>new mt).pipe(cs());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=hB(r,this.compiler,n,this.onLoadEndListener).pipe(uo(()=>{this.childrenLoaders.delete(r)})),s=new us(o,()=>new mt).pipe(cs());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hB(t,e,n,r){return Fi(t.loadChildren()).pipe(re(xA),dt(i=>i instanceof _c||Array.isArray(i)?ee(i):Ne(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(t_,[],{optional:!0,self:!0}).flat()),{routes:s.map(e_),injector:o}}))}function fB(t){return t&&typeof t=="object"&&"default"in t}function xA(t){return fB(t)?t.default:t}var n_=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(pB),providedIn:"root"})}}return t})(),pB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mB=new G("");var gB=new G(""),yB=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mt,this.transitionAbortSubject=new mt,this.configLoader=k(dB),this.environmentInjector=k(Yt),this.urlSerializer=k(Qv),this.rootContexts=k(Yh),this.location=k(kc),this.inputBindingEnabled=k(Jv,{optional:!0})!==null,this.titleStrategy=k(MA),this.options=k(Xv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(n_),this.createViewTransition=k(mB,{optional:!0}),this.navigationErrorHandler=k(gB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Nv(i)),r=i=>this.events.next(new Pv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(me(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Oe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wt(o=>o.id!==0),re(o=>me(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),on(o=>{let s=!1,a=!1;return ee(o).pipe(on(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),rn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?me(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Ao(u.id,this.urlSerializer.serialize(u.rawUrl),p,Sv.IgnoredSameUrlNavigation)),u.resolve(!1),rn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(on(p=>{let g=this.transitions?.getValue();return this.events.next(new Zc(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?rn:Promise.resolve(p)}),iB(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=me(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Hh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:C,extras:N}=u,M=new Zc(p,this.urlSerializer.serialize(g),y,C);this.events.next(M);let V=_A(this.rootComponentType).snapshot;return this.currentTransition=o=me(U({},u),{targetSnapshot:V,urlAfterRedirects:g,extras:me(U({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,ee(o)}else{let p="";return this.events.next(new Ao(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Sv.IgnoredByUrlHandlingStrategy)),u.resolve(!1),rn}}),rt(u=>{let l=new Av(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),re(u=>(this.currentTransition=o=me(U({},u),{guards:DU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),kU(this.environmentInjector,u=>this.events.next(u)),rt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Kh(this.urlSerializer,u.guardsResult);let l=new Rv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Wt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",gn.GuardRejected),!1)),Iv(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(rt(l=>{let h=new Mv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),on(l=>{let h=!1;return ee(l).pipe(oB(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",gn.NoDataFromResolver)}}))}),rt(l=>{let h=new xv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Iv(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(rt(g=>{h.component=g}),re(()=>{})));for(let g of h.children)p.push(...l(g));return p};return Gl(l(u.targetSnapshot.root)).pipe(yi(null),Mr(1))}),Iv(()=>this.afterPreactivation()),on(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ne(h).pipe(re(()=>o)):ee(o)}),re(u=>{let l=_U(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=me(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),rt(()=>{this.events.next(new Xc)}),bU(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Mr(1),rt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ki(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Gm(this.transitionAbortSubject.pipe(rt(u=>{throw u}))),uo(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),mi(u=>{if(a=!0,DA(u))this.events.next(new zr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),EU(u)?this.events.next(new Ws(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Jc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=jn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof tu){let{message:p,cancellationCode:g}=Kh(this.urlSerializer,h);this.events.next(new zr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Ws(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return rn}))}))}cancelNavigationTransition(n,r,i){let o=new zr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vB(t){return t!==Wc}var _B=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(wB),providedIn:"root"})}}return t})(),Kv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},wB=(()=>{class t extends Kv{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),NA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(IB),providedIn:"root"})}}return t})(),IB=(()=>{class t extends NA{constructor(){super(...arguments),this.location=k(kc),this.urlSerializer=k(Qv),this.options=k(Xv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(n_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_A(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Zc)this.stateMemento=this.createStateMemento();else if(n instanceof Ao)this.rawUrlTree=r.initialUrl;else if(n instanceof Hh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Xc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof zr&&(n.code===gn.GuardRejected||n.code===gn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Jc?this.restoreHistory(r,!0):n instanceof ki&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Gr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(zc||{});function EB(t,e){t.events.pipe(Wt(n=>n instanceof ki||n instanceof zr||n instanceof Jc||n instanceof Ao),re(n=>n instanceof ki||n instanceof Ao?zc.COMPLETE:(n instanceof zr?n.code===gn.Redirect||n.code===gn.SupersededByNewNavigation:!1)?zc.REDIRECTING:zc.FAILED),Wt(n=>n!==zc.REDIRECTING),Mr(1)).subscribe(()=>{e()})}function bB(t){throw t}var DB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(ph),this.stateManager=k(NA),this.options=k(Xv,{optional:!0})||{},this.pendingTasks=k(Ti),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(yB),this.urlSerializer=k(Qv),this.location=k(kc),this.urlHandlingStrategy=k(n_),this._events=new mt,this.errorHandler=this.options.errorHandler||bB,this.navigated=!1,this.routeReuseStrategy=k(_B),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(t_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Jv,{optional:!0}),this.eventsSubscription=new Ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof zr&&r.code!==gn.Redirect&&r.code!==gn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ki)this.navigated=!0;else if(r instanceof Ws){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vB(i.source)},s);this.scheduleNavigation(a,Wc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}SB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(e_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=mA(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return gA(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=So(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wc,null,r)}navigate(n,r={skipLocationChange:!1}){return TB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},DB):r===!1?i=U({},CB):i=r,So(n))return JS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return JS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return EB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function TB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new K(4008,!1)}function SB(t){return!(t instanceof Xc)&&!(t instanceof Ws)}var Ys=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new mt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(So(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:HC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:So(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(F(bt),F(zn),dy("tabindex"),F(ir),F(Bn),F(js))}}static{this.\u0275dir=Ve({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&pe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&jr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xi],replaceUrl:[2,"replaceUrl","replaceUrl",xi],routerLink:"routerLink"},standalone:!0,features:[Ly,nr]})}}return t})();var AB=new G("");function PA(t,...e){return un([{provide:t_,multi:!0,useValue:t},[],{provide:zn,useFactory:RB,deps:[bt]},{provide:Fs,multi:!0,useFactory:MB},e.map(n=>n.\u0275providers)])}function RB(t){return t.routerState.root}function MB(){let t=k(xt);return e=>{let n=t.get(sr);if(e!==n.components[0])return;let r=t.get(bt),i=t.get(xB);t.get(NB)===1&&r.initialNavigation(),t.get(PB,null,he.Optional)?.setUpPreloading(),t.get(AB,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xB=new G("",{factory:()=>new mt}),NB=new G("",{providedIn:"root",factory:()=>1});var PB=new G("");var Zs=class{product;qte;constructor(e,n){this.product=e,this.qte=n}};var HA=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(F(ir),F(Bn))}}static{this.\u0275dir=Ve({type:t})}}return t})(),cf=(()=>{class t extends HA{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})()}static{this.\u0275dir=Ve({type:t,features:[$t]})}}return t})(),ra=new G("");var OB={provide:ra,useExisting:cn(()=>Xt),multi:!0};function kB(){let t=qr()?qr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var FB=new G(""),Xt=(()=>{class t extends HA{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!kB())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(F(ir),F(Bn),F(FB,8))}}static{this.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&pe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[$n([OB]),$t]})}}return t})();function Vi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function qA(t){return t!=null&&typeof t.length=="number"}var ia=new G(""),uf=new G(""),LB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ea=class{static min(e){return zA(e)}static max(e){return VB(e)}static required(e){return GA(e)}static requiredTrue(e){return jB(e)}static email(e){return UB(e)}static minLength(e){return BB(e)}static maxLength(e){return $B(e)}static pattern(e){return HB(e)}static nullValidator(e){return Xh(e)}static compose(e){return JA(e)}static composeAsync(e){return XA(e)}};function zA(t){return e=>{if(Vi(e.value)||Vi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function VB(t){return e=>{if(Vi(e.value)||Vi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function GA(t){return Vi(t.value)?{required:!0}:null}function jB(t){return t.value===!0?null:{required:!0}}function UB(t){return Vi(t.value)||LB.test(t.value)?null:{email:!0}}function BB(t){return e=>Vi(e.value)||!qA(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function $B(t){return e=>qA(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function HB(t){if(!t)return Xh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Vi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Xh(t){return null}function WA(t){return t!=null}function KA(t){return Ri(t)?Ne(t):t}function QA(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function YA(t,e){return e.map(n=>n(t))}function qB(t){return!t.validate}function ZA(t){return t.map(e=>qB(e)?e:n=>e.validate(n))}function JA(t){if(!t)return null;let e=t.filter(WA);return e.length==0?null:function(n){return QA(YA(n,e))}}function c_(t){return t!=null?JA(ZA(t)):null}function XA(t){if(!t)return null;let e=t.filter(WA);return e.length==0?null:function(n){let r=YA(n,e).map(KA);return Hm(r).pipe(re(QA))}}function u_(t){return t!=null?XA(ZA(t)):null}function OA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function e1(t){return t._rawValidators}function t1(t){return t._rawAsyncValidators}function r_(t){return t?Array.isArray(t)?t:[t]:[]}function ef(t,e){return Array.isArray(t)?t.includes(e):t===e}function kA(t,e){let n=r_(e);return r_(t).forEach(i=>{ef(n,i)||n.push(i)}),n}function FA(t,e){return r_(e).filter(n=>!ef(t,n))}var tf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=c_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=u_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Wr=class extends tf{get formDirective(){return null}get path(){return null}},Ro=class extends tf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},nf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},JQ=me(U({},zB),{"[class.ng-submitted]":"isSubmitted"}),Sn=(()=>{class t extends nf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(F(Ro,2))}}static{this.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&lh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$t]})}}return t})(),Ui=(()=>{class t extends nf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(F(Wr,10))}}static{this.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&lh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[$t]})}}return t})();var au="VALID",Jh="INVALID",Js="PENDING",cu="DISABLED",ji=class{},rf=class extends ji{constructor(e,n){super(),this.value=e,this.source=n}},lu=class extends ji{constructor(e,n){super(),this.pristine=e,this.source=n}},du=class extends ji{constructor(e,n){super(),this.touched=e,this.source=n}},Xs=class extends ji{constructor(e,n){super(),this.status=e,this.source=n}},i_=class extends ji{constructor(e){super(),this.source=e}},o_=class extends ji{constructor(e){super(),this.source=e}};function l_(t){return(lf(t)?t.validators:t)||null}function GB(t){return Array.isArray(t)?c_(t):t||null}function d_(t,e){return(lf(e)?e.asyncValidators:t)||null}function WB(t){return Array.isArray(t)?u_(t):t||null}function lf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function n1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[n])throw new K(1001,"")}function r1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new K(1002,"")})}var ta=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ls(()=>this.statusReactive()),this.statusReactive=Ai(void 0),this._pristine=Ls(()=>this.pristineReactive()),this.pristineReactive=Ai(!0),this._touched=Ls(()=>this.touchedReactive()),this.touchedReactive=Ai(!1),this._events=new mt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Dn(this.statusReactive)}set status(e){Dn(()=>this.statusReactive.set(e))}get valid(){return this.status===au}get invalid(){return this.status===Jh}get pending(){return this.status==Js}get disabled(){return this.status===cu}get enabled(){return this.status!==cu}get pristine(){return Dn(this.pristineReactive)}set pristine(e){Dn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Dn(this.touchedReactive)}set touched(e){Dn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FA(e,this._rawAsyncValidators))}hasValidator(e){return ef(this._rawValidators,e)}hasAsyncValidator(e){return ef(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new du(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new du(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new lu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new lu(!0,r))}markAsPending(e={}){this.status=Js;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cu,this.errors=null,this._forEachChild(i=>{i.disable(me(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rf(this.value,r)),this._events.next(new Xs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=au,this._forEachChild(r=>{r.enable(me(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===au||this.status===Js)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rf(this.value,n)),this._events.next(new Xs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cu:au}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Js,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=KA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Xs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?cu:this.errors?Jh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Js)?Js:this._anyControlsHaveStatus(Jh)?Jh:au}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new lu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new du(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=GB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WB(this._rawAsyncValidators)}},na=class extends ta{constructor(e,n,r){super(l_(n),d_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){r1(this,!0,e),Object.keys(e).forEach(r=>{n1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var s_=class extends na{};var fu=new G("CallSetDisabledState",{providedIn:"root",factory:()=>df}),df="always";function i1(t,e){return[...e.path,t]}function of(t,e,n=df){h_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),QB(t,e),ZB(t,e),YB(t,e),KB(t,e)}function LA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),af(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function sf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function KB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function h_(t,e){let n=e1(t);e.validator!==null?t.setValidators(OA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=t1(t);e.asyncValidator!==null?t.setAsyncValidators(OA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();sf(e._rawValidators,i),sf(e._rawAsyncValidators,i)}function af(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=e1(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=t1(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return sf(e._rawValidators,r),sf(e._rawAsyncValidators,r),n}function QB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&o1(t,e)})}function YB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&o1(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function o1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ZB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function s1(t,e){t==null,h_(t,e)}function JB(t,e){return af(t,e)}function a1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function XB(t){return Object.getPrototypeOf(t.constructor)===cf}function c1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function u1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Xt?n=o:XB(o)?r=o:i=o}),i||r||n||null}function e4(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var t4={provide:Wr,useExisting:cn(()=>Mo)},uu=Promise.resolve(),Mo=(()=>{class t extends Wr{get submitted(){return Dn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ls(()=>this.submittedReactive()),this.submittedReactive=Ai(!1),this._directives=new Set,this.ngSubmit=new Qe,this.form=new na({},c_(n),u_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){uu.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),of(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){uu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){uu.then(()=>{let r=this._findContainer(n.path),i=new na({});s1(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){uu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){uu.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),c1(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(F(ia,10),F(uf,10),F(fu,8))}}static{this.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&pe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$n([t4]),$t]})}}return t})();function VA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var hu=class extends ta{constructor(e=null,n,r){super(l_(n),d_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(jA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var n4=t=>t instanceof hu;var r4={provide:Ro,useExisting:cn(()=>Gn)},UA=Promise.resolve(),Gn=(()=>{class t extends Ro{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new hu,this._registered=!1,this.name="",this.update=new Qe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=u1(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),a1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){of(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){UA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&xi(r);UA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?i1(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(F(Wr,9),F(ia,10),F(uf,10),F(ra,10),F(Mi,8),F(fu,8))}}static{this.\u0275dir=Ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$n([r4]),$t,nr]})}}return t})(),Bi=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),i4={provide:ra,useExisting:cn(()=>f_),multi:!0},f_=(()=>{class t extends cf{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})()}static{this.\u0275dir=Ve({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&pe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[$n([i4]),$t]})}}return t})();var l1=new G("");var o4={provide:Wr,useExisting:cn(()=>p_)},p_=(()=>{class t extends Wr{get submitted(){return Dn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ls(()=>this._submittedReactive()),this._submittedReactive=Ai(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(af(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return of(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){LA(n.control||null,n,!1),e4(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),c1(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new i_(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new o_(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(LA(r||null,n),n4(i)&&(of(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);s1(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&JB(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){h_(this.form,this),this._oldForm&&af(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(F(ia,10),F(uf,10),F(fu,8))}}static{this.\u0275dir=Ve({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&pe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$n([o4]),$t,nr]})}}return t})();var s4={provide:Ro,useExisting:cn(()=>m_)},m_=(()=>{class t extends Ro{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=u1(this,o)}ngOnChanges(n){this._added||this._setUpControl(),a1(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return i1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(F(Wr,13),F(ia,10),F(uf,10),F(ra,10),F(l1,8))}}static{this.\u0275dir=Ve({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[$n([s4]),$t,nr]})}}return t})(),a4={provide:ra,useExisting:cn(()=>hf),multi:!0};function d1(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function c4(t){return t.split(":")[0]}var hf=(()=>{class t extends cf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=d1(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=c4(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})()}static{this.\u0275dir=Ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&pe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$n([a4]),$t]})}}return t})(),h1=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(d1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(F(Bn),F(ir),F(hf,9))}}static{this.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),u4={provide:ra,useExisting:cn(()=>f1),multi:!0};function BA(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function l4(t){return t.split(":")[0]}var f1=(()=>{class t extends cf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=l4(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})()}static{this.\u0275dir=Ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&pe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$n([u4]),$t]})}}return t})(),p1=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(BA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(BA(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(F(Bn),F(ir),F(f1,9))}}static{this.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function d4(t){return typeof t=="number"?t:parseFloat(t)}var m1=(()=>{class t{constructor(){this._validator=Xh}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ve({type:t,features:[nr]})}}return t})();var h4={provide:ia,useExisting:cn(()=>g_),multi:!0},g_=(()=>{class t extends m1{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>d4(n),this.createValidator=n=>zA(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})()}static{this.\u0275dir=Ve({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&jr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[$n([h4]),$t]})}}return t})(),f4={provide:ia,useExisting:cn(()=>pu),multi:!0};var pu=(()=>{class t extends m1{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xi,this.createValidator=n=>GA}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})()}static{this.\u0275dir=Ve({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&jr("required",i._enabled?"":null)},inputs:{required:"required"},features:[$n([f4]),$t]})}}return t})();var g1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=Lr({})}}return t})(),a_=class extends ta{constructor(e,n,r){super(l_(n),d_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){r1(this,!1,e),e.forEach((r,i)=>{n1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function $A(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var y1=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return $A(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new na(i,o)}record(n,r=null){let i=this._reduceControls(n);return new s_(i,r)}control(n,r,i){let o={};return this.useNonNullable?($A(r)?o=r:(o.validators=r,o.asyncValidators=i),new hu(n,me(U({},o),{nonNullable:!0}))):new hu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new a_(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof hu)return n;if(n instanceof ta)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hr=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:fu,useValue:n.callSetDisabledState??df}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=Lr({imports:[g1]})}}return t})(),v1=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:l1,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:fu,useValue:n.callSetDisabledState??df}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=Lr({imports:[g1]})}}return t})();var ff=class{id;userId;montant;dateCommande;details;constructor(e,n,r,i){this.userId=e,this.montant=n,this.dateCommande=r,this.details=i}};var pf=class{productid;qte;constructor(e,n){this.productid=e,this.qte=n}};var w1=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},p4=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},I1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):p4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new v_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},v_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},m4=function(t){let e=w1(t);return I1.encodeByteArray(e,!0)},mu=function(t){return m4(t).replace(/\./g,"")},w_=function(t){try{return I1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var y4=()=>g4().__FIREBASE_DEFAULTS__,v4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&w_(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return y4()||v4()||_4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I_=t=>{var e,n;return(n=(e=gf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},E1=t=>{let e=I_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},E_=()=>{var t;return(t=gf())===null||t===void 0?void 0:t.config},b_=t=>{var e;return(e=gf())===null||e===void 0?void 0:e[`_${t}`]};var mf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function b1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mu(JSON.stringify(n)),mu(JSON.stringify(s)),""].join(".")}function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function w4(){var t;let e=(t=gf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T1(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A1(){let t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function R1(){return!w4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D_(){try{return typeof indexedDB=="object"}catch{return!1}}function M1(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var I4="FirebaseError",yn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=I4,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kr.prototype.create)}},Kr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?E4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new yn(i,a,r)}};function E4(t,e){return t.replace(b4,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var b4=/\{\$([^}]+)}/g;function x1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(_1(o)&&_1(s)){if(!xo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function _1(t){return t!==null&&typeof t=="object"}function gu(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sa(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function aa(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function N1(t,e){let n=new __(t,e);return n.subscribe.bind(n)}var __=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=y_),i.error===void 0&&(i.error=y_),i.complete===void 0&&(i.complete=y_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function D4(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function y_(){}var rY=4*60*60*1e3;function ht(t){return t&&t._delegate?t._delegate:t}var An=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var No="[DEFAULT]";var C_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new mf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T4(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function C4(t){return t===No?void 0:t}function T4(t){return t.instantiationMode==="EAGER"}var yf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new C_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var S4=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),A4={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},R4=ve.INFO,M4={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},x4=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=M4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$i=class{constructor(e){this.name=e,this._logLevel=R4,this._logHandler=x4,this._userLogHandler=null,S4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var N4=(t,e)=>e.some(n=>t instanceof n),P1,O1;function P4(){return P1||(P1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O4(){return O1||(O1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var k1=new WeakMap,S_=new WeakMap,F1=new WeakMap,T_=new WeakMap,R_=new WeakMap;function k4(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&k1.set(n,t)}).catch(()=>{}),R_.set(e,t),e}function F4(t){if(S_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});S_.set(t,e)}var A_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return S_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L1(t){A_=t(A_)}function L4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(vf(this),e,...n);return F1.set(r,e.sort?e.sort():[e]),fr(r)}:O4().includes(t)?function(...e){return t.apply(vf(this),e),fr(k1.get(this))}:function(...e){return fr(t.apply(vf(this),e))}}function V4(t){return typeof t=="function"?L4(t):(t instanceof IDBTransaction&&F4(t),N4(t,P4())?new Proxy(t,A_):t)}function fr(t){if(t instanceof IDBRequest)return k4(t);if(T_.has(t))return T_.get(t);let e=V4(t);return e!==t&&(T_.set(t,e),R_.set(e,t)),e}var vf=t=>R_.get(t);function j1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=fr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(fr(s.result),u.oldVersion,u.newVersion,fr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var j4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],M_=new Map;function V1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(M_.get(e))return M_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=U4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j4.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return M_.set(e,o),o}L1(t=>me(U({},t),{get:(e,n,r)=>V1(e,n)||t.get(e,n,r),has:(e,n)=>!!V1(e,n)||t.has(e,n)}));var N_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B4(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function B4(t){let e=t.getComponent();return e?.type==="VERSION"}var P_="@firebase/app",U1="0.10.13";var Qr=new $i("@firebase/app"),$4="@firebase/app-compat",H4="@firebase/analytics-compat",q4="@firebase/analytics",z4="@firebase/app-check-compat",G4="@firebase/app-check",W4="@firebase/auth",K4="@firebase/auth-compat",Q4="@firebase/database",Y4="@firebase/data-connect",Z4="@firebase/database-compat",J4="@firebase/functions",X4="@firebase/functions-compat",e3="@firebase/installations",t3="@firebase/installations-compat",n3="@firebase/messaging",r3="@firebase/messaging-compat",i3="@firebase/performance",o3="@firebase/performance-compat",s3="@firebase/remote-config",a3="@firebase/remote-config-compat",c3="@firebase/storage",u3="@firebase/storage-compat",l3="@firebase/firestore",d3="@firebase/vertexai-preview",h3="@firebase/firestore-compat",f3="firebase",p3="10.14.1";var O_="[DEFAULT]",m3={[P_]:"fire-core",[$4]:"fire-core-compat",[q4]:"fire-analytics",[H4]:"fire-analytics-compat",[G4]:"fire-app-check",[z4]:"fire-app-check-compat",[W4]:"fire-auth",[K4]:"fire-auth-compat",[Q4]:"fire-rtdb",[Y4]:"fire-data-connect",[Z4]:"fire-rtdb-compat",[J4]:"fire-fn",[X4]:"fire-fn-compat",[e3]:"fire-iid",[t3]:"fire-iid-compat",[n3]:"fire-fcm",[r3]:"fire-fcm-compat",[i3]:"fire-perf",[o3]:"fire-perf-compat",[s3]:"fire-rc",[a3]:"fire-rc-compat",[c3]:"fire-gcs",[u3]:"fire-gcs-compat",[l3]:"fire-fst",[h3]:"fire-fst-compat",[d3]:"fire-vertex","fire-js":"fire-js",[f3]:"fire-js-all"};var yu=new Map,g3=new Map,k_=new Map;function B1(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qi(t){let e=t.name;if(k_.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;k_.set(e,t);for(let n of yu.values())B1(n,t);for(let n of g3.values())B1(n,t);return!0}function _u(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t.settings!==void 0}var y3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Kr("app","Firebase",y3);var F_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}};var zi=p3;function j_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:O_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=E_()),!n)throw Hi.create("no-options");let o=yu.get(i);if(o){if(xo(n,o.options)&&xo(r,o.config))return o;throw Hi.create("duplicate-app",{appName:i})}let s=new yf(i);for(let u of k_.values())s.addComponent(u);let a=new F_(n,r,s);return yu.set(i,a),a}function ca(t=O_){let e=yu.get(t);if(!e&&t===O_&&E_())return j_();if(!e)throw Hi.create("no-app",{appName:t});return e}function _f(){return Array.from(yu.values())}function ft(t,e,n){var r;let i=(r=m3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(a.join(" "));return}qi(new An(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var v3="firebase-heartbeat-database",_3=1,vu="firebase-heartbeat-store",x_=null;function z1(){return x_||(x_=j1(v3,_3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),x_}function w3(t){return _(this,null,function*(){try{let n=(yield z1()).transaction(vu),r=yield n.objectStore(vu).get(G1(t));return yield n.done,r}catch(e){if(e instanceof yn)Qr.warn(e.message);else{let n=Hi.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(n.message)}}})}function $1(t,e){return _(this,null,function*(){try{let r=(yield z1()).transaction(vu,"readwrite");yield r.objectStore(vu).put(e,G1(t)),yield r.done}catch(n){if(n instanceof yn)Qr.warn(n.message);else{let r=Hi.create("idb-set",{originalErrorMessage:n?.message});Qr.warn(r.message)}}})}function G1(t){return`${t.name}!${t.options.appId}`}var I3=1024,E3=30*24*60*60*1e3,L_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new V_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=H1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=E3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Qr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=H1(),{heartbeatsToSend:r,unsentEntries:i}=b3(this._heartbeatsCache.heartbeats),o=mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Qr.warn(n),""}})}};function H1(){return new Date().toISOString().substring(0,10)}function b3(t,e=I3){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),q1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),q1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var V_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return D_()?M1().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield w3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function q1(t){return mu(JSON.stringify({version:2,heartbeats:t})).length}function D3(t){qi(new An("platform-logger",e=>new N_(e),"PRIVATE")),qi(new An("heartbeat",e=>new L_(e),"PRIVATE")),ft(P_,U1,t),ft(P_,U1,"esm2017"),ft("fire-js","")}D3("");var C3="firebase",T3="10.14.1";ft(C3,T3,"app");var Oo=new Fr("ANGULARFIRE2_VERSION");function If(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var wu=(t,e)=>{let n=e?[e]:_f(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},la=class{constructor(){return wu(S3)}},S3="app-check";function ua(){}var wf=class{zone;delegate;constructor(e,n=jm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},U_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua)),n.pipe(rt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},da=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new wf(Zone.current)),this.insideAngular=n.run(()=>new wf(Zone.current,cc)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Q(Me))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ef(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function A3(t){return Ef().ngZone.runOutsideAngular(()=>t())}function Po(t){return Ef().ngZone.run(()=>t())}function R3(t){return M3(Ef())(t)}function M3(t){return function(n){return n=n.lift(new U_(t.ngZone)),n.pipe(pi(t.outsideAngular),fi(t.insideAngular))}}var x3=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Po(()=>t.apply(void 0,r))},Dt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Po(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua))),r[o]=x3(r[o],n));let i=A3(()=>t.apply(this,r));if(!e)if(i instanceof ue){let o=Ef();return i.pipe(pi(o.outsideAngular),fi(o.insideAngular))}else return Po(()=>i);return i instanceof ue?i.pipe(R3):i instanceof Promise?Po(()=>new Promise((o,s)=>i.then(a=>Po(()=>o(a)),a=>Po(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Po(()=>i)};var Yr=class{constructor(e){return e}},ko=class{constructor(){return _f()}};function N3(t){return t&&t.length===1?t[0]:new Yr(ca())}var B_=new G("angularfire2._apps"),P3={provide:Yr,useFactory:N3,deps:[[new Bt,B_]]},O3={provide:ko,deps:[[new Bt,B_]]};function k3(t){return(e,n)=>{let r=n.get(dn);ft("angularfire",Oo.full,"core"),ft("angularfire",Oo.full,"app"),ft("angular",ZT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Yr(i)}}function W1(t,...e){return un([P3,O3,{provide:B_,useFactory:k3(t),multi:!0,deps:[Me,xt,da,...e]}])}var K1=Dt(j_,!0);function dR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hR=dR,fR=new Kr("auth","Firebase",dR());var Af=new $i("@firebase/auth");function F3(t,...e){Af.logLevel<=ve.WARN&&Af.warn(`Auth (${zi}): ${t}`,...e)}function Df(t,...e){Af.logLevel<=ve.ERROR&&Af.error(`Auth (${zi}): ${t}`,...e)}function mr(t,...e){throw l0(t,...e)}function Fo(t,...e){return l0(t,...e)}function pR(t,e,n){let r=Object.assign(Object.assign({},hR()),{[e]:n});return new Kr("auth","Firebase",r).create(e,{appName:t.name})}function Xr(t){return pR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l0(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fR.create(t,...e)}function te(t,e,...n){if(!t)throw l0(e,...n)}function Zr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Df(e),new Error(e)}function Wi(t,e){t||Zr(e)}function z_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function L3(){return Q1()==="http:"||Q1()==="https:"}function Q1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function V3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L3()||T1()||"connection"in navigator)?navigator.onLine:!0}function j3(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Lo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=D1()||S1()}get(){return V3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function d0(t,e){Wi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Rf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var U3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var B3=new Lo(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ei(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return mR(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=gu(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return C1()||(y.referrerPolicy="no-referrer"),Rf.fetch()(gR(t,t.config.apiHost,n,p),y)}))})}function mR(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},U3),e);try{let i=new G_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw bf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw bf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw bf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw pR(t,h,l);mr(t,h)}}catch(i){if(i instanceof yn)throw i;mr(t,"network-request-failed",{message:String(i)})}})}function Su(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield ei(t,e,n,r,i);return"mfaPendingCredential"in l&&mr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function gR(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?d0(t.config,i):`${t.config.apiScheme}://${i}`}function $3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var G_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fo(this.auth,"network-request-failed")),B3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function bf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Fo(t,e,r);return i.customData._tokenResponse=n,i}function Y1(t){return t!==void 0&&t.enterprise!==void 0}var W_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function H3(t,e){return _(this,null,function*(){return ei(t,"GET","/v2/recaptchaConfig",Ki(t,e))})}function q3(t,e){return _(this,null,function*(){return ei(t,"POST","/v1/accounts:delete",e)})}function yR(t,e){return _(this,null,function*(){return ei(t,"POST","/v1/accounts:lookup",e)})}function Iu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function h0(t,e=!1){return _(this,null,function*(){let n=ht(t),r=yield n.getIdToken(e),i=f0(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Iu($_(i.auth_time)),issuedAtTime:Iu($_(i.iat)),expirationTime:Iu($_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function $_(t){return Number(t)*1e3}function f0(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{let i=w_(n);return i?JSON.parse(i):(Df("Failed to decode base64 JWT payload"),null)}catch(i){return Df("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Z1(t){let e=f0(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ha(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof yn&&z3(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function z3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var K_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Mf(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ha(t,yR(n,{idToken:r}));te(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vR(o.providerUserInfo):[],a=G3(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function p0(t){return _(this,null,function*(){let e=ht(t);yield Mf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function G3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vR(t){return t.map(e=>{var{providerId:n}=e,r=Um(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function W3(t,e){return _(this,null,function*(){let n=yield mR(t,{},()=>_(this,null,function*(){let r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=gR(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function K3(t,e){return _(this,null,function*(){return ei(t,"POST","/v2/accounts:revokeToken",Ki(t,e))})}var Eu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=Z1(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield W3(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Zr("not implemented")}};function Gi(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Um(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield ha(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return h0(this,e)}reload(){return p0(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Mf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Wn(this.auth.app))return Promise.reject(Xr(this.auth));let e=yield this.getIdToken();return yield ha(this,q3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:Z,isAnonymous:we,providerData:X,stsTokenManager:b}=n;te($&&b,e,"internal-error");let v=Eu.fromJSON(this.name,b);te(typeof $=="string",e,"internal-error"),Gi(p,e.name),Gi(g,e.name),te(typeof Z=="boolean",e,"internal-error"),te(typeof we=="boolean",e,"internal-error"),Gi(y,e.name),Gi(C,e.name),Gi(N,e.name),Gi(M,e.name),Gi(V,e.name),Gi(z,e.name);let w=new t({uid:$,auth:e,email:g,emailVerified:Z,displayName:p,isAnonymous:we,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:V,lastLoginAt:z});return X&&Array.isArray(X)&&(w.providerData=X.map(D=>Object.assign({},D))),M&&(w._redirectEventId=M),w}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Eu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Mf(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?vR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Eu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var J1=new Map;function Jr(t){Wi(t instanceof Function,"Expected a class definition");let e=J1.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J1.set(t,e),e)}var Q3=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Q_=Q3;function Cf(t,e,n){return`firebase:${t}:${e}:${n}`}var xf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Cf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Jr(Q_),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Jr(Q_),s=Cf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=fa._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function X1(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ER(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_R(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DR(e))return"Blackberry";if(CR(e))return"Webos";if(wR(e))return"Safari";if((e.includes("chrome/")||IR(e))&&!e.includes("edge/"))return"Chrome";if(bR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _R(t=gt()){return/firefox\//i.test(t)}function wR(t=gt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IR(t=gt()){return/crios\//i.test(t)}function ER(t=gt()){return/iemobile/i.test(t)}function bR(t=gt()){return/android/i.test(t)}function DR(t=gt()){return/blackberry/i.test(t)}function CR(t=gt()){return/webos/i.test(t)}function m0(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y3(t=gt()){var e;return m0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z3(){return A1()&&document.documentMode===10}function TR(t=gt()){return m0(t)||bR(t)||CR(t)||DR(t)||/windows phone/i.test(t)||ER(t)}function SR(t,e=[]){let n;switch(t){case"Browser":n=X1(gt());break;case"Worker":n=`${X1(gt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zi}/${r}`}var Y_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function J3(n){return _(this,arguments,function*(t,e={}){return ei(t,"GET","/v2/passwordPolicy",Ki(t,e))})}var X3=6,Z_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:X3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var J_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nf(this),this.idTokenSubscription=new Nf(this),this.beforeStateQueue=new Y_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield xf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield yR(this,{idToken:e}),r=yield fa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Wn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Mf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=j3()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Wn(this.app))return Promise.reject(Xr(this));let n=e?ht(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Wn(this.app)?Promise.reject(Xr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Wn(this.app)?Promise.reject(Xr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Jr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield J3(this),n=new Z_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield K3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Jr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield xf.create(this,[Jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&F3(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function jo(t){return ht(t)}var Nf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=N1(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var jf={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e$(t){jf=t}function AR(t){return jf.loadJS(t)}function t$(){return jf.recaptchaEnterpriseScript}function n$(){return jf.gapiScript}function RR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var r$="recaptcha-enterprise",i$="NO_RECAPTCHA",X_=class{constructor(e){this.type=r$,this.auth=jo(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){H3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new W_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;Y1(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(i$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Y1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=t$();u.length!==0&&(u+=a),AR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function eR(t,e,n,r=!1){return _(this,null,function*(){let i=new X_(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function e0(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield eR(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>_(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield eR(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function g0(t,e){let n=_u(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(xo(o,e??{}))return i;mr(i,"already-initialized")}return n.initialize({options:e})}function o$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Jr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function y0(t,e,n){let r=jo(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=MR(e),{host:s,port:a}=s$(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||a$()}function MR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s$(t){let e=MR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:tR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:tR(s)}}}function tR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function a$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Du=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}};function c$(t,e){return _(this,null,function*(){return ei(t,"POST","/v1/accounts:signUp",e)})}function u$(t,e){return _(this,null,function*(){return Su(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))})}function l$(t,e){return _(this,null,function*(){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))})}function d$(t,e){return _(this,null,function*(){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))})}var Cu=class t extends Du{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e0(e,n,"signInWithPassword",u$);case"emailLink":return l$(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e0(e,r,"signUpPassword",c$);case"emailLink":return d$(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function H_(t,e){return _(this,null,function*(){return Su(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))})}function h$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f$(t){let e=sa(aa(t)).link,n=e?sa(aa(e)).deep_link_id:null,r=sa(aa(t)).deep_link_id;return(r?sa(aa(r)).link:null)||r||n||e||t}var Pf=class t{constructor(e){var n,r,i,o,s,a;let u=sa(aa(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=h$((i=u.mode)!==null&&i!==void 0?i:null);te(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=f$(e);try{return new t(n)}catch{return null}}};var xR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Cu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Pf.parseLink(r);return te(i,"argument-error"),Cu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Of=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var t0=class extends Of{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function p$(t,e){return _(this,null,function*(){return Su(t,"POST","/v1/accounts:signUp",Ki(t,e))})}var pa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield fa._fromIdTokenResponse(e,r,i),s=nR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=nR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function nR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var n0=class t extends yn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function NR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?n0._fromErrorAndOperation(t,o,e,r):o})}function m$(t,e,n=!1){return _(this,null,function*(){let r=yield ha(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return pa._forOperation(t,"link",r)})}function g$(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Wn(r.app))return Promise.reject(Xr(r));let i="reauthenticate";try{let o=yield ha(t,NR(r,i,e,t),n);te(o.idToken,r,"internal-error");let s=f0(o.idToken);te(s,r,"internal-error");let{sub:a}=s;return te(t.uid===a,r,"user-mismatch"),pa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&mr(r,"user-mismatch"),o}})}function PR(t,e,n=!1){return _(this,null,function*(){if(Wn(t.app))return Promise.reject(Xr(t));let r="signIn",i=yield NR(t,r,e),o=yield pa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function v0(t,e){return _(this,null,function*(){return PR(jo(t),e)})}function OR(t){return _(this,null,function*(){let e=jo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function _0(t,e,n){return _(this,null,function*(){if(Wn(t.app))return Promise.reject(Xr(t));let r=jo(t),s=yield e0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p$).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&OR(t),u}),a=yield pa._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function w0(t,e,n){return Wn(t.app)?Promise.reject(Xr(t)):v0(ht(t),xR.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&OR(t),r}))}function y$(t,e){return _(this,null,function*(){return ei(t,"POST","/v1/accounts:update",e)})}function I0(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=ht(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield ha(o,y$(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function Au(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function E0(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}var kf="__sak";var Ff=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var v$=1e3,_$=10,w$=(()=>{class t extends Ff{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Z3()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,_$):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},v$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield di(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield di(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield di(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),kR=w$;var I$=(()=>{class t extends Ff{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),b0=I$;function E$(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var b$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield E$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function FR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var r0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=FR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function pr(){return window}function D$(t){pr().location.href=t}function LR(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}function C$(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function T$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function S$(){return LR()?self:null}var VR="firebaseLocalStorageDb",A$=1,Lf="firebaseLocalStorage",jR="fbase_key",Vo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Uf(t,e){return t.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function R$(){let t=indexedDB.deleteDatabase(VR);return new Vo(t).toPromise()}function i0(){let t=indexedDB.open(VR,A$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Lf,{keyPath:jR})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Lf)?e(r):(r.close(),yield R$(),e(yield i0()))}))})}function rR(t,e,n){return _(this,null,function*(){let r=Uf(t,!0).put({[jR]:e,value:n});return new Vo(r).toPromise()})}function M$(t,e){return _(this,null,function*(){let n=Uf(t,!1).get(e),r=yield new Vo(n).toPromise();return r===void 0?null:r.value})}function iR(t,e){let n=Uf(t,!0).delete(e);return new Vo(n).toPromise()}var x$=800,N$=3,P$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield i0(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>N$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return LR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=b$._getInstance(S$()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield C$(),!this.activeServiceWorker)return;this.sender=new r0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||T$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield i0();return yield rR(n,kf,"1"),yield iR(n,kf),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>rR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>M$(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>iR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=Uf(o,!1).getAll();return new Vo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),x$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),UR=P$;var YY=RR("rcb"),ZY=new Lo(3e4,6e4);function O$(t,e){return e?Jr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Tu=class extends Du{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return H_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return H_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return H_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function k$(t){return PR(t.auth,new Tu(t),t.bypassAuthState)}function F$(t){let{auth:e,user:n}=t;return te(n,e,"internal-error"),g$(n,new Tu(t),t.bypassAuthState)}function L$(t){return _(this,null,function*(){let{auth:e,user:n}=t;return te(n,e,"internal-error"),m$(n,new Tu(t),t.bypassAuthState)})}var o0=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k$;case"linkViaPopup":case"linkViaRedirect":return L$;case"reauthViaPopup":case"reauthViaRedirect":return F$;default:mr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var JY=new Lo(2e3,1e4);var V$="pendingRedirect",Tf=new Map,s0=class t extends o0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Tf.get(this.auth._key());if(!e){try{let r=(yield j$(this.resolver,this.auth))?yield di(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return di(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,di(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function j$(t,e){return _(this,null,function*(){let n=$$(e),r=B$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function U$(t,e){Tf.set(t._key(),e)}function B$(t){return Jr(t._redirectPersistence)}function $$(t){return Cf(V$,t.config.apiKey,t.name)}function H$(t,e,n=!1){return _(this,null,function*(){if(Wn(t.app))return Promise.reject(Xr(t));let r=jo(t),i=O$(r,e),s=yield new s0(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var q$=10*60*1e3,a0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q$&&this.cachedEventUids.clear(),this.cachedEventUids.has(oR(e))}saveEventToCache(e){this.cachedEventUids.add(oR(e)),this.lastProcessedEventTime=Date.now()}};function oR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function z$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BR(t);default:return!1}}function G$(n){return _(this,arguments,function*(t,e={}){return ei(t,"GET","/v1/projects",e)})}var W$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K$=/^https?/;function Q$(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield G$(t);for(let n of e)try{if(Y$(n))return}catch{}mr(t,"unauthorized-domain")})}function Y$(t){let e=z_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!K$.test(n))return!1;if(W$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Z$=new Lo(3e4,6e4);function sR(){let t=pr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function J$(t){return new Promise((e,n)=>{var r,i,o;function s(){sR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sR(),n(Fo(t,"network-request-failed"))},timeout:Z$.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=pr().gapi)===null||o===void 0)&&o.load)s();else{let a=RR("iframefcb");return pr()[a]=()=>{gapi.load?s():n(Fo(t,"network-request-failed"))},AR(`${n$()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Sf=null,e})}var Sf=null;function X$(t){return Sf=Sf||J$(t),Sf}var e5=new Lo(5e3,15e3),t5="__/auth/iframe",n5="emulator/auth/iframe",r5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o5(t){let e=t.config;te(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?d0(e,n5):`https://${t.config.authDomain}/${t5}`,r={apiKey:e.apiKey,appName:t.name,v:zi},i=i5.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gu(r).slice(1)}`}function s5(t){return _(this,null,function*(){let e=yield X$(t),n=pr().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:o5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r5,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Fo(t,"network-request-failed"),a=pr().setTimeout(()=>{o(s)},e5.get());function u(){pr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var a5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c5=500,u5=600,l5="_blank",d5="http://localhost",Vf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function h5(t,e,n,r=c5,i=u5){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},a5),{width:r.toString(),height:i.toString(),top:o,left:s}),l=gt().toLowerCase();n&&(a=IR(l)?l5:n),_R(l)&&(e=e||d5,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,C])=>`${g}${y}=${C},`,"");if(Y3(l)&&a!=="_self")return f5(e||"",a),new Vf(null);let p=window.open(e||"",a,h);te(p,t,"popup-blocked");try{p.focus()}catch{}return new Vf(p)}function f5(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var p5="__/auth/handler",m5="emulator/auth/handler",g5=encodeURIComponent("fac");function aR(t,e,n,r,i,o){return _(this,null,function*(){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zi,eventId:i};if(e instanceof Of){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",x1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof t0){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${g5}=${encodeURIComponent(u)}`:"";return`${y5(t)}?${gu(a).slice(1)}${l}`})}function y5({config:t}){return t.emulator?d0(t,m5):`https://${t.authDomain}/${p5}`}var q_="webStorageSupport",c0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b0,this._completeRedirectFn=H$,this._overrideRedirectResult=U$}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Wi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield aR(e,n,r,z_(),i);return h5(e,s,FR())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield aR(e,n,r,z_(),i);return D$(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Wi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield s5(e),r=new a0(e);return n.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(q_,{type:q_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[q_];s!==void 0&&n(!!s),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TR()||wR()||m0()}},$R=c0;var cR="@firebase/auth",uR="1.7.9";var u0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function v5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _5(t){qi(new An("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SR(t)},l=new J_(r,i,o,u);return o$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qi(new An("auth-internal",e=>{let n=jo(e.getProvider("auth").getImmediate());return(r=>new u0(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ft(cR,uR,v5(t)),ft(cR,uR,"esm2017")}var w5=5*60,I5=b_("authIdTokenMaxAge")||w5,lR=null,E5=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I5)return;let i=n?.token;lR!==i&&(lR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function D0(t=ca()){let e=_u(t,"auth");if(e.isInitialized())return e.getImmediate();let n=g0(t,{popupRedirectResolver:$R,persistence:[UR,kR,b0]}),r=b_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=E5(o.toString());E0(n,s,()=>s(n.currentUser)),Au(n,a=>s(a))}}let i=I_("auth");return i&&y0(n,`http://${i}`),n}function b5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}e$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Fo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",b5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_5("Browser");function zR(t){return new ue(function(e){var n=Au(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var GR="auth",Uo=class{constructor(e){return e}},Ru=class{constructor(){return wu(GR)}};var C0=new G("angularfire2.auth-instances");function d6(t,e){let n=If(GR,t,e);return n&&new Uo(n)}function h6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Uo(r)}}var f6={provide:Ru,deps:[[new Bt,C0]]},p6={provide:Uo,useFactory:d6,deps:[[new Bt,C0],Yr]};function WR(t,...e){return ft("angularfire",Oo.full,"auth"),un([p6,f6,{provide:C0,useFactory:h6(t),multi:!0,deps:[Me,xt,da,ko,[new Bt,la],...e]}])}var KR=Dt(zR,!0);var QR=Dt(_0,!0);var YR=Dt(D0,!0);var ZR=Dt(w0,!0);var JR=Dt(I0,!0);var XR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eM={};var Qi,T0;(function(){var t;function e(b,v){function w(){}w.prototype=v.prototype,b.D=v.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(D,T,R){for(var I=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)I[Cr-2]=arguments[Cr];return v.prototype[T].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,w){w||(w=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(T=0;16>T;++T)D[T]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=b.g[0],w=b.g[1],T=b.g[2];var R=b.g[3],I=v+(R^w&(T^R))+D[0]+3614090360&4294967295;v=w+(I<<7&4294967295|I>>>25),I=R+(T^v&(w^T))+D[1]+3905402710&4294967295,R=v+(I<<12&4294967295|I>>>20),I=T+(w^R&(v^w))+D[2]+606105819&4294967295,T=R+(I<<17&4294967295|I>>>15),I=w+(v^T&(R^v))+D[3]+3250441966&4294967295,w=T+(I<<22&4294967295|I>>>10),I=v+(R^w&(T^R))+D[4]+4118548399&4294967295,v=w+(I<<7&4294967295|I>>>25),I=R+(T^v&(w^T))+D[5]+1200080426&4294967295,R=v+(I<<12&4294967295|I>>>20),I=T+(w^R&(v^w))+D[6]+2821735955&4294967295,T=R+(I<<17&4294967295|I>>>15),I=w+(v^T&(R^v))+D[7]+4249261313&4294967295,w=T+(I<<22&4294967295|I>>>10),I=v+(R^w&(T^R))+D[8]+1770035416&4294967295,v=w+(I<<7&4294967295|I>>>25),I=R+(T^v&(w^T))+D[9]+2336552879&4294967295,R=v+(I<<12&4294967295|I>>>20),I=T+(w^R&(v^w))+D[10]+4294925233&4294967295,T=R+(I<<17&4294967295|I>>>15),I=w+(v^T&(R^v))+D[11]+2304563134&4294967295,w=T+(I<<22&4294967295|I>>>10),I=v+(R^w&(T^R))+D[12]+1804603682&4294967295,v=w+(I<<7&4294967295|I>>>25),I=R+(T^v&(w^T))+D[13]+4254626195&4294967295,R=v+(I<<12&4294967295|I>>>20),I=T+(w^R&(v^w))+D[14]+2792965006&4294967295,T=R+(I<<17&4294967295|I>>>15),I=w+(v^T&(R^v))+D[15]+1236535329&4294967295,w=T+(I<<22&4294967295|I>>>10),I=v+(T^R&(w^T))+D[1]+4129170786&4294967295,v=w+(I<<5&4294967295|I>>>27),I=R+(w^T&(v^w))+D[6]+3225465664&4294967295,R=v+(I<<9&4294967295|I>>>23),I=T+(v^w&(R^v))+D[11]+643717713&4294967295,T=R+(I<<14&4294967295|I>>>18),I=w+(R^v&(T^R))+D[0]+3921069994&4294967295,w=T+(I<<20&4294967295|I>>>12),I=v+(T^R&(w^T))+D[5]+3593408605&4294967295,v=w+(I<<5&4294967295|I>>>27),I=R+(w^T&(v^w))+D[10]+38016083&4294967295,R=v+(I<<9&4294967295|I>>>23),I=T+(v^w&(R^v))+D[15]+3634488961&4294967295,T=R+(I<<14&4294967295|I>>>18),I=w+(R^v&(T^R))+D[4]+3889429448&4294967295,w=T+(I<<20&4294967295|I>>>12),I=v+(T^R&(w^T))+D[9]+568446438&4294967295,v=w+(I<<5&4294967295|I>>>27),I=R+(w^T&(v^w))+D[14]+3275163606&4294967295,R=v+(I<<9&4294967295|I>>>23),I=T+(v^w&(R^v))+D[3]+4107603335&4294967295,T=R+(I<<14&4294967295|I>>>18),I=w+(R^v&(T^R))+D[8]+1163531501&4294967295,w=T+(I<<20&4294967295|I>>>12),I=v+(T^R&(w^T))+D[13]+2850285829&4294967295,v=w+(I<<5&4294967295|I>>>27),I=R+(w^T&(v^w))+D[2]+4243563512&4294967295,R=v+(I<<9&4294967295|I>>>23),I=T+(v^w&(R^v))+D[7]+1735328473&4294967295,T=R+(I<<14&4294967295|I>>>18),I=w+(R^v&(T^R))+D[12]+2368359562&4294967295,w=T+(I<<20&4294967295|I>>>12),I=v+(w^T^R)+D[5]+4294588738&4294967295,v=w+(I<<4&4294967295|I>>>28),I=R+(v^w^T)+D[8]+2272392833&4294967295,R=v+(I<<11&4294967295|I>>>21),I=T+(R^v^w)+D[11]+1839030562&4294967295,T=R+(I<<16&4294967295|I>>>16),I=w+(T^R^v)+D[14]+4259657740&4294967295,w=T+(I<<23&4294967295|I>>>9),I=v+(w^T^R)+D[1]+2763975236&4294967295,v=w+(I<<4&4294967295|I>>>28),I=R+(v^w^T)+D[4]+1272893353&4294967295,R=v+(I<<11&4294967295|I>>>21),I=T+(R^v^w)+D[7]+4139469664&4294967295,T=R+(I<<16&4294967295|I>>>16),I=w+(T^R^v)+D[10]+3200236656&4294967295,w=T+(I<<23&4294967295|I>>>9),I=v+(w^T^R)+D[13]+681279174&4294967295,v=w+(I<<4&4294967295|I>>>28),I=R+(v^w^T)+D[0]+3936430074&4294967295,R=v+(I<<11&4294967295|I>>>21),I=T+(R^v^w)+D[3]+3572445317&4294967295,T=R+(I<<16&4294967295|I>>>16),I=w+(T^R^v)+D[6]+76029189&4294967295,w=T+(I<<23&4294967295|I>>>9),I=v+(w^T^R)+D[9]+3654602809&4294967295,v=w+(I<<4&4294967295|I>>>28),I=R+(v^w^T)+D[12]+3873151461&4294967295,R=v+(I<<11&4294967295|I>>>21),I=T+(R^v^w)+D[15]+530742520&4294967295,T=R+(I<<16&4294967295|I>>>16),I=w+(T^R^v)+D[2]+3299628645&4294967295,w=T+(I<<23&4294967295|I>>>9),I=v+(T^(w|~R))+D[0]+4096336452&4294967295,v=w+(I<<6&4294967295|I>>>26),I=R+(w^(v|~T))+D[7]+1126891415&4294967295,R=v+(I<<10&4294967295|I>>>22),I=T+(v^(R|~w))+D[14]+2878612391&4294967295,T=R+(I<<15&4294967295|I>>>17),I=w+(R^(T|~v))+D[5]+4237533241&4294967295,w=T+(I<<21&4294967295|I>>>11),I=v+(T^(w|~R))+D[12]+1700485571&4294967295,v=w+(I<<6&4294967295|I>>>26),I=R+(w^(v|~T))+D[3]+2399980690&4294967295,R=v+(I<<10&4294967295|I>>>22),I=T+(v^(R|~w))+D[10]+4293915773&4294967295,T=R+(I<<15&4294967295|I>>>17),I=w+(R^(T|~v))+D[1]+2240044497&4294967295,w=T+(I<<21&4294967295|I>>>11),I=v+(T^(w|~R))+D[8]+1873313359&4294967295,v=w+(I<<6&4294967295|I>>>26),I=R+(w^(v|~T))+D[15]+4264355552&4294967295,R=v+(I<<10&4294967295|I>>>22),I=T+(v^(R|~w))+D[6]+2734768916&4294967295,T=R+(I<<15&4294967295|I>>>17),I=w+(R^(T|~v))+D[13]+1309151649&4294967295,w=T+(I<<21&4294967295|I>>>11),I=v+(T^(w|~R))+D[4]+4149444226&4294967295,v=w+(I<<6&4294967295|I>>>26),I=R+(w^(v|~T))+D[11]+3174756917&4294967295,R=v+(I<<10&4294967295|I>>>22),I=T+(v^(R|~w))+D[2]+718787259&4294967295,T=R+(I<<15&4294967295|I>>>17),I=w+(R^(T|~v))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+R&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var w=v-this.blockSize,D=this.B,T=this.h,R=0;R<v;){if(T==0)for(;R<=w;)i(this,b,R),R+=this.blockSize;if(typeof b=="string"){for(;R<v;)if(D[T++]=b.charCodeAt(R++),T==this.blockSize){i(this,D),T=0;break}}else for(;R<v;)if(D[T++]=b[R++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var w=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=w&255,w/=256;for(this.u(b),b=Array(16),v=w=0;4>v;++v)for(var D=0;32>D;D+=8)b[w++]=this.g[v]>>>D&255;return b};function o(b,v){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=v(b)}function s(b,v){this.h=v;for(var w=[],D=!0,T=b.length-1;0<=T;T--){var R=b[T]|0;D&&R==v||(w[T]=R,D=!1)}this.g=w}var a={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return M(l(-b));for(var v=[],w=1,D=0;b>=w;D++)v[D]=b/w|0,w*=4294967296;return new s(v,0)}function h(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return M(h(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),D=p,T=0;T<b.length;T+=8){var R=Math.min(8,b.length-T),I=parseInt(b.substring(T,T+R),v);8>R?(R=l(Math.pow(v,R)),D=D.j(R).add(l(I))):(D=D.j(w),D=D.add(l(I)))}return D}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-M(this).m();for(var b=0,v=1,w=0;w<this.g.length;w++){var D=this.i(w);b+=(0<=D?D:4294967296+D)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(N(this))return"-"+M(this).toString(b);for(var v=l(Math.pow(b,6)),w=this,D="";;){var T=Z(w,v).g;w=V(w,T.j(v));var R=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=T,C(w))return R+D;for(;6>R.length;)R="0"+R;D=R+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function N(b){return b.h==-1}t.l=function(b){return b=V(this,b),N(b)?-1:C(b)?0:1};function M(b){for(var v=b.g.length,w=[],D=0;D<v;D++)w[D]=~b.g[D];return new s(w,~b.h).add(g)}t.abs=function(){return N(this)?M(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0,T=0;T<=v;T++){var R=D+(this.i(T)&65535)+(b.i(T)&65535),I=(R>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);D=I>>>16,R&=65535,I&=65535,w[T]=I<<16|R}return new s(w,w[w.length-1]&-2147483648?-1:0)};function V(b,v){return b.add(M(v))}t.j=function(b){if(C(this)||C(b))return p;if(N(this))return N(b)?M(this).j(M(b)):M(M(this).j(b));if(N(b))return M(this.j(M(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var v=this.g.length+b.g.length,w=[],D=0;D<2*v;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<b.g.length;T++){var R=this.i(D)>>>16,I=this.i(D)&65535,Cr=b.i(T)>>>16,ja=b.i(T)&65535;w[2*D+2*T]+=I*ja,z(w,2*D+2*T),w[2*D+2*T+1]+=R*ja,z(w,2*D+2*T+1),w[2*D+2*T+1]+=I*Cr,z(w,2*D+2*T+1),w[2*D+2*T+2]+=R*Cr,z(w,2*D+2*T+2)}for(D=0;D<v;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=v;D<2*v;D++)w[D]=0;return new s(w,0)};function z(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function $(b,v){this.g=b,this.h=v}function Z(b,v){if(C(v))throw Error("division by zero");if(C(b))return new $(p,p);if(N(b))return v=Z(M(b),v),new $(M(v.g),M(v.h));if(N(v))return v=Z(b,M(v)),new $(M(v.g),v.h);if(30<b.g.length){if(N(b)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var w=g,D=v;0>=D.l(b);)w=we(w),D=we(D);var T=X(w,1),R=X(D,1);for(D=X(D,2),w=X(w,2);!C(D);){var I=R.add(D);0>=I.l(b)&&(T=T.add(w),R=I),D=X(D,1),w=X(w,1)}return v=V(b,T.j(v)),new $(T,v)}for(T=p;0<=b.l(v);){for(w=Math.max(1,Math.floor(b.m()/v.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),R=l(w),I=R.j(v);N(I)||0<I.l(b);)w-=D,R=l(w),I=R.j(v);C(R)&&(R=g),T=T.add(R),b=V(b,I)}return new $(T,b)}t.A=function(b){return Z(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)&b.i(D);return new s(w,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)|b.i(D);return new s(w,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)^b.i(D);return new s(w,this.h^b.h)};function we(b){for(var v=b.g.length+1,w=[],D=0;D<v;D++)w[D]=b.i(D)<<1|b.i(D-1)>>>31;return new s(w,b.h)}function X(b,v){var w=v>>5;v%=32;for(var D=b.g.length-w,T=[],R=0;R<D;R++)T[R]=0<v?b.i(R+w)>>>v|b.i(R+w+1)<<32-v:b.i(R+w);return new s(T,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,T0=eM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Qi=eM.Integer=s}).apply(typeof XR<"u"?XR:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ti={};var S0,m6,ma,A0,Mu,$f,R0,M0,x0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var A=c[m];if(!(A in f))break e;f=f[A]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,A={next:function(){if(!m&&f<c.length){var x=f++;return{value:d(x,c[x]),done:!1}}return m=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,m),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,A,x){for(var j=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)j[Pe-2]=arguments[Pe];return d.prototype[A].apply(m,j)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let A=c.length||0,x=m.length||0;c.length=A+x;for(let j=0;j<x;j++)c[A+j]=m[j]}else c.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var we=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function X(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,m;for(let A=1;A<arguments.length;A++){m=arguments[A];for(f in m)c[f]=m[f];for(let x=0;x<w.length;x++)f=w[x],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Jp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Cr{constructor(){this.h=this.g=null}add(d,f){let m=ja.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ja=new V(()=>new iN,c=>c.reset());class iN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ua,Ba=!1,Jp=new Cr,LI=()=>{let c=a.Promise.resolve(void 0);Ua=()=>{c.then(oN)}};var oN=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){R(f)}var d=ja;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ba=!1};function ai(){this.s=this.s,this.C=this.C}ai.prototype.s=!1,ai.prototype.ma=function(){this.s||(this.s=!0,this.N())},ai.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var sN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function $a(c,d){if(Tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(we){e:{try{Z(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:aN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$a.aa.h.call(this)}}C($a,Tt);var aN={2:"touch",3:"pen",4:"mouse"};$a.prototype.h=function(){$a.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),cN=0;function uN(c,d,f,m,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=A,this.key=++cN,this.da=this.fa=!1}function Xu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function el(c){this.src=c,this.g={},this.h=0}el.prototype.add=function(c,d,f,m,A){var x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);var j=em(c,d,m,A);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new uN(d,this.src,x,!!m,A),d.fa=f,c.push(d)),d};function Xp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],A=Array.prototype.indexOf.call(m,d,void 0),x;(x=0<=A)&&Array.prototype.splice.call(m,A,1),x&&(Xu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function em(c,d,f,m){for(var A=0;A<c.length;++A){var x=c[A];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==m)return A}return-1}var tm="closure_lm_"+(1e6*Math.random()|0),nm={};function VI(c,d,f,m,A){if(m&&m.once)return UI(c,d,f,m,A);if(Array.isArray(d)){for(var x=0;x<d.length;x++)VI(c,d[x],f,m,A);return null}return f=sm(f),c&&c[Ha]?c.K(d,f,l(m)?!!m.capture:!!m,A):jI(c,d,f,!1,m,A)}function jI(c,d,f,m,A,x){if(!d)throw Error("Invalid event type");var j=l(A)?!!A.capture:!!A,Pe=im(c);if(Pe||(c[tm]=Pe=new el(c)),f=Pe.add(d,f,m,j,x),f.proxy)return f;if(m=lN(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)sN||(A=j),A===void 0&&(A=!1),c.addEventListener(d.toString(),m,A);else if(c.attachEvent)c.attachEvent($I(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function lN(){function c(f){return d.call(c.src,c.listener,f)}let d=dN;return c}function UI(c,d,f,m,A){if(Array.isArray(d)){for(var x=0;x<d.length;x++)UI(c,d[x],f,m,A);return null}return f=sm(f),c&&c[Ha]?c.L(d,f,l(m)?!!m.capture:!!m,A):jI(c,d,f,!0,m,A)}function BI(c,d,f,m,A){if(Array.isArray(d))for(var x=0;x<d.length;x++)BI(c,d[x],f,m,A);else m=l(m)?!!m.capture:!!m,f=sm(f),c&&c[Ha]?(c=c.i,d=String(d).toString(),d in c.g&&(x=c.g[d],f=em(x,f,m,A),-1<f&&(Xu(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete c.g[d],c.h--)))):c&&(c=im(c))&&(d=c.g[d.toString()],c=-1,d&&(c=em(d,f,m,A)),(f=-1<c?d[c]:null)&&rm(f))}function rm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ha])Xp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent($I(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=im(d))?(Xp(f,c),f.h==0&&(f.src=null,d[tm]=null)):Xu(c)}}}function $I(c){return c in nm?nm[c]:nm[c]="on"+c}function dN(c,d){if(c.da)c=!0;else{d=new $a(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&rm(c),c=f.call(m,d)}return c}function im(c){return c=c[tm],c instanceof el?c:null}var om="__closure_events_fn_"+(1e9*Math.random()>>>0);function sm(c){return typeof c=="function"?c:(c[om]||(c[om]=function(d){return c.handleEvent(d)}),c[om])}function St(){ai.call(this),this.i=new el(this),this.M=this,this.F=null}C(St,ai),St.prototype[Ha]=!0,St.prototype.removeEventListener=function(c,d,f,m){BI(this,c,d,f,m)};function Lt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Tt(d,c);else if(d instanceof Tt)d.target=d.target||c;else{var A=d;d=new Tt(m,c),D(d,A)}if(A=!0,f)for(var x=f.length-1;0<=x;x--){var j=d.g=f[x];A=tl(j,m,!0,d)&&A}if(j=d.g=c,A=tl(j,m,!0,d)&&A,A=tl(j,m,!1,d)&&A,f)for(x=0;x<f.length;x++)j=d.g=f[x],A=tl(j,m,!1,d)&&A}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Xu(f[m]);delete c.g[d],c.h--}}this.F=null},St.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},St.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function tl(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,x=0;x<d.length;++x){var j=d[x];if(j&&!j.da&&j.capture==f){var Pe=j.listener,vt=j.ha||j.src;j.fa&&Xp(c.i,j),A=Pe.call(vt,m)!==!1&&A}}return A&&!m.defaultPrevented}function HI(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function qI(c){c.g=HI(()=>{c.g=null,c.i&&(c.i=!1,qI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class hN extends ai{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:qI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(c){ai.call(this),this.h=c,this.g={}}C(qa,ai);var zI=[];function GI(c){X(c.g,function(d,f){this.g.hasOwnProperty(f)&&rm(d)},c),c.g={}}qa.prototype.N=function(){qa.aa.N.call(this),GI(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var am=a.JSON.stringify,fN=a.JSON.parse,pN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function cm(){}cm.prototype.h=null;function WI(c){return c.h||(c.h=c.i())}function KI(){}var za={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function um(){Tt.call(this,"d")}C(um,Tt);function lm(){Tt.call(this,"c")}C(lm,Tt);var to={},QI=null;function nl(){return QI=QI||new St}to.La="serverreachability";function YI(c){Tt.call(this,to.La,c)}C(YI,Tt);function Ga(c){let d=nl();Lt(d,new YI(d))}to.STAT_EVENT="statevent";function ZI(c,d){Tt.call(this,to.STAT_EVENT,c),this.stat=d}C(ZI,Tt);function Vt(c){let d=nl();Lt(d,new ZI(d,c))}to.Ma="timingevent";function JI(c,d){Tt.call(this,to.Ma,c),this.size=d}C(JI,Tt);function Wa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ka(){this.g=!0}Ka.prototype.xa=function(){this.g=!1};function mN(c,d,f,m,A,x){c.info(function(){if(c.g)if(x)for(var j="",Pe=x.split("&"),vt=0;vt<Pe.length;vt++){var De=Pe[vt].split("=");if(1<De.length){var At=De[0];De=De[1];var Rt=At.split("_");j=2<=Rt.length&&Rt[1]=="type"?j+(At+"="+De+"&"):j+(At+"=redacted&")}}else j=null;else j=x;return"XMLHTTP REQ ("+m+") [attempt "+A+"]: "+d+`
`+f+`
`+j})}function gN(c,d,f,m,A,x,j){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+A+"]: "+d+`
`+f+`
`+x+" "+j})}function Xo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+vN(c,f)+(m?" "+m:"")})}function yN(c,d){c.info(function(){return"TIMEOUT: "+d})}Ka.prototype.info=function(){};function vN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var A=m[1];if(Array.isArray(A)&&!(1>A.length)){var x=A[0];if(x!="noop"&&x!="stop"&&x!="close")for(var j=1;j<A.length;j++)A[j]=""}}}}return am(f)}catch{return d}}var rl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},XI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dm;function il(){}C(il,cm),il.prototype.g=function(){return new XMLHttpRequest},il.prototype.i=function(){return{}},dm=new il;function ci(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new qa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eE}function eE(){this.i=null,this.g="",this.h=!1}var tE={},hm={};function fm(c,d,f){c.L=1,c.v=cl(Tr(d)),c.m=f,c.P=!0,nE(c,null)}function nE(c,d){c.F=Date.now(),ol(c),c.A=Tr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),gE(f.i,"t",m),c.C=0,f=c.j.J,c.h=new eE,c.g=OE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new hN(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(zI[0]=A.toString()),A=zI);for(var x=0;x<A.length;x++){var j=VI(f,A[x],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ga(),mN(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;let d=this.M;d&&Sr(c)==3?d.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)e:{let Rt=Sr(this.g);var d=this.g.Ba();let ns=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||bE(this.g)))){this.J||Rt!=4||d==7||(d==8||0>=ns?Ga(3):Ga(2)),pm(this);var f=this.g.Z();this.X=f;t:if(rE(this)){var m=bE(this.g);c="";var A=m.length,x=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){no(this),Qa(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(x&&d==A-1)});m.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,gN(this.i,this.u,this.A,this.l,this.R,Rt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,vt=this.g;if((Pe=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Pe)){var De=Pe;break t}}De=null}if(f=De)Xo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mm(this,f);else{this.o=!1,this.s=3,Vt(12),no(this),Qa(this);break e}}if(this.P){f=!0;let Nn;for(;!this.J&&this.C<j.length;)if(Nn=_N(this,j),Nn==hm){Rt==4&&(this.s=4,Vt(14),f=!1),Xo(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==tE){this.s=4,Vt(15),Xo(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Xo(this.i,this.l,Nn,null),mm(this,Nn);if(rE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||j.length!=0||this.h.h||(this.s=1,Vt(16),f=!1),this.o=this.o&&f,!f)Xo(this.i,this.l,j,"[Invalid Chunked Response]"),no(this),Qa(this);else if(0<j.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Im(At),At.M=!0,Vt(11))}}else Xo(this.i,this.l,j,null),mm(this,j);Rt==4&&no(this),this.o&&!this.J&&(Rt==4?ME(this.j,this):(this.o=!1,ol(this)))}else FN(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),no(this),Qa(this)}}}catch{}finally{}};function rE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _N(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?hm:(f=Number(d.substring(f,m)),isNaN(f)?tE:(m+=1,m+f>d.length?hm:(d=d.slice(m,m+f),c.C=m+f,d)))}ci.prototype.cancel=function(){this.J=!0,no(this)};function ol(c){c.S=Date.now()+c.I,iE(c,c.I)}function iE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Wa(g(c.ba,c),d)}function pm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(yN(this.i,this.A),this.L!=2&&(Ga(),Vt(17)),no(this),this.s=2,Qa(this)):iE(this,this.S-c)};function Qa(c){c.j.G==0||c.J||ME(c.j,c)}function no(c){pm(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,GI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function mm(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||gm(f.h,c))){if(!c.K&&gm(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var A=m;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)fl(f),dl(f);else break e;wm(f),Vt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=Wa(g(f.Za,f),6e3));if(1>=aE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else io(f,11)}else if((c.K||f.g==c)&&fl(f),!z(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let De=A[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let At=De[3];At!=null&&(f.la=At,f.j.info("VER="+f.la));let Rt=De[4];Rt!=null&&(f.Aa=Rt,f.j.info("SVER="+f.Aa));let ns=De[5];ns!=null&&typeof ns=="number"&&0<ns&&(m=1.5*ns,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Nn=c.g;if(Nn){let ml=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var x=m.h;x.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(ym(x,x.h),x.h=null))}if(m.D){let Em=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Em&&(m.ya=Em,$e(m.I,m.D,Em))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var j=c;if(m.qa=PE(m,m.J?m.ia:null,m.W),j.K){cE(m.h,j);var Pe=j,vt=m.L;vt&&(Pe.I=vt),Pe.B&&(pm(Pe),ol(Pe)),m.g=j}else AE(m);0<f.i.length&&hl(f)}else De[0]!="stop"&&De[0]!="close"||io(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?io(f,7):_m(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}Ga(4)}catch{}}var wN=class{constructor(c,d){this.g=c,this.map=d}};function oE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aE(c){return c.h?1:c.g?c.g.size:0}function gm(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function ym(c,d){c.g?c.g.add(d):c.h=d}function cE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}oE.prototype.cancel=function(){if(this.i=uE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function uE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function IN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function EN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function lE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=EN(c),m=IN(c),A=m.length,x=0;x<A;x++)d.call(void 0,m[x],f&&f[x],c)}var dE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),A=null;if(0<=m){var x=c[f].substring(0,m);A=c[f].substring(m+1)}else x=c[f];d(x,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function ro(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ro){this.h=c.h,sl(this,c.j),this.o=c.o,this.g=c.g,al(this,c.s),this.l=c.l;var d=c.i,f=new Ja;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),hE(this,f),this.m=c.m}else c&&(d=String(c).match(dE))?(this.h=!1,sl(this,d[1]||"",!0),this.o=Ya(d[2]||""),this.g=Ya(d[3]||"",!0),al(this,d[4]),this.l=Ya(d[5]||"",!0),hE(this,d[6]||"",!0),this.m=Ya(d[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}ro.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Za(d,fE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Za(d,fE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Za(f,f.charAt(0)=="/"?TN:CN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Za(f,AN)),c.join("")};function Tr(c){return new ro(c)}function sl(c,d,f){c.j=f?Ya(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function al(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function hE(c,d,f){d instanceof Ja?(c.i=d,RN(c.i,c.h)):(f||(d=Za(d,SN)),c.i=new Ja(d,c.h))}function $e(c,d,f){c.i.set(d,f)}function cl(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ya(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Za(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,DN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function DN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fE=/[#\/\?@]/g,CN=/[#\?:]/g,TN=/[#\?]/g,SN=/[#\?@]/g,AN=/#/g;function Ja(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ui(c){c.g||(c.g=new Map,c.h=0,c.i&&bN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ja.prototype,t.add=function(c,d){ui(this),this.i=null,c=es(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function pE(c,d){ui(c),d=es(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function mE(c,d){return ui(c),d=es(c,d),c.g.has(d)}t.forEach=function(c,d){ui(this),this.g.forEach(function(f,m){f.forEach(function(A){c.call(d,A,m,this)},this)},this)},t.na=function(){ui(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let A=c[m];for(let x=0;x<A.length;x++)f.push(d[m])}return f},t.V=function(c){ui(this);let d=[];if(typeof c=="string")mE(this,c)&&(d=d.concat(this.g.get(es(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ui(this),this.i=null,c=es(this,c),mE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function gE(c,d,f){pE(c,d),0<f.length&&(c.i=null,c.g.set(es(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let x=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var A=x;j[m]!==""&&(A+="="+encodeURIComponent(String(j[m]))),c.push(A)}}return this.i=c.join("&")};function es(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function RN(c,d){d&&!c.j&&(ui(c),c.i=null,c.g.forEach(function(f,m){var A=m.toLowerCase();m!=A&&(pE(this,m),gE(this,A,f))},c)),c.j=d}function MN(c,d){let f=new Ka;if(a.Image){let m=new Image;m.onload=y(li,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(li,f,"TestLoadImage: error",!1,d,m),m.onabort=y(li,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(li,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function xN(c,d){let f=new Ka,m=new AbortController,A=setTimeout(()=>{m.abort(),li(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(x=>{clearTimeout(A),x.ok?li(f,"TestPingServer: ok",!0,d):li(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),li(f,"TestPingServer: error",!1,d)})}function li(c,d,f,m,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),m(f)}catch{}}function NN(){this.g=new pN}function PN(c,d,f){let m=f||"";try{lE(c,function(A,x){let j=A;l(A)&&(j=am(A)),d.push(m+x+"="+encodeURIComponent(j))})}catch(A){throw d.push(m+"type="+encodeURIComponent("_badmap")),A}}function Xa(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Xa,cm),Xa.prototype.g=function(){return new ul(this.l,this.j)},Xa.prototype.i=function(c){return function(){return c}}({});function ul(c,d){St.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ul,St),t=ul.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,tc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ec(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,tc(this)),this.g&&(this.readyState=3,tc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ec(this):tc(this),this.readyState==3&&yE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ec(this))},t.Qa=function(c){this.g&&(this.response=c,ec(this))},t.ga=function(){this.g&&ec(this)};function ec(c){c.readyState=4,c.l=null,c.j=null,c.v=null,tc(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function tc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vE(c){let d="";return X(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function vm(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=vE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):$e(c,d,f))}function We(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(We,St);var ON=/^https?$/i,kN=["POST","PUT"];t=We.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dm.g(),this.v=this.o?WI(this.o):WI(dm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(x){_E(this,x);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var A in m)f.set(A,m[A]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let x of m.keys())f.set(x,m.get(x));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kN,d,void 0))||m||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,j]of f)this.g.setRequestHeader(x,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{EE(this),this.u=!0,this.g.send(c),this.u=!1}catch(x){_E(this,x)}};function _E(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,wE(c),ll(c)}function wE(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),ll(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ll(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?IE(this):this.bb())},t.bb=function(){IE(this)};function IE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Sr(c)!=4||c.Z()!=2)){if(c.u&&Sr(c)==4)HI(c.Ea,0,c);else if(Lt(c,"readystatechange"),Sr(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=j===0){var A=String(c.D).match(dE)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),m=!ON.test(A?A.toLowerCase():"")}f=m}if(f)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var x=2<Sr(c)?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.Z()+"]",wE(c)}}finally{ll(c)}}}}function ll(c,d){if(c.g){EE(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Lt(c,"ready");try{f.onreadystatechange=m}catch{}}}function EE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),fN(d)}};function bE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function FN(c){let d={};c=(c.g&&2<=Sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(z(c[m]))continue;var f=T(c[m]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[A]||[];d[A]=x,x.push(f)}b(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function DE(c){this.Aa=0,this.i=[],this.j=new Ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nc("baseRetryDelayMs",5e3,c),this.cb=nc("retryDelaySeedMs",1e4,c),this.Wa=nc("forwardChannelMaxRetries",2,c),this.wa=nc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new oE(c&&c.concurrentRequestLimit),this.Da=new NN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=DE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Vt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=PE(this,null,this.W),hl(this)};function _m(c){if(CE(c),c.G==3){var d=c.U++,f=Tr(c.I);if($e(f,"SID",c.K),$e(f,"RID",d),$e(f,"TYPE","terminate"),rc(c,f),d=new ci(c,c.j,d),d.L=2,d.v=cl(Tr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=OE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ol(d)}NE(c)}function dl(c){c.g&&(Im(c),c.g.cancel(),c.g=null)}function CE(c){dl(c),c.u&&(a.clearTimeout(c.u),c.u=null),fl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function hl(c){if(!sE(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ua||LI(),Ba||(Ua(),Ba=!0),Jp.add(d,c),c.B=0}}function LN(c,d){return aE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Wa(g(c.Ga,c,d),xE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new ci(this,this.j,c),x=this.o;if(this.S&&(x?(x=v(x),D(x,this.S)):x=this.S),this.m!==null||this.O||(A.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=SE(this,A,d),f=Tr(this.I),$e(f,"RID",c),$e(f,"CVER",22),this.D&&$e(f,"X-HTTP-Session-Id",this.D),rc(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(vE(x)))+"&"+d:this.m&&vm(f,this.m,x)),ym(this.h,A),this.Ua&&$e(f,"TYPE","init"),this.P?($e(f,"$req",d),$e(f,"SID","null"),A.T=!0,fm(A,f,null)):fm(A,f,d),this.G=2}}else this.G==3&&(c?TE(this,c):this.i.length==0||sE(this.h)||TE(this))};function TE(c,d){var f;d?f=d.l:f=c.U++;let m=Tr(c.I);$e(m,"SID",c.K),$e(m,"RID",f),$e(m,"AID",c.T),rc(c,m),c.m&&c.o&&vm(m,c.m,c.o),f=new ci(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=SE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ym(c.h,f),fm(f,m,d)}function rc(c,d){c.H&&X(c.H,function(f,m){$e(d,m,f)}),c.l&&lE({},function(f,m){$e(d,m,f)})}function SE(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var A=c.i;let x=-1;for(;;){let j=["count="+f];x==-1?0<f?(x=A[0].g,j.push("ofs="+x)):x=0:j.push("ofs="+x);let Pe=!0;for(let vt=0;vt<f;vt++){let De=A[vt].g,At=A[vt].map;if(De-=x,0>De)x=Math.max(0,A[vt].g-100),Pe=!1;else try{PN(At,j,"req"+De+"_")}catch{m&&m(At)}}if(Pe){m=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function AE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ua||LI(),Ba||(Ua(),Ba=!0),Jp.add(d,c),c.v=0}}function wm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Wa(g(c.Fa,c),xE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,RE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Wa(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),dl(this),RE(this))};function Im(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function RE(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Tr(c.qa);$e(d,"RID","rpc"),$e(d,"SID",c.K),$e(d,"AID",c.T),$e(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(d,"TO",c.ja),$e(d,"TYPE","xmlhttp"),rc(c,d),c.m&&c.o&&vm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=cl(Tr(d)),f.m=null,f.P=!0,nE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,dl(this),wm(this),Vt(19))};function fl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ME(c,d){var f=null;if(c.g==d){fl(c),Im(c),c.g=null;var m=2}else if(gm(c.h,d))f=d.D,cE(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;m=nl(),Lt(m,new JI(m,f)),hl(c)}else AE(c);else if(A=d.s,A==3||A==0&&0<d.X||!(m==1&&LN(c,d)||m==2&&wm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:io(c,5);break;case 4:io(c,10);break;case 3:io(c,6);break;default:io(c,2)}}}function xE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function io(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let A=!m;m=new ro(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sl(m,"https"),cl(m),A?MN(m.toString(),f):xN(m.toString(),f)}else Vt(2);c.G=0,c.l&&c.l.sa(d),NE(c),CE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function NE(c){if(c.G=0,c.ka=[],c.l){let d=uE(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function PE(c,d,f){var m=f instanceof ro?Tr(f):new ro(f);if(m.g!="")d&&(m.g=d+"."+m.g),al(m,m.s);else{var A=a.location;m=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var x=new ro(null);m&&sl(x,m),d&&(x.g=d),A&&al(x,A),f&&(x.l=f),m=x}return f=c.D,d=c.ya,f&&d&&$e(m,f,d),$e(m,"VER",c.la),rc(c,m),m}function OE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new We(new Xa({eb:f})):new We(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kE(){}t=kE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pl(){}pl.prototype.g=function(c,d){return new tn(c,d)};function tn(c,d){St.call(this),this.g=new DE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ts(this)}C(tn,St),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){_m(this.g)},tn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=am(c),c=f);d.i.push(new wN(d.Ya++,c)),d.G==3&&hl(d)},tn.prototype.N=function(){this.g.l=null,delete this.j,_m(this.g),delete this.g,tn.aa.N.call(this)};function FE(c){um.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(FE,um);function LE(){lm.call(this),this.status=1}C(LE,lm);function ts(c){this.g=c}C(ts,kE),ts.prototype.ua=function(){Lt(this.g,"a")},ts.prototype.ta=function(c){Lt(this.g,new FE(c))},ts.prototype.sa=function(c){Lt(this.g,new LE)},ts.prototype.ra=function(){Lt(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,x0=ti.createWebChannelTransport=function(){return new pl},M0=ti.getStatEventTarget=function(){return nl()},R0=ti.Event=to,$f=ti.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,Mu=ti.ErrorCode=rl,XI.COMPLETE="complete",A0=ti.EventType=XI,KI.EventType=za,za.OPEN="a",za.CLOSE="b",za.ERROR="c",za.MESSAGE="d",St.prototype.listen=St.prototype.K,ma=ti.WebChannel=KI,m6=ti.FetchXmlHttpFactory=Xa,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,S0=ti.XhrIo=We}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});var tM="@firebase/firestore";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var Fa="10.14.0";var qo=new $i("@firebase/firestore");function xu(){return qo.logLevel}function W(t,...e){if(qo.logLevel<=ve.DEBUG){let n=e.map(hI);qo.debug(`Firestore (${Fa}): ${t}`,...n)}}function ri(t,...e){if(qo.logLevel<=ve.ERROR){let n=e.map(hI);qo.error(`Firestore (${Fa}): ${t}`,...n)}}function Ea(t,...e){if(qo.logLevel<=ve.WARN){let n=e.map(hI);qo.warn(`Firestore (${Fa}): ${t}`,...n)}}function hI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: `+t;throw ri(e),new Error(e)}function xe(t,e){t||ne()}function oe(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var yr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},F0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}},L0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},V0=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new Wf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new yt(e)}},j0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},U0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new j0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},B0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new B0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function g6(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Kf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=g6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ce(t,e){return t<e?-1:t>e?1:0}function ba(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ce=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ct(0,0))}static max(){return new t(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},tt=class t extends Qf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},y6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_n=class t extends Qf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return y6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Y(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var J=class t{constructor(e){this.path=e}static fromPath(e){return new t(tt.fromString(e))}static fromName(e){return new t(tt.fromString(e).popFirst(5))}static empty(){return new t(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new tt(e.slice()))}};var H0=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};H0.UNKNOWN_ID=-1;function v6(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new zo(i,J.empty(),e)}function _6(t){return new zo(t.readTime,t.key,-1)}var zo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ce.min(),J.empty(),-1)}static max(){return new t(ce.max(),J.empty(),-1)}};function w6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}var I6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",q0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Qu(t){return _(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==I6)throw t;W("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function E6(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yu(t){return t.name==="IndexedDbTransactionError"}var PM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Tp(t){return t==null}function Lu(t){return t===0&&1/t==-1/0}function b6(t){return typeof t=="number"&&Number.isInteger(t)&&!Lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var D6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eJ=[...D6,"documentOverlays"],C6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],T6=C6,S6=[...T6,"indexConfiguration","indexState","indexEntries"];var tJ=[...S6,"globals"];function nM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nt=class t{constructor(e,n){this.comparator=e,this.root=n||vr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _a(this.root,e,this.comparator,!1)}getReverseIterator(){return new _a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _a(this.root,e,this.comparator,!0)}},_a=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,o){return this}insert(e,n,r){return new vr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kt=class t{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yf(this.data.getIterator())}getIteratorFrom(e){return new Yf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rn=class t{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new t([])}unionWith(e){let n=new kt(_n.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Zf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Zf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var A6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(xe(!!t),typeof t=="string"){let e=0,n=A6.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}function fI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pI(t){let e=t.mapValue.fields.__previous_value__;return fI(e)?pI(e):e}function Vu(t){let e=ii(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var z0=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Jf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fI(t)?4:FM(t)?9007199254740991:kM(t)?10:11:ne()}function Er(t,e){if(t===e)return!0;let n=Go(t);if(n!==Go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ii(i.timestampValue),a=ii(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Zi(i.bytesValue).isEqual(Zi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?Lu(s)===Lu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ba(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nM(s)!==nM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Er(s[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function ju(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function Da(t,e){if(t===e)return 0;let n=Go(t),r=Go(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ze(o.integerValue||o.doubleValue),u=ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return rM(t.timestampValue,e.timestampValue);case 4:return rM(Vu(t),Vu(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Zi(o),u=Zi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ce(a[l],u[l]);if(h!==0)return h}return Ce(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ce(ze(o.latitude),ze(s.latitude));return a!==0?a:Ce(ze(o.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iM(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=g.value)===null||u===void 0?void 0:u.arrayValue,N=Ce(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:iM(y,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Hf.mapValue&&s===Hf.mapValue)return 0;if(o===Hf.mapValue)return 1;if(s===Hf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Ce(u[p],h[p]);if(g!==0)return g;let y=Da(a[u[p]],l[h[p]]);if(y!==0)return y}return Ce(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function rM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);let n=ii(t),r=ii(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function iM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Da(n[i],r[i]);if(o)return o}return Ce(n.length,r.length)}function Ca(t){return G0(t)}function G0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=G0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${G0(n.fields[s])}`;return i+"}"}(t.mapValue):ne()}function W0(t){return!!t&&"integerValue"in t}function mI(t){return!!t&&"arrayValue"in t}function oM(t){return!!t&&"nullValue"in t}function sM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zf(t){return!!t&&"mapValue"in t}function kM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var vn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=_n.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Pu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Pu(this.value))}};function LM(t){let e=[];return Yo(t.fields,(n,r)=>{let i=new _n([n]);if(zf(r)){let o=LM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Rn(e)}var Kn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ce.min(),ce.min(),ce.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ce.min(),ce.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ce.min(),ce.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ta=class{constructor(e,n){this.position=e,this.inclusive=n}};function aM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=Da(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}var Sa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function R6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Xf=class{},pt=class t extends Xf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q0(e,n,r):n==="array-contains"?new J0(e,r):n==="in"?new X0(e,r):n==="not-in"?new ew(e,r):n==="array-contains-any"?new tw(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Y0(e,r):new Z0(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Da(n,this.value)):n!==null&&Go(this.value)===Go(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},br=class t extends Xf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return VM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function VM(t){return t.op==="and"}function jM(t){return M6(t)&&VM(t)}function M6(t){for(let e of t.filters)if(e instanceof br)return!1;return!0}function K0(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Ca(t.value);if(jM(t))return t.filters.map(e=>K0(e)).join(",");{let e=t.filters.map(n=>K0(n)).join(",");return`${t.op}(${e})`}}function UM(t,e){return t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(t,e):t instanceof br?function(r,i){return i instanceof br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&UM(s,i.filters[a]),!0):!1}(t,e):void ne()}function BM(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ca(n.value)}`}(t):t instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(BM).join(" ,")+"}"}(t):"Filter"}var Q0=class extends pt{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){let n=J.comparator(e.key,this.key);return this.matchesComparison(n)}},Y0=class extends pt{constructor(e,n){super(e,"in",n),this.keys=$M("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Z0=class extends pt{constructor(e,n){super(e,"not-in",n),this.keys=$M("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function $M(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}var J0=class extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return mI(n)&&ju(n.arrayValue,this.value)}},X0=class extends pt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ju(this.value.arrayValue,n)}},ew=class extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ju(this.value.arrayValue,n)}},tw=class extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!mI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ju(this.value.arrayValue,r))}};var nw=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function uM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new nw(t,e,n,r,i,o,s)}function gI(t){let e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>K0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Tp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ca(r)).join(",")),e.ue=n}return e.ue}function yI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cM(t.startAt,e.startAt)&&cM(t.endAt,e.endAt)}function rw(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Aa=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function x6(t,e,n,r,i,o,s,a){return new Aa(t,e,n,r,i,o,s,a)}function Sp(t){return new Aa(t)}function lM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N6(t){return t.collectionGroup!==null}function Ou(t){let e=oe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new kt(_n.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Sa(o,r))}),n.has(_n.keyField().canonicalString())||e.ce.push(new Sa(_n.keyField(),r))}return e.ce}function _r(t){let e=oe(t);return e.le||(e.le=P6(e,Ou(t))),e.le}function P6(t,e){if(t.limitType==="F")return uM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Sa(i.field,o)});let n=t.endAt?new Ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ta(t.startAt.position,t.startAt.inclusive):null;return uM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iw(t,e,n){return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ap(t,e){return yI(_r(t),_r(e))&&t.limitType===e.limitType}function HM(t){return`${gI(_r(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BM(i)).join(", ")}]`),Tp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ca(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ca(i)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function Rp(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ou(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=aM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Ou(r),i)||r.endAt&&!function(s,a,u){let l=aM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Ou(r),i))}(t,e)}function O6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qM(t){return(e,n)=>{let r=!1;for(let i of Ou(t)){let o=k6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function k6(t,e,n){let r=t.field.isKeyField()?J.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Da(u,l):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var Ji=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return OM(this.inner)}size(){return this.innerSize}};var F6=new nt(J.comparator);function oi(){return F6}var zM=new nt(J.comparator);function Nu(...t){let e=zM;for(let n of t)e=e.insert(n.key,n);return e}function GM(t){let e=zM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bo(){return ku()}function WM(){return ku()}function ku(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}var L6=new nt(J.comparator),V6=new kt(J.comparator);function _e(...t){let e=V6;for(let n of t)e=e.add(n);return e}var j6=new kt(Ce);function U6(){return j6}function vI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function KM(t){return{integerValue:""+t}}function B6(t,e){return b6(e)?KM(e):vI(t,e)}var Ra=class{constructor(){this._=void 0}};function $6(t,e,n){return t instanceof Ma?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fI(o)&&(o=pI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Wo?YM(t,e):t instanceof Ko?ZM(t,e):function(i,o){let s=QM(i,o),a=dM(s)+dM(i.Pe);return W0(s)&&W0(i.Pe)?KM(a):vI(i.serializer,a)}(t,e)}function H6(t,e,n){return t instanceof Wo?YM(t,e):t instanceof Ko?ZM(t,e):n}function QM(t,e){return t instanceof xa?function(r){return W0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ma=class extends Ra{},Wo=class extends Ra{constructor(e){super(),this.elements=e}};function YM(t,e){let n=JM(e);for(let r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ko=class extends Ra{constructor(e){super(),this.elements=e}};function ZM(t,e){let n=JM(e);for(let r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}var xa=class extends Ra{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function dM(t){return ze(t.integerValue||t.doubleValue)}function JM(t){return mI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function q6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wo&&i instanceof Wo||r instanceof Ko&&i instanceof Ko?ba(r.elements,i.elements,Er):r instanceof xa&&i instanceof xa?Er(r.Pe,i.Pe):r instanceof Ma&&i instanceof Ma}(t.transform,e.transform)}var ow=class{constructor(e,n){this.version=e,this.transformResults=n}},ni=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Na=class{};function XM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uu(t.key,ni.none()):new Qo(t.key,t.data,ni.none());{let n=t.data,r=vn.empty(),i=new kt(_n.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Dr(t.key,r,new Rn(i.toArray()),ni.none())}}function z6(t,e,n){t instanceof Qo?function(i,o,s){let a=i.value.clone(),u=fM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dr?function(i,o,s){if(!Gf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=fM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(ex(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fu(t,e,n,r){return t instanceof Qo?function(o,s,a,u){if(!Gf(o.precondition,s))return a;let l=o.value.clone(),h=pM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dr?function(o,s,a,u){if(!Gf(o.precondition,s))return a;let l=pM(o.fieldTransforms,u,s),h=s.data;return h.setAll(ex(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Gf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function G6(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=QM(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function hM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ba(r,i,(o,s)=>q6(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Qo=class extends Na{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dr=class extends Na{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ex(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function fM(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,H6(s,a,n[i]))}return r}function pM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,$6(o,s,e))}return r}var Uu=class extends Na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},sw=class extends Na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var aw=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&z6(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=WM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=XM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ba(this.mutations,e.mutations,(n,r)=>hM(n,r))&&ba(this.baseMutations,e.baseMutations,(n,r)=>hM(n,r))}},cw=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return L6}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var uw=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var at,be;function W6(t){switch(t){default:return ne();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function tx(t){if(t===void 0)return ri("GRPC error has no .code"),O.UNKNOWN;switch(t){case at.OK:return O.OK;case at.CANCELLED:return O.CANCELLED;case at.UNKNOWN:return O.UNKNOWN;case at.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case at.INTERNAL:return O.INTERNAL;case at.UNAVAILABLE:return O.UNAVAILABLE;case at.UNAUTHENTICATED:return O.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case at.NOT_FOUND:return O.NOT_FOUND;case at.ALREADY_EXISTS:return O.ALREADY_EXISTS;case at.PERMISSION_DENIED:return O.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case at.ABORTED:return O.ABORTED;case at.OUT_OF_RANGE:return O.OUT_OF_RANGE;case at.UNIMPLEMENTED:return O.UNIMPLEMENTED;case at.DATA_LOSS:return O.DATA_LOSS;default:return ne()}}(be=at||(at={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var mM=null;function K6(){return new TextEncoder}var Q6=new Qi([4294967295,4294967295],0);function gM(t){let e=K6().encode(t),n=new T0;return n.update(e),new Uint8Array(n.digest())}function yM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([i,o],0)]}var dw=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(r<0)throw new $o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qi.fromNumber(r)));return i.compare(Q6)===1&&(i=new Qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=gM(e),[r,i]=yM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=gM(e),[r,i]=yM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},$o=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ep=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ce.min(),i,new nt(Ce),oi(),_e())}},Bu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var wa=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},tp=class{constructor(e,n){this.targetId=e,this.me=n}},np=class{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},rp=class{constructor(){this.fe=0,this.ge=_M(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Bu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=_M()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},hw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=oi(),this.qe=vM(),this.Qe=new nt(Ce)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(rw(o))if(r===0){let s=new J(o.path);this.Ue(n,s,Kn.newNoDocument(s,ce.min()))}else xe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}mM?.et(function(h,p,g,y,C){var N,M,V,z,$,Z;let we={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},X=p.unchangedNames;return X&&(we.bloomFilter={applied:C===0,hashCount:(N=X?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(z=(V=(M=X?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&z!==void 0?z:0,padding:(Z=($=X?.bits)===null||$===void 0?void 0:$.padding)!==null&&Z!==void 0?Z:0,mightContain:b=>{var v;return(v=y?.mightContain(b))!==null&&v!==void 0&&v}}),we}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Zi(r).toUint8Array()}catch(u){if(u instanceof Zf)return Ea("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dw(s,i,o)}catch(u){return Ea(u instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&rw(a.target)){let u=new J(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Kn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new ep(e,n,this.Qe,this.ke,r);return this.ke=oi(),this.qe=vM(),this.Qe=new nt(Ce),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(Ce),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function vM(){return new nt(J.comparator)}function _M(){return new nt(J.comparator)}var Y6={asc:"ASCENDING",desc:"DESCENDING"},Z6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J6={and:"AND",or:"OR"},fw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function pw(t,e){return t.useProto3Json||Tp(e)?e:{value:e}}function ip(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X6(t,e){return ip(t,e.toTimestamp())}function wr(t){return xe(!!t),ce.fromTimestamp(function(n){let r=ii(n);return new Ct(r.seconds,r.nanos)}(t))}function _I(t,e){return mw(t,e).canonicalString()}function mw(t,e){let n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rx(t){let e=tt.fromString(t);return xe(cx(e)),e}function gw(t,e){return _I(t.databaseId,e.path)}function N0(t,e){let n=rx(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(ox(n))}function ix(t,e){return _I(t.databaseId,e)}function e8(t){let e=rx(t);return e.length===4?tt.emptyPath():ox(e)}function yw(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ox(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wM(t,e,n){return{name:gw(t,e),fields:n.value.mapValue.fields}}function t8(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(xe(h===void 0||typeof h=="string"),Ft.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:tx(l.code);return new Y(h,l.message||"")}(s);n=new np(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=N0(t,r.document.name),o=wr(r.document.updateTime),s=r.document.createTime?wr(r.document.createTime):ce.min(),a=new vn({mapValue:{fields:r.document.fields}}),u=Kn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new wa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=N0(t,r.document),o=r.readTime?wr(r.readTime):ce.min(),s=Kn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new wa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=N0(t,r.document),o=r.removedTargetIds||[];n=new wa([],o,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new lw(i,o),a=r.targetId;n=new tp(a,s)}}return n}function n8(t,e){let n;if(e instanceof Qo)n={update:wM(t,e.key,e.value)};else if(e instanceof Uu)n={delete:gw(t,e.key)};else if(e instanceof Dr)n={update:wM(t,e.key,e.data),updateMask:d8(e.fieldMask)};else{if(!(e instanceof sw))return ne();n={verify:gw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ma)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xa)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:X6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(t,e.precondition)),n}function r8(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?wr(i.updateTime):wr(o);return s.isEqual(ce.min())&&(s=wr(o)),new ow(s,i.transformResults||[])}(n,e))):[]}function i8(t,e){return{documents:[ix(t,e.path)]}}function o8(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ix(t,i);let o=function(l){if(l.length!==0)return ax(br.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:ya(g.field),direction:c8(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=pw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function s8(t){let e=e8(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=sx(p);return g instanceof br&&jM(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(C){return new Sa(va(C.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Tp(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Ta(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Ta(y,g)}(n.endAt)),x6(e,i,s,o,a,"F",u,l)}function a8(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=va(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=va(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=va(n.unaryFilter.field);return pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=va(n.unaryFilter.field);return pt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(r=>sx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function c8(t){return Y6[t]}function u8(t){return Z6[t]}function l8(t){return J6[t]}function ya(t){return{fieldPath:t.canonicalString()}}function va(t){return _n.fromServerFormat(t.fieldPath)}function ax(t){return t instanceof pt?function(n){if(n.op==="=="){if(sM(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(oM(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sM(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(oM(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:u8(n.op),value:n.value}}}(t):t instanceof br?function(n){let r=n.getFilters().map(i=>ax(i));return r.length===1?r[0]:{compositeFilter:{op:l8(n.op),filters:r}}}(t):ne()}function d8(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var $u=class t{constructor(e,n,r,i,o=ce.min(),s=ce.min(),a=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vw=class{constructor(e){this.ct=e}};function h8(t){let e=s8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iw(e,e.limit,"L"):e}var op=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Lu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ii(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Zi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?FM(e)?this.dt(n,Number.MAX_SAFE_INTEGER):kM(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ze(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),J.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};op.vt=new op;var _w=class{constructor(){this.un=new ww}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(zo.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},ww=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(tt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(tt.comparator)).toArray()}};var rJ=new Uint8Array(0);var gr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(41943040,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);var Hu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Iw=class{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ew=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var bw=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fu(r.mutation,i,Rn.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=Bo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Nu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=oi(),s=ku(),a=function(){return ku()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Dr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Fu(h.mutation,l,h.mutation.getFieldMask(),Ct.now())):s.set(l.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Ew(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ku(),i=new nt((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Rn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=WM();h.forEach(g=>{if(!o.has(g)){let y=XM(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(Bo()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:GM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Nu();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,g){return new Aa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Kn.newInvalidDocument(h)))});let a=Nu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Fu(h.mutation,l,Rn.empty(),Ct.now()),Rp(n,l)&&(a=a.insert(u,l))}),a})}};var Dw=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wr(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:h8(i.bundledQuery),readTime:wr(i.readTime)}}(n)),L.resolve()}};var Cw=class{constructor(){this.overlays=new nt(J.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Bo();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=Bo(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new nt((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Bo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Bo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uw(n,r));let o=this.Ir.get(n);o===void 0&&(o=_e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Tw=class{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var qu=class{constructor(){this.Tr=new kt(ct.Er),this.dr=new kt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new J(new tt([])),r=new ct(n,e),i=new ct(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new J(new tt([])),r=new ct(n,e),i=new ct(n,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ct=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||Ce(e.wr,n.wr)}static Ar(e,n){return Ce(e.wr,n.wr)||J.comparator(e.key,n.key)}};var Sw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kt(ct.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new aw(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ce);return n.forEach(i=>{let o=new ct(i,0),s=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new ct(new J(o),0),a=new kt(Ce);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new ct(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Aw=class{constructor(e){this.Mr=e,this.docs=function(){return new nt(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=oi();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oi(),s=n.path,a=new J(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||w6(_6(h),r)<=0||(i.has(h.key)||Rp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rw(this)}getSize(e){return L.resolve(this.size)}},Rw=class extends Iw{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Mw=class{constructor(e){this.persistence=e,this.Nr=new Ji(n=>gI(n),yI),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qu,this.targetCount=0,this.kr=Hu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Hu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var xw=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new PM(0),this.Kr=!1,this.Kr=!0,this.$r=new Tw,this.referenceDelegate=e(this),this.Ur=new Mw(this),this.indexManager=new _w,this.remoteDocumentCache=function(i){return new Aw(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vw(n),this.Gr=new Dw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Sw(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);let i=new Nw(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Nw=class extends q0{constructor(e){super(),this.currentSequenceNumber=e}},Pw=class t{constructor(e){this.persistence=e,this.Jr=new qu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=J.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Ow=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var kw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Fw=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return R1()?8:E6(gt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new kw;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(xu()<=ve.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(xu()<=ve.DEBUG&&W("QueryEngine","Query:",ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xu()<=ve.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):L.resolve())}Yi(e,n){if(lM(n))return L.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iw(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,iw(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return lM(n)||i.isEqual(ce.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(xu()<=ve.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ga(n)),this.rs(e,s,n,v6(i,-1)).next(a=>a))})}ts(e,n){let r=new kt(qM(e));return n.forEach((i,o)=>{Rp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return xu()<=ve.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ga(n)),this.Ji.getDocumentsMatchingQuery(e,n,zo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Lw=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new nt(Ce),this._s=new Ji(o=>gI(o),yI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function f8(t,e,n,r){return new Lw(t,e,n,r)}function ux(t,e){return _(this,null,function*(){let n=oe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function p8(t,e){let n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=L.resolve();return g.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let M=l.docVersions.get(C);xe(M!==null),N.version.compareTo(M)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lx(t){let e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function m8(t,e){let n=oe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ft.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,M,V){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=oi(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(g8(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ce.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function g8(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=oi();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function y8(t,e){let n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function v8(t,e){let n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new $u(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Vw(t,e,n){return _(this,null,function*(){let r=oe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Yu(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function IM(t,e,n){let r=oe(t),i=ce.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=oe(u),g=p._s.get(h);return g!==void 0?L.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?o:_e())).next(a=>(_8(r,O6(e),a),{documents:a,Ts:o})))}function _8(t,e,n){let r=t.us.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var sp=class{constructor(){this.activeTargetIds=U6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var jw=class{constructor(){this.so=new sp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Uw=class{_o(e){}shutdown(){}};var ap=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qf=null;function P0(){return qf===null?qf=function(){return 268435456+Math.round(2147483648*Math.random())}():qf++,"0x"+qf.toString(16)}var w8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Bw=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ot="WebChannelConnection",$w=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=P0(),u=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(W("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ea("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=w8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=P0();return new Promise((s,a)=>{let u=new S0;u.setWithCredentials(!0),u.listenOnce(A0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Mu.NO_ERROR:let h=u.getResponseJson();W(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Mu.TIMEOUT:W(Ot,`RPC '${e}' ${o} timed out`),a(new Y(O.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:let p=u.getStatus();if(W(Ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let C=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(V)>=0?V:O.UNKNOWN}(y.status);a(new Y(C,y.message))}else a(new Y(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Y(O.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{W(Ot,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);W(Ot,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=P0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=x0(),a=M0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");W(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,C=new Bw({Io:M=>{y?W(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(g||(W(Ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),W(Ot,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),N=(M,V,z)=>{M.listen(V,$=>{try{z($)}catch(Z){setTimeout(()=>{throw Z},0)}})};return N(p,ma.EventType.OPEN,()=>{y||(W(Ot,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,ma.EventType.CLOSE,()=>{y||(y=!0,W(Ot,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,ma.EventType.ERROR,M=>{y||(y=!0,Ea(Ot,`RPC '${e}' stream ${i} transport errored:`,M),C.So(new Y(O.UNAVAILABLE,"The operation could not be completed")))}),N(p,ma.EventType.MESSAGE,M=>{var V;if(!y){let z=M.data[0];xe(!!z);let $=z,Z=$.error||((V=$[0])===null||V===void 0?void 0:V.error);if(Z){W(Ot,`RPC '${e}' stream ${i} received error:`,Z);let we=Z.status,X=function(w){let D=at[w];if(D!==void 0)return tx(D)}(we),b=Z.message;X===void 0&&(X=O.INTERNAL,b="Unknown error status: "+we+" with message "+Z.message),y=!0,C.So(new Y(X,b)),p.close()}else W(Ot,`RPC '${e}' stream ${i} received:`,z),C.bo(z)}}),N(a,R0.STAT_EVENT,M=>{M.stat===$f.PROXY?W(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===$f.NOPROXY&&W(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function O0(){return typeof document<"u"?document:null}function Mp(t){return new fw(t,!0)}var cp=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var up=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cp(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Y(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Hw=class extends up{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=t8(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?wr(s.readTime):ce.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=yw(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=rw(u)?{documents:i8(o,u)}:{query:o8(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=nx(o,s.resumeToken);let l=pw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=ip(o,s.snapshotVersion.toTimestamp());let l=pw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=a8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=yw(this.serializer),n.removeTarget=e,this.a_(n)}},qw=class extends up{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=r8(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=yw(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>n8(this.serializer,r))};this.a_(n)}};var zw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Y(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,mw(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,mw(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Gw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ri(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Ww=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Zo(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=oe(u);l.L_.add(4),yield Zu(l),l.q_.set("Unknown"),l.L_.delete(4),yield xp(l)})}(this))}))}),this.q_=new Gw(r,i)}};function xp(t){return _(this,null,function*(){if(Zo(t))for(let e of t.B_)yield e(!0)})}function Zu(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function dx(t,e){let n=oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),bI(n)?EI(n):La(n).r_()&&II(n,e))}function wI(t,e){let n=oe(t),r=La(n);n.N_.delete(e),r.r_()&&hx(n,e),n.N_.size===0&&(r.r_()?r.o_():Zo(n)&&n.q_.set("Unknown"))}function II(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).A_(e)}function hx(t,e){t.Q_.xe(e),La(t).R_(e)}function EI(t){t.Q_=new hw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),La(t).start(),t.q_.v_()}function bI(t){return Zo(t)&&!La(t).n_()&&t.N_.size>0}function Zo(t){return oe(t).L_.size===0}function fx(t){t.Q_=void 0}function I8(t){return _(this,null,function*(){t.q_.set("Online")})}function E8(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{II(t,e)})})}function b8(t,e){return _(this,null,function*(){fx(t),bI(t)?(t.q_.M_(e),EI(t)):t.q_.set("Unknown")})}function D8(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof np&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lp(t,r)}else if(e instanceof wa?t.Q_.Ke(e):e instanceof tp?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ce.min()))try{let r=yield lx(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),hx(o,u);let p=new $u(h.target,u,l,h.sequenceNumber);II(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield lp(t,r)}})}function lp(t,e,n){return _(this,null,function*(){if(!Yu(e))throw e;t.L_.add(1),yield Zu(t),t.q_.set("Offline"),n||(n=()=>lx(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield xp(t)}))})}function px(t,e){return e().catch(n=>lp(t,n,e))}function Np(t){return _(this,null,function*(){let e=oe(t),n=Xi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;C8(e);)try{let i=yield y8(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,T8(e,i)}catch(i){yield lp(e,i)}mx(e)&&gx(e)})}function C8(t){return Zo(t)&&t.O_.length<10}function T8(t,e){t.O_.push(e);let n=Xi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mx(t){return Zo(t)&&!Xi(t).n_()&&t.O_.length>0}function gx(t){Xi(t).start()}function S8(t){return _(this,null,function*(){Xi(t).p_()})}function A8(t){return _(this,null,function*(){let e=Xi(t);for(let n of t.O_)e.m_(n.mutations)})}function R8(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=cw.from(r,e,n);yield px(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Np(t)})}function M8(t,e){return _(this,null,function*(){e&&Xi(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return W6(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();Xi(r).s_(),yield px(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Np(r)}})}(t,e)),mx(t)&&gx(t)})}function EM(t,e){return _(this,null,function*(){let n=oe(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=Zo(n);n.L_.add(3),yield Zu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield xp(n)})}function x8(t,e){return _(this,null,function*(){let n=oe(t);e?(n.L_.delete(2),yield xp(n)):e||(n.L_.add(2),yield Zu(n),n.q_.set("Unknown"))})}function La(t){return t.K_||(t.K_=function(n,r,i){let o=oe(n);return o.w_(),new Hw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:I8.bind(null,t),Ro:E8.bind(null,t),mo:b8.bind(null,t),d_:D8.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),bI(t)?EI(t):t.q_.set("Unknown")):(yield t.K_.stop(),fx(t))}))),t.K_}function Xi(t){return t.U_||(t.U_=function(n,r,i){let o=oe(n);return o.w_(),new qw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:S8.bind(null,t),mo:M8.bind(null,t),f_:A8.bind(null,t),g_:R8.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield Np(t)):(yield t.U_.stop(),t.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Kw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function DI(t,e){if(ri("AsyncQueue",`${e}: ${t}`),Yu(t))return new Y(O.UNAVAILABLE,`${e}: ${t}`);throw t}var dp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var hp=class{constructor(){this.W_=new nt(J.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Pa=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,dp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Qw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Yw=class{constructor(){this.queries=bM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=oe(n),o=i.queries;i.queries=bM(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Y(O.ABORTED,"Firestore shutting down"))}};function bM(){return new Ji(t=>HM(t),Ap)}function yx(t,e){return _(this,null,function*(){let n=oe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Qw,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=DI(s,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&CI(n)})}function vx(t,e){return _(this,null,function*(){let n=oe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function N8(t,e){let n=oe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&CI(n)}function P8(t,e,n){let r=oe(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function CI(t){t.Y_.forEach(e=>{e.next()})}var Zw,DM;(DM=Zw||(Zw={})).ea="default",DM.Cache="cache";var fp=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zw.Cache}};var pp=class{constructor(e){this.key=e}},mp=class{constructor(e){this.key=e}},Jw=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=qM(e),this.Ra=new dp(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new hp,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Rp(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;g&&y?g.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),M=!0):this.ga(g,y)||(r.track({type:2,doc:y}),M=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),M=!0):g&&!y&&(r.track({type:1,doc:g}),M=!0,(u||l)&&(a=!0)),M&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,C){let N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return N(y)-N(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Pa(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new mp(r))}),this.da.forEach(r=>{e.has(r)||n.push(new pp(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Pa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Xw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},eI=class{constructor(e){this.key=e,this.va=!1}},tI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ji(a=>HM(a),Ap),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(J.comparator),this.Na=new Map,this.La=new qu,this.Ba={},this.ka=new Map,this.qa=Hu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function O8(t,e,n=!0){return _(this,null,function*(){let r=Dx(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield _x(r,e,n,!0),i})}function k8(t,e){return _(this,null,function*(){let n=Dx(t);yield _x(n,e,!0,!1)})}function _x(t,e,n,r){return _(this,null,function*(){let i=yield v8(t.localStore,_r(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield F8(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&dx(t.remoteStore,i),a})}function F8(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,g,y)=>function(N,M,V,z){return _(this,null,function*(){let $=M.view.ma(V);$.ns&&($=yield IM(N.localStore,M.query,!1).then(({documents:b})=>M.view.ma(b,$)));let Z=z&&z.targetChanges.get(M.targetId),we=z&&z.targetMismatches.get(M.targetId)!=null,X=M.view.applyChanges($,N.isPrimaryClient,Z,we);return TM(N,M.targetId,X.wa),X.snapshot})}(t,p,g,y);let o=yield IM(t.localStore,e,!0),s=new Jw(e,o.Ts),a=s.ma(o.documents),u=Bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);TM(t,n,l.wa);let h=new Xw(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function L8(t,e,n){return _(this,null,function*(){let r=oe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ap(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wI(r.remoteStore,i.targetId),nI(r,i.targetId)}).catch(Qu))):(nI(r,i.targetId),yield Vw(r.localStore,i.targetId,!0))})}function V8(t,e){return _(this,null,function*(){let n=oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wI(n.remoteStore,r.targetId))})}function j8(t,e,n){return _(this,null,function*(){let r=G8(t);try{let i=yield function(s,a){let u=oe(s),l=Ct.now(),h=a.reduce((y,C)=>y.add(C.key),_e()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=oi(),N=_e();return u.cs.getEntries(y,h).next(M=>{C=M,C.forEach((V,z)=>{z.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(M=>{p=M;let V=[];for(let z of a){let $=G6(z,p.get(z.key).overlayedDocument);$!=null&&V.push(new Dr(z.key,$,LM($.value.mapValue),ni.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(M=>{g=M;let V=M.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,M.batchId,V)})}).then(()=>({batchId:g.batchId,changes:GM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new nt(Ce)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Ju(r,i.changes),yield Np(r.remoteStore)}catch(i){let o=DI(i,"Failed to persist write");n.reject(o)}})}function wx(t,e){return _(this,null,function*(){let n=oe(t);try{let r=yield m8(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xe(s.va):i.removedDocuments.size>0&&(xe(s.va),s.va=!1))}),yield Ju(n,r,e)}catch(r){yield Qu(r)}})}function CM(t,e,n){let r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=oe(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&CI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function U8(t,e,n){return _(this,null,function*(){let r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new nt(J.comparator);s=s.insert(o,Kn.newNoDocument(o,ce.min()));let a=_e().add(o),u=new ep(ce.min(),new Map,new nt(Ce),s,a);yield wx(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),TI(r)}else yield Vw(r.localStore,e,!1).then(()=>nI(r,e,n)).catch(Qu)})}function B8(t,e){return _(this,null,function*(){let n=oe(t),r=e.batch.batchId;try{let i=yield p8(n.localStore,e);Ex(n,r,null),Ix(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ju(n,i)}catch(i){yield Qu(i)}})}function $8(t,e,n){return _(this,null,function*(){let r=oe(t);try{let i=yield function(s,a){let u=oe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(xe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);Ex(r,e,n),Ix(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ju(r,i)}catch(i){yield Qu(i)}})}function Ix(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Ex(t,e,n){let r=oe(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function nI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||bx(t,r)})}function bx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(wI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),TI(t))}function TM(t,e,n){for(let r of n)r instanceof pp?(t.La.addReference(r.key,e),H8(t,r)):r instanceof mp?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||bx(t,r.key)):ne()}function H8(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),TI(t))}function TI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new J(tt.fromString(e)),r=t.qa.next();t.Na.set(r,new eI(n)),t.Oa=t.Oa.insert(n,r),dx(t.remoteStore,new $u(_r(Sp(n.path)),r,"TargetPurposeLimboResolution",PM.oe))}}function Ju(t,e,n){return _(this,null,function*(){let r=oe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Ow.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=oe(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Yu(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(g,N)}}})}(r.localStore,o))})}function q8(t,e){return _(this,null,function*(){let n=oe(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield ux(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Y(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ju(n,r.hs)}})}function z8(t,e){let n=oe(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Dx(t){let e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U8.bind(null,e),e.Ca.d_=N8.bind(null,e.eventManager),e.Ca.$a=P8.bind(null,e.eventManager),e}function G8(t){let e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$8.bind(null,e),e}var SM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Mp(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return f8(this.persistence,new Fw,n.initialUser,this.serializer)}Ga(n){return new xw(Pw.Zr,this.serializer)}Wa(n){return new jw}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var W8=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q8.bind(null,this.syncEngine),yield x8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Yw}()}createDatastore(n){let r=Mp(n.databaseInfo.databaseId),i=function(s){return new $w(s)}(n.databaseInfo);return function(s,a,u,l){return new zw(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new Ww(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>CM(this.syncEngine,r,0),function(){return ap.D()?new ap:new Uw}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new tI(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=oe(o);W("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Zu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var gp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var rI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=Kf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){W("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=DI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function k0(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield ux(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function AM(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield K8(t);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>EM(e.remoteStore,i)),t._onlineComponents=e})}function K8(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield k0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ea("Error using user provided cache. Falling back to memory cache: "+n),yield k0(t,new SM)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield k0(t,new SM);return t._offlineComponents})}function Cx(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield AM(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield AM(t,new W8))),t._onlineComponents})}function Q8(t){return Cx(t).then(e=>e.syncEngine)}function iI(t){return _(this,null,function*(){let e=yield Cx(t),n=e.eventManager;return n.onListen=O8.bind(null,e.syncEngine),n.onUnlisten=L8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V8.bind(null,e.syncEngine),n})}function Y8(t,e,n={}){let r=new yr;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new gp({next:g=>{h.Za(),s.enqueueAndForget(()=>vx(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new Y(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new Y(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new fp(Sp(a.path),h,{includeMetadataChanges:!0,_a:!0});return yx(o,p)}(yield iI(t),t.asyncQueue,e,n,r)})),r.promise}function Tx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var RM=new Map;function Sx(t,e,n){if(!n)throw new Y(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z8(t,e,n,r){if(e===!0&&r===!0)throw new Y(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MM(t){if(!J.isDocumentKey(t))throw new Y(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xM(t){if(J.isDocumentKey(t))throw new Y(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=SI(t);throw new Y(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var yp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Oa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new F0;switch(r.type){case"firstParty":return new U0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=RM.get(n);r&&(W("ComponentProvider","Removing Datastore"),RM.delete(n),r.terminate())}(this),Promise.resolve()}};function Ax(t,e,n,r={}){var i;let o=(t=Ir(t,Oa))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=yt.MOCK_USER;else{a=b1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Y(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new yt(l)}t._authCredentials=new L0(new Wf(a,u))}}var vp=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},en=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Yi=class t extends vp{constructor(e,n,r){super(e,n,Sp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new J(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Rx(t,e,...n){if(t=ht(t),Sx("collection","path",e),t instanceof Oa){let r=tt.fromString(e,...n);return xM(r),new Yi(t,null,r)}{if(!(t instanceof en||t instanceof Yi))throw new Y(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(tt.fromString(e,...n));return xM(r),new Yi(t.firestore,null,r)}}function AI(t,e,...n){if(t=ht(t),arguments.length===1&&(e=Kf.newId()),Sx("doc","path",e),t instanceof Oa){let r=tt.fromString(e,...n);return MM(r),new en(t,null,new J(r))}{if(!(t instanceof en||t instanceof Yi))throw new Y(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(tt.fromString(e,...n));return MM(r),new en(t.firestore,t instanceof Yi?t.converter:null,new J(r))}}var _p=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cp(this,"async_queue_retry"),this.Vu=()=>{let r=O0();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=O0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=O0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new yr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yu(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Kw.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function NM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var si=class extends Oa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _p,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new _p(e),this._firestoreClient=void 0,yield e}})}};function Mx(t,e){let n=typeof t=="object"?t:ca(),r=typeof t=="string"?t:e||"(default)",i=_u(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=E1("firestore");o&&Ax(i,...o)}return i}function RI(t){if(t._terminated)throw new Y(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J8(t),t._firestoreClient}function J8(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new z0(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Tx(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new rI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var zu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ft.fromBase64String(e))}catch(n){throw new Y(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ka=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Gu=class{constructor(e){this._methodName=e}};var Wu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}};var Ku=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var X8=/^__.*__$/,oI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qo(e,this.data,n,this.fieldTransforms)}},wp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function xx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var sI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ep(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xx(this.Cu)&&X8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},aI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mp(e)}Qu(e,n,r,i=!1){return new sI({Cu:e,methodName:n,qu:r,path:_n.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Nx(t){let e=t._freezeSettings(),n=Mp(t._databaseId);return new aI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eH(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);MI("Data must be an object, but it was:",s,r);let a=Px(r,s),u,l;if(o.merge)u=new Rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=cI(e,p,n);if(!s.contains(g))throw new Y(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);kx(h,g)||h.push(g)}u=new Rn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new oI(new vn(a),u,l)}var Ip=class t extends Gu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function tH(t,e,n,r){let i=t.Qu(1,e,n);MI("Data must be an object, but it was:",i,r);let o=[],s=vn.empty();Yo(r,(u,l)=>{let h=xI(e,u,n);l=ht(l);let p=i.Nu(h);if(l instanceof Ip)o.push(h);else{let g=Pp(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Rn(o);return new wp(s,a,i.fieldTransforms)}function nH(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[cI(e,r,n)],u=[i];if(o.length%2!=0)throw new Y(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(cI(e,o[g])),u.push(o[g+1]);let l=[],h=vn.empty();for(let g=a.length-1;g>=0;--g)if(!kx(l,a[g])){let y=a[g],C=u[g];C=ht(C);let N=s.Nu(y);if(C instanceof Ip)l.push(y);else{let M=Pp(C,N);M!=null&&(l.push(y),h.set(y,M))}}let p=new Rn(l);return new wp(h,p,s.fieldTransforms)}function Pp(t,e){if(Ox(t=ht(t)))return MI("Unsupported field value:",e,t),Px(t,e);if(t instanceof Gu)return function(r,i){if(!xx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Pp(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ct.fromDate(r);return{timestampValue:ip(i.serializer,o)}}if(r instanceof Ct){let o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ip(i.serializer,o)}}if(r instanceof Wu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zu)return{bytesValue:nx(i.serializer,r._byteString)};if(r instanceof en){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_I(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ku)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return vI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${SI(r)}`)}(t,e)}function Px(t,e){let n={};return OM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(r,i)=>{let o=Pp(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Ox(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Wu||t instanceof zu||t instanceof en||t instanceof Gu||t instanceof Ku)}function MI(t,e,n){if(!Ox(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=SI(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function cI(t,e,n){if((e=ht(e))instanceof ka)return e._internalPath;if(typeof e=="string")return xI(t,e);throw Ep("Field path arguments must be of type string or ",t,!1,void 0,n)}var rH=new RegExp("[~\\*/\\[\\]]");function xI(t,e,n){if(e.search(rH)>=0)throw Ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ka(...e.split("."))._internalPath}catch{throw Ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ep(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Y(O.INVALID_ARGUMENT,a+t+u)}function kx(t,e){return t.some(n=>n.isEqual(e))}var bp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Fx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},uI=class extends bp{data(){return super.data()}};function Fx(t,e){return typeof e=="string"?xI(t,e):e instanceof ka?e._internalPath:e._delegate._internalPath}function iH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lI=class{convertValue(e,n="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Yo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new Ku(o)}convertGeoPoint(e){return new Wu(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=pI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){let n=ii(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=tt.fromString(e);xe(cx(r));let i=new Jf(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function oH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ho=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Dp=class extends bp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ia(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Fx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ia=class extends Dp{data(e={}){return super.data(e)}},dI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ia(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ia(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ia(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:sH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function sH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function Lx(t){t=Ir(t,en);let e=Ir(t.firestore,si);return Y8(RI(e),t._key).then(n=>Bx(e,t,n))}var Cp=class extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}};function Vx(t,e,n,...r){t=Ir(t,en);let i=Ir(t.firestore,si),o=Nx(i),s;return s=typeof(e=ht(e))=="string"||e instanceof ka?nH(o,"updateDoc",t._key,e,n,r):tH(o,"updateDoc",t._key,e),PI(i,[s.toMutation(t._key,ni.exists(!0))])}function jx(t){return PI(Ir(t.firestore,si),[new Uu(t._key,ni.none())])}function Ux(t,e){let n=Ir(t.firestore,si),r=AI(t),i=oH(t.converter,e);return PI(n,[eH(Nx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then(()=>r)}function NI(t,...e){var n,r,i;t=ht(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||NM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(NM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof en)l=Ir(t.firestore,si),h=Sp(t._key.path),u={next:p=>{e[s]&&e[s](Bx(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Ir(t,vp);l=Ir(p.firestore,si),h=p._query;let g=new Cp(l);u={next:y=>{e[s]&&e[s](new dI(l,g,p,y))},error:e[s+1],complete:e[s+2]},iH(t._query)}return function(g,y,C,N){let M=new gp(N),V=new fp(y,M,C);return g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return yx(yield iI(g),V)})),()=>{M.Za(),g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return vx(yield iI(g),V)}))}}(RI(l),h,a,u)}function PI(t,e){return function(r,i){let o=new yr;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return j8(yield Q8(r),i,o)})),o.promise}(RI(t),e)}function Bx(t,e,n){let r=n.docs.get(e._key),i=new Cp(t);return new Dp(t,i,e._key,r,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fa=i})(zi),qi(new An("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new si(new V0(r.getProvider("auth-internal")),new $0(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Y(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ft(tM,"4.7.3",e),ft(tM,"4.7.3","esm2017")})();var Op=function(){return Op=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Op.apply(this,arguments)};var uH={includeMetadataChanges:!1};function $x(t,e){return e===void 0&&(e=uH),new ue(function(n){var r=NI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Hx(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Op(Op({},r),(n={},n[e.idField]=t.id,n))}function qx(t){return $x(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function zx(t,e){return e===void 0&&(e={}),qx(t).pipe(re(function(n){return n.map(function(r){return Hx(r,e)})}))}var Jo=class{constructor(e){return e}},Gx="firestore",OI=class{constructor(){return wu(Gx)}};var kI=new G("angularfire2.firestore-instances");function lH(t,e){let n=If(Gx,t,e);return n&&new Jo(n)}function dH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Jo(r)}}var hH={provide:OI,deps:[[new Bt,kI]]},fH={provide:Jo,useFactory:lH,deps:[[new Bt,kI],Yr]};function Wx(t,...e){return ft("angularfire",Oo.full,"fst"),un([fH,hH,{provide:kI,useFactory:dH(t),multi:!0,deps:[Me,xt,da,ko,[new Bt,Ru],[new Bt,la],...e]}])}var Kx=Dt(zx,!0);var Qx=Dt(Ux,!0);var FI=Dt(Rx,!0);var Yx=Dt(jx,!0);var kp=Dt(AI,!0);var Zx=Dt(Lx,!0);var Jx=Dt(Mx,!0);var Xx=Dt(Vx,!0);var Va=class t{constructor(e){this.fs=e}commandes;addCommande(e,n,r){let i=r.map(a=>({productid:a.productid,qte:a.qte})),o={userid:e,montant:n,dateCommande:new Date().toISOString(),details:i},s=FI(this.fs,"commandes");Qx(s,o).then(()=>console.log("Data saved successfully!")).catch(a=>console.log(a))}getAllCommandes(){let e=FI(this.fs,"commandes");return Kx(e,{idField:"id"})}getCommandeById(e){let n=kp(this.fs,"commandes",e);return Zx(n)}updateCommande(e,n){let r=kp(this.fs,"commandes",e);Xx(r,n).then(()=>console.log(`Commande with ID ${e} updated successfully!`)).catch(i=>console.log(i))}deleteCommande(e){let n=kp(this.fs,"commandes",e);Yx(n).then(()=>console.log("Data deleted!")).catch(r=>console.log(r))}static \u0275fac=function(n){return new(n||t)(Q(Jo))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var ut=class t{authenticatedSubject=new Oe(!1);authenticated$=this.authenticatedSubject.asObservable();constructor(){}toggleAuth(){this.authenticatedSubject.next(!this.authenticatedSubject.value)}getAuthState(){return this.authenticatedSubject.value}fireBaseAuth=k(Uo);user$=KR(this.fireBaseAuth);currentUserSig=Ai(null);register(e,n,r){let i=QR(this.fireBaseAuth,e,r).then(o=>JR(o.user,{displayName:n}));return this.toggleAuth(),Ne(i)}login(e,n){let r=ZR(this.fireBaseAuth,e,n).then(()=>{});return this.toggleAuth(),Ne(r)}getToken(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var Mn=class t{constructor(e,n,r,i){this.cs=e;this.as=n;this.router=r;this.dp=i;this.loadCart()}cartVisibility=new Oe(!1);cartDetails=[];cartDetailsSubject=new Oe(this.cartDetails);cartVisibility$=this.cartVisibility.asObservable();cartDetails$=this.cartDetailsSubject.asObservable();loadCart(){let e=JSON.parse(localStorage.getItem("cartDetails")||"[]");this.cartDetails=e,this.cartDetailsSubject.next(this.cartDetails)}toggleCart(){this.cartVisibility.next(!this.cartVisibility.value)}addToCart(e){let n=this.cartDetails.find(r=>r.product.id===e.product.id);n?n.qte+=e.qte:this.cartDetails.push(e),this.cartDetailsSubject.next(this.cartDetails),localStorage.setItem("cartDetails",JSON.stringify(this.cartDetails))}removeItem(e){let n=this.cartDetails.find(r=>r.product.id===e.product.id);if(n)if(n.qte>1)n.qte-=1;else{let r=this.cartDetails.indexOf(n);this.cartDetails.splice(r,1)}this.cartDetailsSubject.next(this.cartDetails),localStorage.setItem("cartDetails",JSON.stringify(this.cartDetails))}getTotal(){let e=0;for(let n of this.cartDetails)e+=n.product.price*n.qte;return e}validerPanier(){if(!this.as.getAuthState()){console.log("User is not authenticated. Redirecting to login page."),this.router.navigate(["/login"]);return}this.as.user$.subscribe(e=>{if(e){let n=e.uid,r=this.getTotal(),i=this.cartDetails.map(s=>new pf(s.product.id,s.qte)),o=new ff(n,r,this.dp.transform(new Date,"yyyy-MM-dd")||"",i);this.cs.addCommande(n,r,i),console.log("Commande validated and saved successfully."),this.cartDetails=[],this.cartDetailsSubject.next(this.cartDetails),localStorage.removeItem("cartDetails")}})}static \u0275fac=function(n){return new(n||t)(Q(Va),Q(ut),Q(bt),Q(Us))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var mH=t=>["/product/detail",t],Lp=class t{constructor(e){this.cs=e}produit;quantity=1;Available=!1;ngOnInit(){this.Available=this.produit.stock>0}addToPanier(){if(this.produit){let e=new Zs(this.produit,this.quantity);this.cs.addToCart(e),alert(`${this.produit.title} added to cart!`)}}getColor(){return this.produit.stock>0?"green":"red"}getState(){return!(this.produit.stock>0)}incrementQuantity(){this.quantity++}decrementQuantity(){this.quantity>1&&this.quantity--}static \u0275fac=function(n){return new(n||t)(F(Mn))};static \u0275cmp=Le({type:t,selectors:[["app-product-item"]],inputs:{produit:"produit"},standalone:!0,features:[Ue],decls:32,vars:11,consts:[[1,"product-item"],[1,"badge","bg-success","position-absolute","m-3"],["href","#",1,"btn-wishlist"],["width","24","height","24"],[0,"xlink","href","#heart"],["title","Product Title",3,"routerLink"],[1,"tab-image",3,"src"],[1,"qty"],[1,"rating"],["width","24","height","24",1,"text-primary"],[0,"xlink","href","#star-solid"],[1,"price"],[1,"d-flex","align-items-center","justify-content-between"],[1,"input-group","product-qty"],[1,"input-group-btn"],["type","button","data-type","minus",1,"quantity-left-minus","btn","btn-danger","btn-number",3,"click"],["width","16","height","16"],[0,"xlink","href","#minus"],["type","text","id","quantity","name","quantity","value","1",1,"form-control","input-number",3,"ngModelChange","ngModel"],["type","button","data-type","plus",1,"quantity-right-plus","btn","btn-success","btn-number",3,"click"],[0,"xlink","href","#plus"],[1,"btn","btn-primary",2,"margin-left","5px","height","40px","width","100px","white-space","nowrap",3,"click","disabled"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"span",1),P(2),S(),E(3,"a",2),Ae(),E(4,"svg",3),B(5,"use",4),S()(),Ge(),E(6,"figure")(7,"a",5),B(8,"img",6),S()(),E(9,"h3"),P(10),S(),E(11,"span",7),P(12),S(),E(13,"span",8),Ae(),E(14,"svg",9),B(15,"use",10),S(),P(16),S(),Ge(),E(17,"span",11),P(18),S(),E(19,"div",12)(20,"div",13)(21,"span",14)(22,"button",15),pe("click",function(){return r.decrementQuantity()}),Ae(),E(23,"svg",16),B(24,"use",17),S()()(),Ge(),E(25,"input",18),qt("ngModelChange",function(o){return Zt(r.quantity,o)||(r.quantity=o),o}),S(),E(26,"span",14)(27,"button",19),pe("click",function(){return r.incrementQuantity()}),Ae(),E(28,"svg",16),B(29,"use",20),S()()()(),Ge(),E(30,"button",21),pe("click",function(){return r.addToPanier()}),P(31," Add to Cart "),S()()()),n&2&&(H(2),wt("-",r.produit==null?null:r.produit.discountPercentage,"%"),H(5),ye("routerLink",qT(9,mH,r.produit==null?null:r.produit.id)),H(),ye("src",r.produit==null?null:r.produit.thumbnail,Rc),H(2),et(r.produit==null?null:r.produit.title),H(2),wt("",r.produit==null?null:r.produit.stock," Unit"),H(4),wt(" ",r.produit==null?null:r.produit.rating," "),H(2),et(r.produit==null?null:r.produit.price),H(7),Ht("ngModel",r.quantity),H(5),ye("disabled",r.getState()))},dependencies:[It,hr,Xt,Sn,Gn,Ys]})};var xn=class t{constructor(e){this.http=e}searchQuerySubject=new Oe("");categorySubject=new Oe("");searchQuery$=this.searchQuerySubject.asObservable();category$=this.categorySubject.asObservable();getAllProducts(){return this.http.get("https://dummyjson.com/products")}getAllCats(){return this.http.get("https://dummyjson.com/products/category-list")}getProductBycategory(e){return this.http.get(`https://dummyjson.com/products/category/${e}`)}getProductBykey(e){return this.http.get(`https://dummyjson.com/products/search?q=${e}`)}getProductById(e){return this.http.get(`https://dummyjson.com/products/${e}`)}setSearchQuery(e){this.searchQuerySubject.next(e)}setCategory(e){this.categorySubject.next(e)}static \u0275fac=function(n){return new(n||t)(Q(uv))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function gH(t,e){if(t&1&&(E(0,"div",32),B(1,"app-product-item",33),S()),t&2){let n=e.$implicit;H(),ye("produit",n)}}var jp=class t{constructor(e){this.ps=e}products=[];searchQuery="";category="";ngOnInit(){this.getAllProducts(),this.ps.searchQuery$.subscribe(e=>{this.searchQuery=e,this.filterProducts()}),this.ps.category$.subscribe(e=>{this.category=e,this.filterProducts()})}getAllProducts(){this.ps.getAllProducts().subscribe(e=>{this.products=e.products})}filterProducts(){this.searchQuery?this.category&&this.category!=="All Categories"?this.ps.getProductBykey(this.searchQuery).subscribe(e=>{this.products=e.products.filter(n=>n.category===this.category)}):this.ps.getProductBykey(this.searchQuery).subscribe(e=>{this.products=e.products}):this.category&&this.category!=="All Categories"?this.ps.getProductBycategory(this.category).subscribe(e=>{this.products=e.products}):this.getAllProducts()}static \u0275fac=function(n){return new(n||t)(F(xn))};static \u0275cmp=Le({type:t,selectors:[["app-list-product"]],standalone:!0,features:[Ue],decls:34,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["xmlns","http://www.w3.org/2000/svg","id","link","viewBox","0 0 24 24"],["fill","currentColor","d","M12 19a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm5 0a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm0-4a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm-5 0a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm7-12h-1V2a1 1 0 0 0-2 0v1H8V2a1 1 0 0 0-2 0v1H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3Zm1 17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-9h16Zm0-11H4V6a1 1 0 0 1 1-1h1v1a1 1 0 0 0 2 0V5h8v1a1 1 0 0 0 2 0V5h1a1 1 0 0 1 1 1ZM7 15a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm0 4a1 1 0 1 0-1-1a1 1 0 0 0 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","arrow-right","viewBox","0 0 24 24"],["fill","currentColor","d","M17.92 11.62a1 1 0 0 0-.21-.33l-5-5a1 1 0 0 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l5-5a1 1 0 0 0 .21-.33a1 1 0 0 0 0-.76Z"],["xmlns","http://www.w3.org/2000/svg","id","category","viewBox","0 0 24 24"],["fill","currentColor","d","M19 5.5h-6.28l-.32-1a3 3 0 0 0-2.84-2H5a3 3 0 0 0-3 3v13a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-10a3 3 0 0 0-3-3Zm1 13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-13a1 1 0 0 1 1-1h4.56a1 1 0 0 1 .95.68l.54 1.64a1 1 0 0 0 .95.68h7a1 1 0 0 1 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","calendar","viewBox","0 0 24 24"],["fill","currentColor","d","M19 4h-2V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3Zm1 15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-7h16Zm0-9H4V7a1 1 0 0 1 1-1h2v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h2a1 1 0 0 1 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","heart","viewBox","0 0 24 24"],["fill","currentColor","d","M20.16 4.61A6.27 6.27 0 0 0 12 4a6.27 6.27 0 0 0-8.16 9.48l7.45 7.45a1 1 0 0 0 1.42 0l7.45-7.45a6.27 6.27 0 0 0 0-8.87Zm-1.41 7.46L12 18.81l-6.75-6.74a4.28 4.28 0 0 1 3-7.3a4.25 4.25 0 0 1 3 1.25a1 1 0 0 0 1.42 0a4.27 4.27 0 0 1 6 6.05Z"],["xmlns","http://www.w3.org/2000/svg","id","plus","viewBox","0 0 24 24"],["fill","currentColor","d","M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2Z"],["xmlns","http://www.w3.org/2000/svg","id","minus","viewBox","0 0 24 24"],["fill","currentColor","d","M19 11H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2Z"],["xmlns","http://www.w3.org/2000/svg","id","cart","viewBox","0 0 24 24"],["fill","currentColor","d","M8.5 19a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 8.5 19ZM19 16H7a1 1 0 0 1 0-2h8.491a3.013 3.013 0 0 0 2.885-2.176l1.585-5.55A1 1 0 0 0 19 5H6.74a3.007 3.007 0 0 0-2.82-2H3a1 1 0 0 0 0 2h.921a1.005 1.005 0 0 1 .962.725l.155.545v.005l1.641 5.742A3 3 0 0 0 7 18h12a1 1 0 0 0 0-2Zm-1.326-9l-1.22 4.274a1.005 1.005 0 0 1-.963.726H8.754l-.255-.892L7.326 7ZM16.5 19a1.5 1.5 0 1 0 1.5 1.5a1.5 1.5 0 0 0-1.5-1.5Z"],["xmlns","http://www.w3.org/2000/svg","id","check","viewBox","0 0 24 24"],["fill","currentColor","d","M18.71 7.21a1 1 0 0 0-1.42 0l-7.45 7.46l-3.13-3.14A1 1 0 1 0 5.29 13l3.84 3.84a1 1 0 0 0 1.42 0l8.16-8.16a1 1 0 0 0 0-1.47Z"],["xmlns","http://www.w3.org/2000/svg","id","trash","viewBox","0 0 24 24"],["fill","currentColor","d","M10 18a1 1 0 0 0 1-1v-6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1ZM20 6h-4V5a3 3 0 0 0-3-3h-2a3 3 0 0 0-3 3v1H4a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2ZM10 5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1h-4Zm7 14a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8h10Zm-3-1a1 1 0 0 0 1-1v-6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","star-outline","viewBox","0 0 15 15"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","d","M7.5 9.804L5.337 11l.413-2.533L4 6.674l2.418-.37L7.5 4l1.082 2.304l2.418.37l-1.75 1.793L9.663 11L7.5 9.804Z"],["xmlns","http://www.w3.org/2000/svg","id","star-solid","viewBox","0 0 15 15"],["fill","currentColor","d","M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"],["xmlns","http://www.w3.org/2000/svg","id","search","viewBox","0 0 24 24"],["fill","currentColor","d","M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"],["xmlns","http://www.w3.org/2000/svg","id","user","viewBox","0 0 24 24"],["fill","currentColor","d","M15.71 12.71a6 6 0 1 0-7.42 0a10 10 0 0 0-6.22 8.18a1 1 0 0 0 2 .22a8 8 0 0 1 15.9 0a1 1 0 0 0 1 .89h.11a1 1 0 0 0 .88-1.1a10 10 0 0 0-6.25-8.19ZM12 12a4 4 0 1 1 4-4a4 4 0 0 1-4 4Z"],["xmlns","http://www.w3.org/2000/svg","id","close","viewBox","0 0 15 15"],[1,"product-grid","row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5",2,"margin-left","15px","margin-right","15px"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"produit"]],template:function(n,r){n&1&&(Ae(),E(0,"svg",0)(1,"defs")(2,"symbol",1),B(3,"path",2),S(),E(4,"symbol",3),B(5,"path",4),S(),E(6,"symbol",5),B(7,"path",6),S(),E(8,"symbol",7),B(9,"path",8),S(),E(10,"symbol",9),B(11,"path",10),S(),E(12,"symbol",11),B(13,"path",12),S(),E(14,"symbol",13),B(15,"path",14),S(),E(16,"symbol",15),B(17,"path",16),S(),E(18,"symbol",17),B(19,"path",18),S(),E(20,"symbol",19),B(21,"path",20),S(),E(22,"symbol",21),B(23,"path",22),S(),E(24,"symbol",23),B(25,"path",24),S(),E(26,"symbol",25),B(27,"path",26),S(),E(28,"symbol",27),B(29,"path",28),S(),E(30,"symbol",29),B(31,"path",24),S()()(),Ge(),E(32,"div",30),je(33,gH,2,1,"div",31),S()),n&2&&(H(33),ye("ngForOf",r.products))},dependencies:[Lp,It,ar]})};var Up=class t{constructor(e,n){this.as=e;this.router=n}storageKey="comments";commentsSubject=new Oe(this.getCommentsFromLocalStorage());comments$=this.commentsSubject.asObservable();getCommentsByProductId(e){return this.commentsSubject.value.filter(n=>n.productId===e)}addComment(e){if(this.as.getAuthState()){let r=this.commentsSubject.value;r.push(e),this.commentsSubject.next(r),this.saveCommentsToLocalStorage(r),console.log("Comment added:",e)}else this.router.navigate(["/login"])}getCommentsFromLocalStorage(){let e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}saveCommentsToLocalStorage(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}static \u0275fac=function(n){return new(n||t)(Q(ut),Q(bt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var tN=()=>[1,2,3,4,5],vH=(t,e)=>({"text-yellow-300":t,"text-gray-300 dark:text-gray-500":e}),_H=(t,e)=>({"text-yellow-300":t,"text-gray-300":e});function wH(t,e){if(t&1&&(hh(0),Ae(),E(1,"svg",16),B(2,"path",17),S(),fh()),t&2){let n=e.index,r=Xe().$implicit;H(),ye("ngClass",Hy(1,vH,n<r.rating,n>=r.rating))}}function IH(t,e){if(t&1&&(E(0,"article",6)(1,"div",7),B(2,"img",8),E(3,"div",9)(4,"div",10)(5,"p"),P(6),E(7,"time",11),or(8,"date"),P(9),or(10,"date"),S()()(),E(11,"div",12),je(12,wH,3,4,"ng-container",13),S(),E(13,"h3",14),P(14),S(),E(15,"footer",15)(16,"p"),P(17,"Reviewed on "),E(18,"time"),or(19,"date"),P(20),or(21,"date"),S()()()()()()),t&2){let n=e.$implicit;H(6),wt("",n.userName," "),H(),jr("datetime",Ur(8,7,n.createdAt,"yyyy-MM-ddTHH:mm:ss")),H(2),wt(" ",Ur(10,10,n.createdAt,"MMMM yyyy")," "),H(3),ye("ngForOf",$y(19,tN)),H(2),et(n.comment),H(4),jr("datetime",Ur(19,13,n.createdAt,"yyyy-MM-ddTHH:mm:ss")),H(2),et(Ur(21,16,n.createdAt,"longDate"))}}function EH(t,e){if(t&1){let n=Pt();hh(0),Ae(),E(1,"svg",24),pe("click",function(){let i=Ye(n).$implicit,o=Xe(2);return Ze(o.onStarClick(i))}),B(2,"path",17),S(),fh()}if(t&2){let n,r=e.$implicit,i=Xe(2);H(),ye("ngClass",Hy(1,_H,r<=((n=i.reviewForm.get("rating"))==null?null:n.value),r>((n=i.reviewForm.get("rating"))==null?null:n.value)))}}function bH(t,e){if(t&1){let n=Pt();E(0,"div",18)(1,"form",19),pe("ngSubmit",function(){Ye(n);let i=Xe();return Ze(i.submitForm())}),E(2,"label",20),P(3,"Rating"),S(),E(4,"div",21),je(5,EH,3,4,"ng-container",13),S(),E(6,"label",20),P(7,"Comment"),S(),B(8,"textarea",22),E(9,"button",23),P(10," Submit Review "),S()()()}if(t&2){let n=Xe();H(),ye("formGroup",n.reviewForm),H(4),ye("ngForOf",$y(3,tN)),H(4),ye("disabled",!n.reviewForm.valid)}}var Bp=class t{constructor(e,n,r,i,o){this.commentService=e;this.route=n;this.fb=r;this.as=i;this.router=o;this.reviewForm=this.fb.group({rating:[5,ea.required],comment:["",[ea.required,ea.minLength(5)]]})}productId;comments=[];showReviewForm=!1;reviewForm;commentsSubscription;ngOnInit(){this.productId&&(this.loadComments(),this.commentsSubscription=this.commentService.comments$.subscribe(e=>{console.log("Comments from service:",e),this.comments=this.commentService.getCommentsByProductId(this.productId),console.log("Filtered comments:",this.comments)}))}loadComments(){this.comments=this.commentService.getCommentsByProductId(this.productId)}openReviewForm(){this.as.getAuthState()?this.showReviewForm=!0:this.router.navigate(["/login"])}onStarClick(e){this.reviewForm.get("rating")?.setValue(e)}submitForm(){if(this.as.getAuthState()){let n={id:this.comments.length+1,productId:this.productId,userName:this.as.currentUserSig().userName,comment:this.reviewForm.get("comment")?.value,rating:this.reviewForm.get("rating")?.value,createdAt:new Date};this.commentService.addComment(n),this.reviewForm.reset(),this.showReviewForm=!1}else this.router.navigate(["/login"])}ngOnDestroy(){this.commentsSubscription&&this.commentsSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(F(Up),F(zn),F(y1),F(ut),F(bt))};static \u0275cmp=Le({type:t,selectors:[["app-comment"]],inputs:{productId:"productId"},standalone:!0,features:[Ue],decls:7,vars:2,consts:[["href",Mc`https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css`,"rel","stylesheet"],[1,"p-4","bg-white",2,"margin-left","50px","margin-right","50px"],["class","border-b last:border-0 pb-4 mb-4",4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-center",2,"margin-bottom","20px"],[1,"px-4","py-2","bg-blue-500","text-white","font-medium","rounded-lg","hover:bg-blue-600","focus:outline-none","focus:ring-4","focus:ring-blue-300","dark:bg-blue-700","dark:hover:bg-blue-800","dark:focus:ring-blue-900",3,"click"],["class","mt-6 flex justify-center",4,"ngIf"],[1,"border-b","last:border-0","pb-4","mb-4"],[1,"flex","items-start","mb-4"],["src","/path/to/default-avatar.jpg","alt","User Profile Picture",1,"w-10","h-10","rounded-full","mr-3"],[1,"flex-1"],[1,"font-medium","dark:text-white"],[1,"block","text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","mb-1"],[4,"ngFor","ngForOf"],[1,"text-sm","font-semibold","text-gray-900","dark:text-white"],[1,"mt-2","text-xs","text-gray-500","dark:text-gray-400"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 22 20",1,"w-4","h-4",3,"ngClass"],["d","M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"],[1,"mt-6","flex","justify-center"],[1,"max-w-md","w-full","p-4","border","rounded-lg","bg-gray-50","dark:bg-gray-800",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"flex","mb-4"],["formControlName","comment","rows","4",1,"mt-1","mb-4","block","w-full","py-2","px-3","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["type","submit",1,"px-4","py-2","bg-green-500","text-white","font-medium","rounded-lg","hover:bg-green-600","focus:outline-none","focus:ring-4","focus:ring-green-300","dark:bg-green-700","dark:hover:bg-green-800","dark:focus:ring-green-900",3,"disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 22 20",1,"w-6","h-6","cursor-pointer",3,"click","ngClass"]],template:function(n,r){n&1&&(B(0,"link",0),E(1,"div",1),je(2,IH,22,20,"article",2),S(),E(3,"div",3)(4,"button",4),pe("click",function(){return r.openReviewForm()}),P(5," Add Review "),S()(),je(6,bH,11,4,"div",5)),n&2&&(H(2),ye("ngForOf",r.comments),H(4),ye("ngIf",r.showReviewForm))},dependencies:[It,_S,ar,cr,Us,v1,Bi,Xt,Sn,Ui,p_,m_],encapsulation:2})};var $p=class t{constructor(e,n,r){this.ps=e;this.route=n;this.cs=r}produit;productId;quantity=1;ngOnInit(){this.route.paramMap.subscribe(e=>{this.productId=+e.get("id"),this.getProduct()})}getProduct(){this.ps.getProductById(this.productId).subscribe(e=>{this.produit=e})}addToPanier(){if(this.produit){let e=new Zs(this.produit,this.quantity);this.cs.addToCart(e),alert(`${this.produit.title} added to cart!`)}}static \u0275fac=function(n){return new(n||t)(F(xn),F(zn),F(Mn))};static \u0275cmp=Le({type:t,selectors:[["app-product-detail"]],standalone:!0,features:[Ue],decls:27,vars:9,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["xmlns","http://www.w3.org/2000/svg","id","star-solid","viewBox","0 0 15 15"],["fill","currentColor","d","M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"],[1,"container","px-4","px-lg-5"],[1,"row","gx-4","gx-lg-5","align-items-center"],[1,"col-md-5"],[1,"card-img-top","mb-5","mb-md-0",3,"src","alt"],[1,"col-md-6",2,"margin-left","15px"],[1,"display-5","fw-bolder"],[1,"fs-5","mb-5"],["width","24","height","24",1,"text-primary"],[0,"xlink","href","#star-solid"],[1,"price","text-primary",2,"margin-left","15px"],[1,"lead"],[1,"d-flex"],["id","inputQuantity","type","number",1,"form-control","text-center","me-3",2,"max-width","3rem",3,"ngModelChange","ngModel","min"],["type","button",1,"btn","btn-success","flex-shrink-0",3,"click"],[1,"bi-cart-fill","me-1"],[3,"productId"]],template:function(n,r){if(n&1&&(Ae(),E(0,"svg",0)(1,"defs")(2,"symbol",1),B(3,"path",2),S()()(),Ge(),E(4,"section")(5,"div",3)(6,"div",4)(7,"div",5),B(8,"img",6),S(),E(9,"div",7)(10,"h1",8),P(11),S(),E(12,"div",9)(13,"span"),Ae(),E(14,"svg",10),B(15,"use",11),S(),P(16),S(),Ge(),E(17,"span",12),P(18),S()(),E(19,"p",13),P(20),S(),E(21,"div",14)(22,"input",15),qt("ngModelChange",function(o){return Zt(r.quantity,o)||(r.quantity=o),o}),S(),E(23,"button",16),pe("click",function(){return r.addToPanier()}),B(24,"i",17),P(25," Add to cart "),S()()()()(),B(26,"app-comment",18),S()),n&2){let i;H(8),Uy("alt",r.produit==null?null:r.produit.title),ye("src",r.produit==null?null:r.produit.thumbnail,Rc),H(3),et(r.produit==null?null:r.produit.title),H(5),wt(" ",r.produit==null?null:r.produit.rating," "),H(2),wt("",r.produit==null?null:r.produit.price," $"),H(2),et(r.produit==null?null:r.produit.description),H(2),Ht("ngModel",r.quantity),ye("min",1),H(4),ye("productId",(i=r.productId)!==null&&i!==void 0?i:0)}},dependencies:[hr,Xt,f_,Sn,g_,Gn,Bp]})};function DH(t,e){if(t&1){let n=Pt();E(0,"tr",6),pe("click",function(){let i=Ye(n).$implicit,o=Xe();return Ze(o.showDetails(i))}),E(1,"td"),P(2),S(),E(3,"td"),P(4),or(5,"number"),S(),E(6,"td"),P(7),S()()}if(t&2){let n=e.$implicit;H(2),et(n.id),H(2),et(Ur(5,3,n.montant,"1.2-2")),H(3),et(n.dateCommande)}}function CH(t,e){if(t&1&&(E(0,"li"),P(1),or(2,"async"),S()),t&2){let n=e.$implicit,r=Xe(2);H(),By(" Product : ",KT(2,2,r.productNameMap.get(n.productid)),", Quantity: ",n.qte," ")}}function TH(t,e){if(t&1){let n=Pt();E(0,"div",7)(1,"div",8)(2,"h2",9),P(3,"Order Details"),S(),E(4,"h3",10),P(5,"Products in this order:"),S(),E(6,"ul"),je(7,CH,3,4,"li",11),S(),E(8,"button",12),pe("click",function(){Ye(n);let i=Xe();return Ze(i.closeDetails())}),P(9,"Close"),S()()()}if(t&2){let n=Xe();H(7),ye("ngForOf",n.selectedCommande.details)}}var Hp=class t{constructor(e,n){this.commandeService=e;this.ps=n}commandes=[];selectedCommande=null;productNameMap=new Map;ngOnInit(){this.loadOrders()}loadOrders(){this.commandeService.getAllCommandes().subscribe(e=>{this.commandes=e})}showDetails(e){this.selectedCommande=e,this.loadProductNames()}closeDetails(){this.selectedCommande=null}loadProductNames(){if(this.selectedCommande){this.productNameMap.clear();for(let e of this.selectedCommande.details){let n=e.productid;this.productNameMap.set(n,this.fetchProductName(n))}}}fetchProductName(e){return new Promise(n=>{this.ps.getProductById(e).subscribe(r=>{n(r.title)})})}static \u0275fac=function(n){return new(n||t)(F(Va),F(xn))};static \u0275cmp=Le({type:t,selectors:[["app-orders"]],standalone:!0,features:[Ue],decls:16,vars:2,consts:[["href",Mc`https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css`,"rel","stylesheet"],["href",Mc`https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.0/flowbite.min.css`,"rel","stylesheet"],[1,"container","mt-5"],["id","search-table",1,"table","table-striped"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],["class","fixed inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-gray-700","bg-opacity-50"],[1,"bg-white","p-5","rounded","shadow-lg","w-96"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-lg","mb-4"],[4,"ngFor","ngForOf"],[1,"mt-4","p-2","bg-red-500","text-white","rounded",3,"click"]],template:function(n,r){n&1&&(P(0,"!"),B(1,"link",0)(2,"link",1),E(3,"div",2)(4,"table",3)(5,"thead")(6,"tr")(7,"th"),P(8,"Order ID"),S(),E(9,"th"),P(10,"Total Amount"),S(),E(11,"th"),P(12,"Date"),S()()(),E(13,"tbody"),je(14,DH,8,6,"tr",4),S()()(),je(15,TH,10,1,"div",5)),n&2&&(H(14),ye("ngForOf",r.commandes),H(),ye("ngIf",r.selectedCommande))},dependencies:[It,ar,cr,wS,Ah]})};function SH(t,e){if(t&1&&(E(0,"div",3),P(1),S()),t&2){let n=Xe();H(),et(n.errorMess)}}var qp=class t{constructor(e,n){this.as=e;this.r=n}email="";password="";errorMess=null;register(){this.email&&this.password?this.as.login(this.email,this.password).subscribe({next:()=>{this.r.navigateByUrl("/home")},error:e=>{this.errorMess=e.code}}):alert("Registration failed. Please fill all fields.")}static \u0275fac=function(n){return new(n||t)(F(ut),F(bt))};static \u0275cmp=Le({type:t,selectors:[["app-sign-in"]],standalone:!0,features:[Ue],decls:29,vars:3,consts:[["f","ngForm"],[1,"container"],[1,"auth-form",3,"ngSubmit"],[1,"error-message"],["data-mdb-input-init","",1,"form-outline","mb-4"],["for","form2Example1",1,"form-label"],["type","email","id","form2Example1","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","form2Example2",1,"form-label"],["type","password","id","form2Example2","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-4"],[1,"col","d-flex","justify-content-center"],[1,"form-check"],["type","checkbox","value","","id","form2Example31","checked","",1,"form-check-input"],["for","form2Example31",1,"form-check-label"],[1,"col"],["href","#!"],[2,"display","flex","justify-content","center"],["type","submit",1,"btn","btn-primary","btn-block","mb-4"],[1,"text-center"],["routerLink","/sign-up"]],template:function(n,r){if(n&1){let i=Pt();E(0,"div",1)(1,"form",2,0),pe("ngSubmit",function(){return Ye(i),Ze(r.register())}),je(3,SH,2,1,"div",3),E(4,"div",4)(5,"label",5),P(6,"Email address"),S(),E(7,"input",6),qt("ngModelChange",function(s){return Ye(i),Zt(r.email,s)||(r.email=s),Ze(s)}),S()(),E(8,"div",4)(9,"label",7),P(10,"Password"),S(),E(11,"input",8),qt("ngModelChange",function(s){return Ye(i),Zt(r.password,s)||(r.password=s),Ze(s)}),S()(),E(12,"div",9)(13,"div",10)(14,"div",11),B(15,"input",12),E(16,"label",13),P(17," Remember me "),S()()(),E(18,"div",14)(19,"a",15),P(20,"Forgot password?"),S()()(),E(21,"div",16)(22,"button",17),P(23,"Sign in"),S()(),E(24,"div",18)(25,"p"),P(26,"Not a member? "),E(27,"a",19),P(28,"Register"),S()()()()()}n&2&&(H(3),dh(r.errorMess?3:-1),H(4),Ht("ngModel",r.email),H(4),Ht("ngModel",r.password))},dependencies:[hr,Bi,Xt,Sn,Ui,pu,Gn,Mo,Ys],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f8f9fa;max-width:100%}.auth-form[_ngcontent-%COMP%]{width:400px;padding:20px;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:8px}.form-outline[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:45px;border-color:#ced4da}.form-outline[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:14px;color:#495057}.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;font-size:14px}.error-message[_ngcontent-%COMP%]{color:red;background-color:#f8d7da;border:1px solid #f5c2c7;padding:10px;border-radius:4px;margin-bottom:15px;font-size:14px;text-align:center}"]})};var zp=class t{constructor(e,n){this.authService=e;this.router=n}canActivate(e,n){return this.authService.getAuthState()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(n){return new(n||t)(Q(ut),Q(bt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function AH(t,e){if(t&1&&(E(0,"div",3),P(1),S()),t&2){let n=Xe();H(),et(n.errorMess)}}var Gp=class t{constructor(e,n){this.as=e;this.r=n}email="";userName="";password="";errorMess=null;register(){this.email&&this.userName&&this.password?this.as.register(this.email,this.userName,this.password).subscribe({next:()=>{this.r.navigateByUrl("/home")},error:e=>{this.errorMess=e.code}}):alert("Registration failed. Please fill all fields.")}static \u0275fac=function(n){return new(n||t)(F(ut),F(bt))};static \u0275cmp=Le({type:t,selectors:[["app-sign-up"]],standalone:!0,features:[Ue],decls:24,vars:4,consts:[["f","ngForm"],[1,"container"],[1,"auth-form",3,"ngSubmit"],[1,"error-message"],["data-mdb-input-init","",1,"form-outline","mb-4"],["for","form2Example1",1,"form-label"],["type","email","id","form2Example1","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","form2Example3",1,"form-label"],["type","text","id","form2Example3","name","userName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","form2Example2",1,"form-label"],["type","password","id","form2Example2","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-4"],[1,"col","d-flex","justify-content-center"],[1,"form-check"],["type","checkbox","value","","id","form2Example31","checked","",1,"form-check-input"],["for","form2Example31",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","mb-4"]],template:function(n,r){if(n&1){let i=Pt();E(0,"div",1)(1,"form",2,0),pe("ngSubmit",function(){return Ye(i),Ze(r.register())}),je(3,AH,2,1,"div",3),E(4,"div",4)(5,"label",5),P(6,"Email address"),S(),E(7,"input",6),qt("ngModelChange",function(s){return Ye(i),Zt(r.email,s)||(r.email=s),Ze(s)}),S()(),E(8,"div",4)(9,"label",7),P(10,"User Name"),S(),E(11,"input",8),qt("ngModelChange",function(s){return Ye(i),Zt(r.userName,s)||(r.userName=s),Ze(s)}),S()(),E(12,"div",4)(13,"label",9),P(14,"Password"),S(),E(15,"input",10),qt("ngModelChange",function(s){return Ye(i),Zt(r.password,s)||(r.password=s),Ze(s)}),S()(),E(16,"div",11)(17,"div",12)(18,"div",13),B(19,"input",14),E(20,"label",15),P(21," Remember me "),S()()()(),E(22,"button",16),P(23,"Register"),S()()()}n&2&&(H(3),dh(r.errorMess?3:-1),H(4),Ht("ngModel",r.email),H(4),Ht("ngModel",r.userName),H(4),Ht("ngModel",r.password))},dependencies:[hr,Bi,Xt,Sn,Ui,pu,Gn,Mo],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f8f9fa;max-width:100%}.auth-form[_ngcontent-%COMP%]{width:400px;padding:20px;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:8px}.form-outline[_ngcontent-%COMP%]{position:relative}.form-control[_ngcontent-%COMP%]{padding:10px;border:1px solid #ced4da;border-radius:4px;transition:border-color .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}.form-label[_ngcontent-%COMP%]{font-size:14px;margin-bottom:5px;color:#6c757d}.form-check-input[_ngcontent-%COMP%]{margin-top:.3rem}.form-check-label[_ngcontent-%COMP%]{margin-left:5px;font-size:14px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;padding:10px 20px;border-radius:4px;width:100%;font-size:16px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-link[_ngcontent-%COMP%]{color:#007bff;font-size:20px;transition:color .3s ease}.btn-link[_ngcontent-%COMP%]:hover{color:#0056b3}.text-center[_ngcontent-%COMP%]{margin-top:20px}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:10px;max-width:90%}}.error-message[_ngcontent-%COMP%]{color:red;background-color:#f8d7da;border:1px solid #f5c2c7;padding:10px;border-radius:4px;margin-bottom:15px;font-size:14px;text-align:center}"]})};var nN=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:jp},{path:"product/detail/:id",component:$p},{path:"orders",component:Hp,canActivate:[zp]},{path:"login",component:qp},{path:"sign-up",component:Gp}];var RH={apiKey:"AIzaSyBCuzVw8DQihbmLvRgi_5VSrsNZ6yGs5pw",authDomain:"shopfer-19be5.firebaseapp.com",projectId:"shopfer-19be5",storageBucket:"shopfer-19be5.appspot.com",messagingSenderId:"606811884047",appId:"1:606811884047:web:33a572072271edc35fb17a"},rN={providers:[PA(nN),ZS(),xn,Mn,US(),ut,W1(()=>K1(RH)),WR(()=>YR()),Wx(()=>Jx()),Us]};function MH(t,e){if(t&1&&(E(0,"option",10),P(1),S()),t&2){let n=e.$implicit;ye("value",n),H(),wt(" ",n," ")}}var Wp=class t{constructor(e){this.ps=e}searchQuery="";category="All Categories";categories=[];ngOnInit(){this.getAllCats(),this.ps.searchQuery$.pipe(uc(300)).subscribe(e=>{this.searchQuery=e}),this.ps.category$.pipe(uc(300)).subscribe(e=>{this.category=e})}getAllCats(){this.ps.getAllCats().subscribe(e=>{this.categories=e}),this.ps.searchQuery$.pipe(uc(300)).subscribe(e=>{this.searchQuery=e})}onSearch(){return this.ps.setSearchQuery(this.searchQuery),!1}onChange(){return this.ps.setCategory(this.category),!1}static \u0275fac=function(n){return new(n||t)(F(xn))};static \u0275cmp=Le({type:t,selectors:[["app-search-bar"]],standalone:!0,features:[Ue],decls:12,vars:3,consts:[[1,"search-bar","row","bg-light","p-2","my-2","rounded-4"],[1,"col-md-4","d-none","d-md-block"],[1,"form-select","border-0","bg-transparent",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-11","col-md-7"],["id","search-form","method","post",1,"text-center",3,"ngSubmit"],["name","search","type","text","placeholder","Search for what you want",1,"form-control","border-0","bg-transparent",3,"ngModelChange","input","ngModel"],[1,"col-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","currentColor","d","M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"],[3,"value"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"select",2),qt("ngModelChange",function(o){return Zt(r.category,o)||(r.category=o),o}),pe("change",function(){return r.onChange()}),E(3,"option"),P(4,"All Categories"),S(),je(5,MH,2,2,"option",3),S()(),E(6,"div",4)(7,"form",5),pe("ngSubmit",function(){return r.onSearch()}),E(8,"input",6),qt("ngModelChange",function(o){return Zt(r.searchQuery,o)||(r.searchQuery=o),o}),pe("input",function(){return r.onSearch()}),S()()(),E(9,"div",7),Ae(),E(10,"svg",8),B(11,"path",9),S()()()),n&2&&(H(2),Ht("ngModel",r.category),H(3),ye("ngForOf",r.categories),H(3),Ht("ngModel",r.searchQuery))},dependencies:[It,ar,hr,Bi,h1,p1,Xt,hf,Sn,Ui,Gn,Mo]})};function xH(t,e){if(t&1){let n=Pt();E(0,"li",14)(1,"div")(2,"h6",15),P(3),S(),E(4,"small",16),P(5),S()(),E(6,"div")(7,"span",17),P(8),S(),Ae(),E(9,"svg",18),pe("click",function(){let i=Ye(n).$implicit,o=Xe(2);return Ze(o.removeItem(i))}),B(10,"path",19)(11,"path",20)(12,"path",21)(13,"path",22),S()()()}if(t&2){let n=e.$implicit;H(3),et(n.product.title),H(2),wt("$ ",n.product.price,""),H(3),et(n.qte)}}function NH(t,e){if(t&1){let n=Pt();E(0,"div",1)(1,"div",2)(2,"h5",3),P(3,"Your Cart"),S(),E(4,"button",4),pe("click",function(){Ye(n);let i=Xe();return Ze(i.toggleCart())}),S()(),E(5,"div",5)(6,"div",6)(7,"h4",7)(8,"span",8),P(9,"Your cart"),S(),E(10,"span",9),P(11),S()(),E(12,"ul",10),je(13,xH,14,3,"li",11),E(14,"li",12)(15,"span"),P(16,"Total (USD)"),S(),E(17,"strong"),P(18),or(19,"number"),S()()(),E(20,"button",13),pe("click",function(){Ye(n);let i=Xe();return Ze(i.valider())}),P(21,"Continue to checkout"),S()()()()}if(t&2){let n=Xe();H(11),et(n.cartDetails.length),H(2),ye("ngForOf",n.cartDetails),H(5),wt("$ ",Ur(19,3,n.totalPrice,"1.2-2"),"")}}var Kp=class t{constructor(e){this.cs=e}isVisible=!0;cartDetails=[];totalPrice=0;ngOnInit(){this.cs.cartVisibility$.subscribe(e=>{this.isVisible=e}),this.cs.cartDetails$.subscribe(e=>{this.cartDetails=e,this.totalPrice=this.cs.getTotal()})}toggleCart(){this.cs.toggleCart()}valider(){this.cs.validerPanier()}removeItem(e){this.cs.removeItem(e)}static \u0275fac=function(n){return new(n||t)(F(Mn))};static \u0275cmp=Le({type:t,selectors:[["app-cart"]],standalone:!0,features:[Ue],decls:1,vars:1,consts:[["style","margin-left: 75px; margin-right: 75px; margin-top: 25px;",4,"ngIf"],[2,"margin-left","75px","margin-right","75px","margin-top","25px"],[1,"offcanvas-header","justify-content-center"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",2,"margin-left","10px",3,"click"],[1,"offcanvas-body"],[1,"order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"badge","bg-primary","rounded-pill"],[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-sm",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],["type","button",1,"w-100","btn","btn-primary","btn-lg",3,"click"],[1,"list-group-item","d-flex","justify-content-between","lh-sm"],[1,"my-0"],[1,"text-body-secondary"],[1,"text-body-secondary",2,"margin-right","15px"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",2,"cursor","pointer",3,"click"],["d","M3 6h18","stroke","#000","stroke-width","2","stroke-linecap","round"],["d","M8 6V4h8v2","stroke","#000","stroke-width","2","stroke-linecap","round"],["d","M5 6h14l-1 14H6L5 6z","stroke","#000","stroke-width","2","stroke-linejoin","round","fill","none"],["d","M10 11v5M14 11v5","stroke","#000","stroke-width","2","stroke-linecap","round"]],template:function(n,r){n&1&&je(0,NH,22,6,"div",0),n&2&&ye("ngIf",r.isVisible)},dependencies:[It,ar,cr,Ah]})};function PH(t,e){t&1&&(E(0,"button",50),P(1," Log in "),S())}function OH(t,e){if(t&1){let n=Pt();E(0,"button",51),pe("click",function(){Ye(n);let i=Xe();return Ze(i.toggleAuth())}),P(1," Log out "),S()}}var Qp=class t{constructor(e,n){this.cs=e;this.authService=n}Authenticated=!1;ngOnInit(){this.authService.authenticated$.subscribe(e=>{this.Authenticated=e})}toggleCart(){this.cs.toggleCart()}toggleAuth(){this.authService.toggleAuth()}static \u0275fac=function(n){return new(n||t)(F(Mn),F(ut))};static \u0275cmp=Le({type:t,selectors:[["app-header"]],standalone:!0,features:[Ue],decls:84,vars:2,consts:[["loggedIn",""],[1,"container-fluid"],[1,"row","py-3","border-bottom"],[1,"col-sm-4","col-lg-3","text-center","text-sm-start"],[1,"main-logo",2,"display","flex","align-items","center","margin-left","10px"],["href","#"],["src","images/logo.png","alt","logo",1,"img-fluid","ml-4"],[1,"fw-bold","mb-0","ms-2",2,"font-family","'Roboto', sans-serif","color","#3cc374"],[1,"col-sm-6","offset-sm-2","offset-md-0","col-lg-5","d-none","d-lg-block"],[1,"col-sm-8","col-lg-4","d-flex","justify-content-end","gap-5","align-items-center","mt-4","mt-sm-0","justify-content-center","justify-content-sm-end"],[1,"d-flex","justify-content-end","list-unstyled","m-0"],["routerLink","profile",1,"rounded-circle","bg-light","p-2","mx-1"],["width","24","height","24","viewBox","0 0 24 24"],[0,"xlink","href","#user"],["href","#",1,"rounded-circle","bg-light","p-2","mx-1"],[0,"xlink","href","#heart"],[1,"d-lg-none"],["href","#","data-bs-toggle","offcanvas","data-bs-target","#offcanvasCart","aria-controls","offcanvasCart",1,"rounded-circle","bg-light","p-2","mx-1"],[0,"xlink","href","#cart"],["href","#","data-bs-toggle","offcanvas","data-bs-target","#offcanvasSearch","aria-controls","offcanvasSearch",1,"rounded-circle","bg-light","p-2","mx-1"],[0,"xlink","href","#search"],[1,"cart","text-end","d-none","d-lg-block","dropdown"],["routerLink","login","class","btn btn-dark","style","margin-right:5px ;",4,"ngIf","ngIfElse"],[1,"btn","btn-primary",3,"click"],[1,"row","py-3"],[1,"d-flex","justify-content-center","justify-content-sm-between","align-items-center"],[1,"main-menu","d-flex","navbar","navbar-expand-lg"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header","justify-content-center"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"filter-categories","border-0","mb-0","me-5"],[1,"navbar-nav","justify-content-end","menu-list","list-unstyled","d-flex","gap-md-3","mb-0"],[1,"nav-item","active"],["href","#women",1,"nav-link"],[1,"nav-item","dropdown"],["href","#men",1,"nav-link"],[1,"nav-item"],["href","#kids",1,"nav-link"],["href","#accessories",1,"nav-link"],["role","button","id","pages","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","pages",1,"dropdown-menu"],["routerLink","about",1,"dropdown-item"],["routerLink","orders",1,"dropdown-item"],["routerLink","myAccount",1,"dropdown-item"],["href","#brand",1,"nav-link"],["href","#sale",1,"nav-link"],["href","#blog",1,"nav-link"],["routerLink","login",1,"btn","btn-dark",2,"margin-right","5px"],[1,"btn","btn-dark",2,"margin-right","5px",3,"click"]],template:function(n,r){if(n&1){let i=Pt();E(0,"header")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),B(6,"img",6),S(),E(7,"h2",7),P(8,"SHOPFER"),S()()(),E(9,"div",8),B(10,"app-search-bar"),S(),E(11,"div",9)(12,"ul",10)(13,"li")(14,"a",11),Ae(),E(15,"svg",12),B(16,"use",13),S()()(),Ge(),E(17,"li")(18,"a",14),Ae(),E(19,"svg",12),B(20,"use",15),S()()(),Ge(),E(21,"li",16)(22,"a",17),Ae(),E(23,"svg",12),B(24,"use",18),S()()(),Ge(),E(25,"li",16)(26,"a",19),Ae(),E(27,"svg",12),B(28,"use",20),S()()()(),Ge(),E(29,"div",21),je(30,PH,2,0,"button",22)(31,OH,2,0,"ng-template",null,0,YT),E(33,"button",23),pe("click",function(){return Ye(i),Ze(r.toggleCart())}),P(34," Show Cart "),S()()(),B(35,"app-cart"),S()(),E(36,"div",1)(37,"div",24)(38,"div",25)(39,"nav",26)(40,"button",27),B(41,"span",28),S(),E(42,"div",29)(43,"div",30),B(44,"button",31),S(),E(45,"div",32)(46,"select",33)(47,"option"),P(48,"Shop by Departments"),S()(),E(49,"ul",34)(50,"li",35)(51,"a",36),P(52,"Women"),S()(),E(53,"li",37)(54,"a",38),P(55,"Men"),S()(),E(56,"li",39)(57,"a",40),P(58,"Kids"),S()(),E(59,"li",39)(60,"a",41),P(61,"Accessories"),S()(),E(62,"li",37)(63,"a",42),P(64,"Pages"),S(),E(65,"ul",43)(66,"li")(67,"a",44),P(68,"About"),S()(),E(69,"li")(70,"a",45),P(71,"My Orders"),S()(),E(72,"li")(73,"a",46),P(74,"My Account"),S()()()(),E(75,"li",39)(76,"a",47),P(77,"Brand"),S()(),E(78,"li",39)(79,"a",48),P(80,"Sale"),S()(),E(81,"li",39)(82,"a",49),P(83,"Blog"),S()()()()()()()()()()}if(n&2){let i=BT(32);H(30),ye("ngIf",!r.Authenticated)("ngIfElse",i)}},dependencies:[Wp,Kp,Ys,It,cr]})};var Yp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Le({type:t,selectors:[["app-footer"]],standalone:!0,features:[Ue],decls:113,vars:0,consts:[[1,"py-5"],[1,"container-fluid"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"footer-menu"],["src","images/logo.png","alt","logo",2,"margin-left","100px"],[1,"social-links","mt-5"],[1,"d-flex","list-unstyled","gap-2"],["href","#",1,"btn","btn-outline-light"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24"],["fill","currentColor","d","M15.12 5.32H17V2.14A26.11 26.11 0 0 0 14.26 2c-2.72 0-4.58 1.66-4.58 4.7v2.62H6.61v3.56h3.07V22h3.68v-9.12h3.06l.46-3.56h-3.52V7.05c0-1.05.28-1.73 1.76-1.73Z"],["fill","currentColor","d","M22.991 3.95a1 1 0 0 0-1.51-.86a7.48 7.48 0 0 1-1.874.794a5.152 5.152 0 0 0-3.374-1.242a5.232 5.232 0 0 0-5.223 5.063a11.032 11.032 0 0 1-6.814-3.924a1.012 1.012 0 0 0-.857-.365a.999.999 0 0 0-.785.5a5.276 5.276 0 0 0-.242 4.769l-.002.001a1.041 1.041 0 0 0-.496.89a3.042 3.042 0 0 0 .027.439a5.185 5.185 0 0 0 1.568 3.312a.998.998 0 0 0-.066.77a5.204 5.204 0 0 0 2.362 2.922a7.465 7.465 0 0 1-3.59.448A1 1 0 0 0 1.45 19.3a12.942 12.942 0 0 0 7.01 2.061a12.788 12.788 0 0 0 12.465-9.363a12.822 12.822 0 0 0 .535-3.646l-.001-.2a5.77 5.77 0 0 0 1.532-4.202Zm-3.306 3.212a.995.995 0 0 0-.234.702c.01.165.009.331.009.488a10.824 10.824 0 0 1-.454 3.08a10.685 10.685 0 0 1-10.546 7.93a10.938 10.938 0 0 1-2.55-.301a9.48 9.48 0 0 0 2.942-1.564a1 1 0 0 0-.602-1.786a3.208 3.208 0 0 1-2.214-.935q.224-.042.445-.105a1 1 0 0 0-.08-1.943a3.198 3.198 0 0 1-2.25-1.726a5.3 5.3 0 0 0 .545.046a1.02 1.02 0 0 0 .984-.696a1 1 0 0 0-.4-1.137a3.196 3.196 0 0 1-1.425-2.673c0-.066.002-.133.006-.198a13.014 13.014 0 0 0 8.21 3.48a1.02 1.02 0 0 0 .817-.36a1 1 0 0 0 .206-.867a3.157 3.157 0 0 1-.087-.729a3.23 3.23 0 0 1 3.226-3.226a3.184 3.184 0 0 1 2.345 1.02a.993.993 0 0 0 .921.298a9.27 9.27 0 0 0 1.212-.322a6.681 6.681 0 0 1-1.026 1.524Z"],["fill","currentColor","d","M23 9.71a8.5 8.5 0 0 0-.91-4.13a2.92 2.92 0 0 0-1.72-1A78.36 78.36 0 0 0 12 4.27a78.45 78.45 0 0 0-8.34.3a2.87 2.87 0 0 0-1.46.74c-.9.83-1 2.25-1.1 3.45a48.29 48.29 0 0 0 0 6.48a9.55 9.55 0 0 0 .3 2a3.14 3.14 0 0 0 .71 1.36a2.86 2.86 0 0 0 1.49.78a45.18 45.18 0 0 0 6.5.33c3.5.05 6.57 0 10.2-.28a2.88 2.88 0 0 0 1.53-.78a2.49 2.49 0 0 0 .61-1a10.58 10.58 0 0 0 .52-3.4c.04-.56.04-3.94.04-4.54ZM9.74 14.85V8.66l5.92 3.11c-1.66.92-3.85 1.96-5.92 3.08Z"],["fill","currentColor","d","M17.34 5.46a1.2 1.2 0 1 0 1.2 1.2a1.2 1.2 0 0 0-1.2-1.2Zm4.6 2.42a7.59 7.59 0 0 0-.46-2.43a4.94 4.94 0 0 0-1.16-1.77a4.7 4.7 0 0 0-1.77-1.15a7.3 7.3 0 0 0-2.43-.47C15.06 2 14.72 2 12 2s-3.06 0-4.12.06a7.3 7.3 0 0 0-2.43.47a4.78 4.78 0 0 0-1.77 1.15a4.7 4.7 0 0 0-1.15 1.77a7.3 7.3 0 0 0-.47 2.43C2 8.94 2 9.28 2 12s0 3.06.06 4.12a7.3 7.3 0 0 0 .47 2.43a4.7 4.7 0 0 0 1.15 1.77a4.78 4.78 0 0 0 1.77 1.15a7.3 7.3 0 0 0 2.43.47C8.94 22 9.28 22 12 22s3.06 0 4.12-.06a7.3 7.3 0 0 0 2.43-.47a4.7 4.7 0 0 0 1.77-1.15a4.85 4.85 0 0 0 1.16-1.77a7.59 7.59 0 0 0 .46-2.43c0-1.06.06-1.4.06-4.12s0-3.06-.06-4.12ZM20.14 16a5.61 5.61 0 0 1-.34 1.86a3.06 3.06 0 0 1-.75 1.15a3.19 3.19 0 0 1-1.15.75a5.61 5.61 0 0 1-1.86.34c-1 .05-1.37.06-4 .06s-3 0-4-.06a5.73 5.73 0 0 1-1.94-.3a3.27 3.27 0 0 1-1.1-.75a3 3 0 0 1-.74-1.15a5.54 5.54 0 0 1-.4-1.9c0-1-.06-1.37-.06-4s0-3 .06-4a5.54 5.54 0 0 1 .35-1.9A3 3 0 0 1 5 5a3.14 3.14 0 0 1 1.1-.8A5.73 5.73 0 0 1 8 3.86c1 0 1.37-.06 4-.06s3 0 4 .06a5.61 5.61 0 0 1 1.86.34a3.06 3.06 0 0 1 1.19.8a3.06 3.06 0 0 1 .75 1.1a5.61 5.61 0 0 1 .34 1.9c.05 1 .06 1.37.06 4s-.01 3-.06 4ZM12 6.87A5.13 5.13 0 1 0 17.14 12A5.12 5.12 0 0 0 12 6.87Zm0 8.46A3.33 3.33 0 1 1 15.33 12A3.33 3.33 0 0 1 12 15.33Z"],["fill","currentColor","d","M1.04 17.52q.1-.16.32-.02a21.308 21.308 0 0 0 10.88 2.9a21.524 21.524 0 0 0 7.74-1.46q.1-.04.29-.12t.27-.12a.356.356 0 0 1 .47.12q.17.24-.11.44q-.36.26-.92.6a14.99 14.99 0 0 1-3.84 1.58A16.175 16.175 0 0 1 12 22a16.017 16.017 0 0 1-5.9-1.09a16.246 16.246 0 0 1-4.98-3.07a.273.273 0 0 1-.12-.2a.215.215 0 0 1 .04-.12Zm6.02-5.7a4.036 4.036 0 0 1 .68-2.36A4.197 4.197 0 0 1 9.6 7.98a10.063 10.063 0 0 1 2.66-.66q.54-.06 1.76-.16v-.34a3.562 3.562 0 0 0-.28-1.72a1.5 1.5 0 0 0-1.32-.6h-.16a2.189 2.189 0 0 0-1.14.42a1.64 1.64 0 0 0-.62 1a.508.508 0 0 1-.4.46L7.8 6.1q-.34-.08-.34-.36a.587.587 0 0 1 .02-.14a3.834 3.834 0 0 1 1.67-2.64A6.268 6.268 0 0 1 12.26 2h.5a5.054 5.054 0 0 1 3.56 1.18a3.81 3.81 0 0 1 .37.43a3.875 3.875 0 0 1 .27.41a2.098 2.098 0 0 1 .18.52q.08.34.12.47a2.856 2.856 0 0 1 .06.56q.02.43.02.51v4.84a2.868 2.868 0 0 0 .15.95a2.475 2.475 0 0 0 .29.62q.14.19.46.61a.599.599 0 0 1 .12.32a.346.346 0 0 1-.16.28q-1.66 1.44-1.8 1.56a.557.557 0 0 1-.58.04q-.28-.24-.49-.46t-.3-.32a4.466 4.466 0 0 1-.29-.39q-.2-.29-.28-.39a4.91 4.91 0 0 1-2.2 1.52a6.038 6.038 0 0 1-1.68.2a3.505 3.505 0 0 1-2.53-.95a3.553 3.553 0 0 1-.99-2.69Zm3.44-.4a1.895 1.895 0 0 0 .39 1.25a1.294 1.294 0 0 0 1.05.47a1.022 1.022 0 0 0 .17-.02a1.022 1.022 0 0 1 .15-.02a2.033 2.033 0 0 0 1.3-1.08a3.13 3.13 0 0 0 .33-.83a3.8 3.8 0 0 0 .12-.73q.01-.28.01-.92v-.5a7.287 7.287 0 0 0-1.76.16a2.144 2.144 0 0 0-1.76 2.22Zm8.4 6.44a.626.626 0 0 1 .12-.16a3.14 3.14 0 0 1 .96-.46a6.52 6.52 0 0 1 1.48-.22a1.195 1.195 0 0 1 .38.02q.9.08 1.08.3a.655.655 0 0 1 .08.36v.14a4.56 4.56 0 0 1-.38 1.65a3.84 3.84 0 0 1-1.06 1.53a.302.302 0 0 1-.18.08a.177.177 0 0 1-.08-.02q-.12-.06-.06-.22a7.632 7.632 0 0 0 .74-2.42a.513.513 0 0 0-.08-.32q-.2-.24-1.12-.24q-.34 0-.8.04q-.5.06-.92.12a.232.232 0 0 1-.16-.04a.065.065 0 0 1-.02-.08a.153.153 0 0 1 .02-.06Z"],[1,"col-md-2","col-sm-6"],[1,"widget-title"],[1,"menu-list","list-unstyled"],[1,"menu-item"],["href","#",1,"nav-link"],["role","newsletter",1,"d-flex","mt-3","gap-0"],["type","email","placeholder","Email Address","aria-label","Email Address",1,"form-control","rounded-start","rounded-0","bg-light"],["type","submit",1,"btn","btn-dark","rounded-end","rounded-0"],["id","footer-bottom"],[1,"col-md-6","copyright"]],template:function(n,r){n&1&&(E(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),B(5,"img",5),E(6,"div",6)(7,"ul",7)(8,"li")(9,"a",8),Ae(),E(10,"svg",9),B(11,"path",10),S()()(),Ge(),E(12,"li")(13,"a",8),Ae(),E(14,"svg",9),B(15,"path",11),S()()(),Ge(),E(16,"li")(17,"a",8),Ae(),E(18,"svg",9),B(19,"path",12),S()()(),Ge(),E(20,"li")(21,"a",8),Ae(),E(22,"svg",9),B(23,"path",13),S()()(),Ge(),E(24,"li")(25,"a",8),Ae(),E(26,"svg",9),B(27,"path",14),S()()()()()()(),Ge(),E(28,"div",15)(29,"div",4)(30,"h5",16),P(31,"Ultras"),S(),E(32,"ul",17)(33,"li",18)(34,"a",19),P(35,"About us"),S()(),E(36,"li",18)(37,"a",19),P(38,"Conditions "),S()(),E(39,"li",18)(40,"a",19),P(41,"Our Journals"),S()(),E(42,"li",18)(43,"a",19),P(44,"Careers"),S()(),E(45,"li",18)(46,"a",19),P(47,"Affiliate Programme"),S()(),E(48,"li",18)(49,"a",19),P(50,"Ultras Press"),S()()()()(),E(51,"div",15)(52,"div",4)(53,"h5",16),P(54,"Customer Service"),S(),E(55,"ul",17)(56,"li",18)(57,"a",19),P(58,"FAQ"),S()(),E(59,"li",18)(60,"a",19),P(61,"Contact"),S()(),E(62,"li",18)(63,"a",19),P(64,"Privacy Policy"),S()(),E(65,"li",18)(66,"a",19),P(67,"Returns & Refunds"),S()(),E(68,"li",18)(69,"a",19),P(70,"Cookie Guidelines"),S()(),E(71,"li",18)(72,"a",19),P(73,"Delivery Information"),S()()()()(),E(74,"div",15)(75,"div",4)(76,"h5",16),P(77,"Customer Service"),S(),E(78,"ul",17)(79,"li",18)(80,"a",19),P(81,"FAQ"),S()(),E(82,"li",18)(83,"a",19),P(84,"Contact"),S()(),E(85,"li",18)(86,"a",19),P(87,"Privacy Policy"),S()(),E(88,"li",18)(89,"a",19),P(90,"Returns & Refunds"),S()(),E(91,"li",18)(92,"a",19),P(93,"Cookie Guidelines"),S()(),E(94,"li",18)(95,"a",19),P(96,"Delivery Information"),S()()()()(),E(97,"div",3)(98,"div",4)(99,"h5",16),P(100,"Subscribe Us"),S(),E(101,"p"),P(102,"Subscribe to our newsletter to get updates about our grand offers."),S(),E(103,"form",20),B(104,"input",21),E(105,"button",22),P(106,"Subscribe"),S()()()()()()(),E(107,"div",23)(108,"div",1)(109,"div",2)(110,"div",24)(111,"p"),P(112,"\xA9 2024 SHOPFER. All rights reserved."),S()()()()())}})};function kH(t,e){t&1&&B(0,"app-header")}function FH(t,e){t&1&&B(0,"app-footer")}var Zp=class t{constructor(e,n){this.router=e;this.as=n;this.router.events.subscribe(r=>{this.showNavbar=!(this.router.url.includes("/login")||this.router.url.includes("/sign-up"))})}title="shopfer";showNavbar=!0;ngOnInit(){this.as.user$.subscribe(e=>{e?this.as.currentUserSig.set({email:e.email,userName:e.userName}):this.as.currentUserSig.set(null)})}static \u0275fac=function(n){return new(n||t)(F(bt),F(ut))};static \u0275cmp=Le({type:t,selectors:[["app-root"]],standalone:!0,features:[Ue],decls:13,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["xmlns","http://www.w3.org/2000/svg","id","cart","viewBox","0 0 24 24"],["fill","currentColor","d","M8.5 19a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 8.5 19ZM19 16H7a1 1 0 0 1 0-2h8.491a3.013 3.013 0 0 0 2.885-2.176l1.585-5.55A1 1 0 0 0 19 5H6.74a3.007 3.007 0 0 0-2.82-2H3a1 1 0 0 0 0 2h.921a1.005 1.005 0 0 1 .962.725l.155.545v.005l1.641 5.742A3 3 0 0 0 7 18h12a1 1 0 0 0 0-2Zm-1.326-9l-1.22 4.274a1.005 1.005 0 0 1-.963.726H8.754l-.255-.892L7.326 7ZM16.5 19a1.5 1.5 0 1 0 1.5 1.5a1.5 1.5 0 0 0-1.5-1.5Z"],["xmlns","http://www.w3.org/2000/svg","id","search","viewBox","0 0 24 24"],["fill","currentColor","d","M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"],["xmlns","http://www.w3.org/2000/svg","id","user","viewBox","0 0 24 24"],["fill","currentColor","d","M15.71 12.71a6 6 0 1 0-7.42 0a10 10 0 0 0-6.22 8.18a1 1 0 0 0 2 .22a8 8 0 0 1 15.9 0a1 1 0 0 0 1 .89h.11a1 1 0 0 0 .88-1.1a10 10 0 0 0-6.25-8.19ZM12 12a4 4 0 1 1 4-4a4 4 0 0 1-4 4Z"],["xmlns","http://www.w3.org/2000/svg","id","close","viewBox","0 0 15 15"],["fill","currentColor","d","M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"],[4,"ngIf"]],template:function(n,r){n&1&&(Ae(),E(0,"svg",0)(1,"defs")(2,"symbol",1),B(3,"path",2),S(),E(4,"symbol",3),B(5,"path",4),S(),E(6,"symbol",5),B(7,"path",6),S(),E(8,"symbol",7),B(9,"path",8),S()()(),je(10,kH,1,0,"app-header",9),Ge(),B(11,"router-outlet"),je(12,FH,1,0,"app-footer",9)),n&2&&(H(10),ye("ngIf",r.showNavbar),H(2),ye("ngIf",r.showNavbar))},dependencies:[Zv,Qp,Yp,It,cr]})};QS(Zp,rN).catch(t=>console.error(t));
